/*https://web.agile-labs.com/minZIP/*//*version=3.9.1*/function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,i,r=[],o=!0,l=!1;try{for(a=a.call(e);!(o=(n=a.next()).done)&&(r.push(n.value),!t||r.length!==t);o=!0);}catch(s){l=!0,i=s}finally{try{o||null==a["return"]||a["return"]()}finally{if(l)throw i}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _typeof(e){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(a),!0).forEach(function(t){_defineProperty(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var traceSplitChar="♦",traceSplitStr="♦♦",NewTree=new Array,arrCheckedFilter=new Array,loadPop,isSqlPagination,parafilterfix={},isDepsProcessed=!0,formSubmited=!1,strTimeTaken="",arrcheckedvalues=new Array,timePickerSec=!1,accordionHeight=0,firstTimeScroll=!0,windowResizer,beforeResizeHeight="",ivirColumnTypeObj="",ivirDataTableApi,ivirDatatable,isChkBox="",rowTypeExist=!1,gl_language="",validateParamOnGo=!1,isPlDepParBound=!1,iframeindex=-1,HeaderText,ColumnType,FieldName,HideColumn,HideColumnLength,filteredColumns,hiddenColumnIndex,ivComps,ivHeadRows,ivExportHF,ivActions={},ivScripts={},ivHyperlinks,ivConfigurations,ivSmartViewSettings,ivDatas=[],tstFields=[],ivTemplates=[],ivColDesignJSON=[],initAdvFilters=!0,isPerf=!1,tableWidth=0,visibleTableWidth=0,minCellWidth=15,listViewCheckBoxSize=40,responsiveColumnWidth=!1,containsDefaultWidth=!1,variableColumnWidth=!1,configNavProp="default",enableCardsUi=!1,isMobile=!1,cardTemplatingHTML="",rowRefreshIndex=undefined,isCheckedRowRefresh=!1,lazyBinding=!1,submittedOnLoad=!1,showColumnSeparator=!0,stripedReport=!0,pdfExportAllLanguageSupport=!1,enableListviewExtraHyperlinks=!1,actionCallFlag=Math.random(),actionCallbackFlag=actionCallFlag,classicView=!1,recordsExist=!1,trimIviewData=!0,resolveAttachmentPath=!1,viewNavigationData=[],cellHeaderConf={},bulkDownloadEnabled=!0,toolbarHTML="",exportType="",scrollBarWidths=5,loadViewName="",toolbarPinArr=[],popupContentcall=!1,firstTimeParams="",openFilters=!1,viewLoadedColumns=!1,viewLoadedSort=!1,searchHiddenColumnsInReports=!1,unselectReportRowOnAction=!0,showChartsWithAllRecords=!1,isChartCreationOnLoad=!1,rowOptionsExist=!1,openFastReportInNewWindow=!1,splitRatio="1:1:auto",tstFldsRequested=!1,paramValuesArray=[],exportPerf=!1,pivotCreated=!1,dtColumns=[],currView="",isLnkClicked=!1,multipleCachedPages=!1,dtInitalising=!1,dtInitCompleted=!1,axhideselectallmulti=!1,actClickselXML="",subtoaltColor="",grandtoaltColor="",ivFreezeColumn=[],ivCurrentRows="";function DeleteIviewCacheFiles(){try{ASB.WebService.DeleteIviewCacheFiles(iName)}catch(e){}}function SetLnkClick(){isLnkClicked=!0}function dvToolBarFix(){""==$j("#dvToolbar").text()||null==$j("#dvToolbar").text()||$j("#dvToolbar").text()==undefined?$j("#dvToolbar").parent().css("display","none"):$j("#dvToolbar").parent().css("display","inline-block"),""!=$j("#FilterValues").text()&&null!=$j("#FilterValues").text()&&$j("#FilterValues").text()!=undefined||$j("#dvSelectedFilters").css("display","none")}function delay(e,t){var a=0;return function(){var n=this,i=arguments;clearTimeout(a),a=setTimeout(function(){e.apply(n,i)},t||0)}}function pageLoad(e,t){var a;if(""!=$("#hdnbElapsTimeGo").val()){var n=$("#hdnbElapsTimeGo").val();requestProcess_logtime=n.split("♠")[1],serverprocesstime=n.split("♠")[0],WireElapsTime(serverprocesstime,requestProcess_logtime,!0)}else WireElapsTime(serverprocesstime,requestProcess_logtime);showParam=!0;try{pageLoadIvHook()}catch(g){}if("undefined"==typeof appGlobalVarsObject&&(appGlobalVarsObject=callParentNew("appGlobalVarsObject")),(isMobile=isMobileDevice())&&$("body").addClass("isMobile"),enableCardsUi=enableCardsUi||isMobile,requestJSON&&$("body").addClass("requestJSON"),"border"==inputControlType&&$("body").addClass("borderInput"),exportType=redisLoadType,enableListviewExtraHyperlinks="true"==(null===(a=callParentNew("enableListviewExtraHyperlinks","id"))||void 0===a?void 0:a.value),constructToolbar(),$(".animationLoading").show(),$("#dvSqlPages").show(),$("#nextPrevBtns").hide(),"undefined"!=typeof capturedButton1Submit&&1==capturedButton1Submit)return capturedButton1Submit=!1,void $("#button1").click();if("undefined"!=typeof totRowCount&&""!=totRowCount&&$("#getIviewRecordCountVal").length>0&&$("#lblNoOfRecs").html(" of "+totRowCount),!$("#tasks").parent("li").hasClass("dropdown-submenu")){$("#tasks").html(callParentNew("lcm")[407]+" <span class='menu-arrow'></span>").prop({title:callParentNew("lcm")[407]});try{var i;null===(i=KTMenu)||void 0===i||i.init()}catch(w){}}$(".print").prop({title:callParentNew("lcm")[408]}).text(callParentNew("lcm")[408]),requestJSON&&"old"!=iviewButtonStyle?$("#ivInSearchInput").attr({placeholder:callParentNew("lcm")[287]}):$("#ivInSearchInput").attr({placeholder:callParentNew("lcm")[415]});try{ivVarNode="undefined"!=typeof ivVarNode&&ivVarNode?ivVarNode:""}catch(w){ivVarNode=""}var r,o,l,s,c=ivVarNode;if(""!=c)try{if(c){createIvir(c);try{nxtScrollSize=ivDatas.length,defaultRecsPerPage=100,dtTotalRecords=getDtRecordCount(),checkIfNextDBRowsExist(!0)}catch(g){console.log(g.message)}}else showParamsPlaceholder(),checkIfNextDBRowsExist(!0)}catch(b){}else showParamsPlaceholder(),checkIfNextDBRowsExist(!0);if(!ivConfigurations&&"undefined"!=typeof globalIvConfigurations&&globalIvConfigurations)try{processIvConfiguration(ivConfigurations=globalIvConfigurations.configurations.config.length==undefined?[globalIvConfigurations.configurations.config]:globalIvConfigurations.configurations.config)}catch(g){}"Iview"!=document.title&&"Listview"!=document.title||0==$("table#GridView1").length||""!=ivirColumnTypeObj&&($("table#GridView1").removeAttr("cellspacing rules border style"),$("table#GridView1").addClass("table table-row-bordered ms-0 ivirMainGrid "),(stripedReport||"true"==(null===(r=appGlobalVarsObject)||void 0===r?void 0:null===(o=r._CONSTANTS)||void 0===o?void 0:null===(l=o.window)||void 0===l?void 0:null===(s=l.getSessionValue)||void 0===s?void 0:s.call(l,"AxShowStripedReport")))&&$("table#GridView1").addClass("table-striped"),$("#ivContainer").addClass("interactiveReport"),$(".iviewTableWrapper").addClass("interactiveReportWrapper"),requestJSON&&"old"!=iviewButtonStyle&&$(".iviewTableWrapper").addClass("iviewTableWrapperNew"));if(requestJSON&&"modern"==iviewButtonStyle&&$("body").addClass("modernButtonOptions"),$("#Filterscollapse").on("shown.bs.collapse",function(){$("#myFilters").removeClass("disabled"),$("#searchBar").find(".ccolapsee").removeClass("glyphicon-plus icon-arrows-plus").addClass("glyphicon-minus icon-arrows-minus"),$("#accordion").addClass("shadow").css({top:"".concat($(".toolbar").outerHeight(!0),"px")})}).on("hidden.bs.collapse",function(){$("#myFilters").removeClass("disabled"),$("#searchBar").find(".ccolapsee").removeClass("glyphicon-minus icon-arrows-minus").addClass("glyphicon-plus icon-arrows-plus"),$("#accordion").addClass("shadow").css({top:"".concat($(".toolbar").outerHeight(!0),"px")})}),""==ivirColumnTypeObj&&($("#Filterscollapse").off("show.bs.collapse").off("hide.bs.collapse"),$("#Filterscollapse").on("show.bs.collapse",function(){$("#myFilters").hasClass("disabled")||($("#myFilters").addClass("disabled"),$("#accordion").removeClass("shadow"))}).on("hide.bs.collapse",function(){$("#myFilters").hasClass("disabled")||($("#myFilters").addClass("disabled"),$("#accordion").removeClass("shadow"))})),"Iview"!=document.title&&"Listview"!=document.title||(timePickerSecChecker(),$(window).resize(delay(function(){setSmartViewHeight(),setPinedIconContainerWidth()},100))),$("#lnkPrev").single_double_click(function(e){EnablePageDimmer(e)},function(e){EnablePageDimmer(e)}),$("#lnkNext").single_double_click(function(e){EnablePageDimmer(e)},function(e){EnablePageDimmer(e)}),FocusOnFirstFieldParam(),$("a").keyup(function(e){e.preventDefault(),e.stopPropagation(),13==e.keyCode&&$(this).click()}),$("#nextPrevBtns").is(":visible")||"iview"!=document.title.toLowerCase()?(classicView=!0,$("#chkall").attr("onclick","javascript:CheckAll()"),$("input[name=chkItem]:checkbox").attr("onclick","javascript:ChkHdrCheckbox();")):(classicView=!1,$("#chkall").attr("onclick","javascript:CheckAll()"),$("input[name=chkItem]:checkbox").attr("onclick","javascript:ChkHdrCheckbox();")),$("#recPerPage").click(function(){lastSelRecPerPage=$("#recPerPage option:selected")}),""==ivirColumnTypeObj){scrollCloneHeader();var d=0,p=setInterval(function(){if($(".gridData.clonedHtml thead").is(":visible"))checkHeightOfTable(),clearInterval(p);else{if(d>2e3)return void clearInterval(p);d+=100}},200);submittedOnLoad||"hidden"==$("#hdnIsParaVisible").val()||$(".animationLoading").hide()}else if($(ivirTable).length>0)try{axAttachExternalCustomPlugin(ivDatas,FieldName,HeaderText,ColumnType,HideColumn,isChkBox,filteredColumns,hiddenColumnIndex,ivConfigurations),$(".animationLoading").hide()}catch(g){if(requestJSON){var u=$("#hdnWebServiceViewName").val();u&&(loadViewName=u,$("#viewTabs li a#".concat(loadViewName)).length>0&&($("#viewTabs li a").removeClass("active"),$("#viewTabs li a#".concat(loadViewName)).addClass("active")),$("#hdnWebServiceViewName").val("")),getSavedConditionsNew(loadViewName,mergerSmartviewSettings(ivSmartViewSettings&&!$.isEmptyObject(ivSmartViewSettings)&&JSON.stringify(ivSmartViewSettings)||""))}else getSavedConditions()}else $(".animationLoading").hide();"undefined"!=typeof axAttachExternalCustomPlugin?$("table#GridView1").hide():$("table#GridView1").show();function h(e){$("#idsearch").hasClass("fa-remove")?$("#idsearch").removeClass("fa-remove"):($("#idsearch").addClass("fa-remove"),$("#ivInSearchInput").focus()),e.stopPropagation(),e.preventDefault()}if($("#ivInSearchInput").on("input",delay(function(e){if(void 0===ivirDataTableApi){var t=$(this).val().toLowerCase();$("#GridView1 tbody tr[role=row]").filter(function(){$(this).toggle($(this).text().toLowerCase().indexOf(t)>-1)})}else ivirDataTableApi.search("").columns().search("").draw(),ivirDataTableApi.search($(this).val()).draw()},500)).on("blur",function(e){requestJSON&&"old"!=iviewButtonStyle&&($(e.relatedTarget).is($("#ivInSearchInputButton"))||($(".searchBoxChildContainer").addClass("d-none"),$("#idsearch").removeClass("fa-remove"),$("#idsearch").off("click.searchExpandCollapse"),setTimeout(function(){$("#idsearch").on("click.searchExpandCollapse",h)},500),e.preventDefault(),e.stopPropagation()))}).on("mouseover",function(){$(this).focus()}),requestJSON&&"old"!=iviewButtonStyle&&$("#idsearch").on("click.searchExpandCollapse",h),$("#ivInSearchInputButton").on("click",function(e){e.preventDefault(),e.stopPropagation(),$("#ivInSearchInputButtonLoader").removeClass("d-none"),setTimeout(function(){setTimeout(function(){$("#ivInSearchInput").focus(),getNextDtRecords(0)},0)},100)}),"Iview"!=document.title&&"Listview"!=document.title||(!showParam||recordsExist||dataFetched?($("#accordion").removeClass("shadow"),$("#myFilters").addClass("collapsed").attr("aria-expanded","false"),$("#Filterscollapse").removeClass("in show").attr("aria-expanded","false")):($("#accordion").addClass("shadow").css({top:"".concat($(".toolbar").outerHeight(!0),"px")}),$("#myFilters").removeClass("collapsed").attr("aria-expanded","true"),$("#Filterscollapse").addClass("in show").attr("aria-expanded","true"))),dtInitalising||dotNetSubmit||submittedOnLoad||($("body").removeClass("stay-page-loading"),ShowDimmer(!1),AxWaitCursor(!1)),breadCrumbStr){var m=document.getElementsByClassName("page-caption")[0].innerText;$("#breadcrumb .breadcrumb").length>0&&$("#breadcrumb .breadcrumb").remove(),$("#breadcrumb").append('<ul class="breadcrumb fw-bold fs-base mb-1">\n            <li class="breadcrumb-item text-muted">\n                '.concat(breadCrumbStr.slice(0,breadCrumbStr.length-3),'\n            </li>\n            <li class="breadcrumb-item text-dark">\n                ').concat(m,"\n            </li>\n        </ul>"))}1==requestJSON&&"old"!=iviewButtonStyle&&($("#iconsNew .right").off("click.subMenu",".dropdown-submenu a").on("click.subMenu",".dropdown-submenu a",function(e){var t=$(this).next("ul");$.each($("#iconsUl ul").not(t),function(e,t){$(t).is(":visible")&&$(t).hide()}),$(this).next("ul").toggle(),e.stopPropagation(),e.preventDefault()}),$("#iconsNew .right.dropdown").off("click.menu").on("click.menu",function(e){isMobile&&$(".pinIcon, .iconUIPin").hide(),$(this).hasClass("open")&&$(this).find(".dropdown-submenu ul.dropdown-menu").hide()}),$(".dropdown-submenu").off("click","span.pinIcon, span.iconUIPin").on("click","span.pinIcon, span.iconUIPin",function(e){var t=$(this).parents("li");if($(t).hasClass("pinned")){if($(t).attr("id"))$("#pinned"+$(t).attr("id")).remove(),toolbarPinArr.splice(toolbarPinArr.indexOf($(t).attr("id")),1);else{var a=$(t).children("a").attr("id");$("#pinnediconsUl").find("a#pinned"+a).parent("li").remove(),toolbarPinArr.splice(toolbarPinArr.indexOf(a),1)}$(t).removeClass("pinned"),$(this).attr("title","Pin to taskbar")}else pinItemToTaskbar(t),$(t).attr("id")?toolbarPinArr.push($(t).attr("id")):toolbarPinArr.push($(t).children("a").attr("id")),$(t).addClass("pinned"),$(this).attr("title","Unpin from taskbar");ivirMainViewObj.toolbarPin=_toConsumableArray(new Set(toolbarPinArr)),SaveSmartviewJsonToDb("set",JSON.stringify(ivirMainViewObj),callParentNew("mainUserName"),""),e.stopPropagation(),e.preventDefault()}),$(window).on("resize",function(e){$("#viewTabs li").length&&reAdjust()}),$(".scroller-right").single_double_click(function(e){scrollerRightClick()},function(e){scrollerRightClick()}),$(".scroller-left").single_double_click(function(e){scrollerLeftClick()},function(e){scrollerLeftClick()}));try{createSmartSelect(".trySelect"),createSmartSelectDF(".trySelectDF")}catch(w){}try{createPlSmartSelect(".trySelectPl")}catch(w){}try{createMsSmartSelect(".trySelectMs")}catch(w){}$("#dvSelectedFilters, .tooltiptext").click(function(){$("#Filterscollapse").collapse("toggle")});try{var f,v;null===(f=KTMenu)||void 0===f||f.init(),null===(v=KTApp)||void 0===v||v.initBootstrapTooltips(),HeaderText.includes("axzipfilepath")&&HeaderText.includes("axzipfiles")&&HeaderText.includes("axzipfilename")&&$("#rowsTxtCount").before('<div class="d-flex mx-2"><a id="btnZipDownloadAll" title="Download All" class="btn btn-sm btn-icon btn-active-light-primary shadow-sm " href="Javascript:downloadZipFile();"><i class="material-icons material-icons-style material-icons-2">download</i></a></div>'),$(".axpFilePopOver").off("hidden.bs.popover").on("shown.bs.popover",function(e){var t=$(e.currentTarget).attr("data-bs-content"),a=$("<div>").append(t);$(e.target).parents("body").find(".popover").find(".popover-body").html("").append(a)})}catch(w){}setSmartViewHeight(),""!=$("#hdnbElapsTimeGo").val()&&(GetProcessTime(),GetTotalElapsTime(),$("#hdnbElapsTimeGo").val("")),$("#dvRefreshParamIcon").off("click").on("click",refreshIview),$(".btn.btn-icon").addClass("btn-sm").find(".material-icons").addClass("material-icons-style material-icons-2");try{ivFreezeColumn.length>0&&setTimeout(function(){var e=ivFreezeColumn.lastIndexOf("T");e>-1&&freezeColumn(e,this)},0)}catch(g){}}function BeforeWindowClose(){}function generateParamX(){var e=$("#hdnparamValues").val(),t="",a="";if(void 0!==e&&""!=e){t=e.replace(/¿/g,"♣").split("♣");var n=0;for($("#param").val(""),n=0;n<=t.length-1;n++)if(""!=t[n]){var i=t[n].toString().split("~"),r=CheckSpecialCharsInJson(i[0].toString()),o=CheckSpecialCharsInJson(i[1].toString());o.indexOf("&amp;grave;")>=0&&(o=o.replace(/&amp;grave;/g,"~")),a=a+"<"+r+">",a=(a+=o)+"</"+r+">",o=o.replace(/~/g,"&grave;"),""!=$("#param").val()?$("#param").val($("#param").val()+"~"+r+"♠"+o):$("#param").val(r+"♠"+o)}}return a}function onRecPerPageChange(e){if("0"==$("#recPerPage").val()&&0==allowRecPerPageChange){lastSelRecPerPage.prop("selected",!0);var t="ar"==callParentNew("gllangType"),a=$.confirm({theme:"modern",title:appGlobalVarsObject.lcm[155],onContentReady:function(){disableBackDrop("bind")},backgroundDismiss:"false",rtl:t,escapeKey:"buttonB",content:appGlobalVarsObject.lcm[390],buttons:{buttonA:{text:appGlobalVarsObject.lcm[282],btnClass:"btn btn-primary",action:function(){a.close(),ShowDimmer(!0),$("#recPerPage option[value=0]").prop("selected",!0),allowRecPerPageChange=!0,setTimeout("__doPostBack('recPerPage','')",0)}},buttonB:{text:appGlobalVarsObject.lcm[192],btnClass:"btn btn-bg-light btn-color-danger btn-active-light-danger",action:function(){disableBackDrop("destroy"),allowRecPerPageChange=!1,ShowDimmer(!1)}}}});return allowRecPerPageChange=!1,!1}return setTimeout("__doPostBack('recPerPage','')",0),allowRecPerPageChange=!1,!0}function getIviewRecordCount(){try{""==totRowCount&&$("#getIviewRecordCountVal").length>0&&($("#getIviewRecordCountVal").addClass("fa-spin"),ASB.WebService.GetIviewRecordCount(iName,$j("#hdnparamValues").val(),isListView,function(e,t){if(0==e.indexOf("<totalrows>")){var a=e.indexOf("</totalrows>");a=a>-1?a:e.length,totRowCount=parseInt(e.substring("<totalrows>".length,a),10),$("#lblNoOfRecs").html(" "+totRowCount)}$("#getIviewRecordCountVal").addClass("d-none")},function(e){$("#getIviewRecordCountVal").addClass("d-none")}))}catch(e){$("#getIviewRecordCountVal").addClass("d-none"),console.log(e.message)}}function timePickerSecChecker(){if(0==timePickerSec)for(var e=0;e<parentArr.length;e++)if("string"==typeof Expressions[e]&&""!=Expressions[e]&&"{"==Expressions[e].charAt(0)&&"}"==Expressions[e].charAt(Expressions[e].length-1)&&Expressions[e].indexOf(":")>-1){var t=Expressions[e].slice(1,-1).split(":");t.forEach(function(e,a){isNaN(e)||a!=t.length-1||3!=t.length||(timePickerSec=!0)})}}function checkHeightOfTable(){$("#Filterscollapse").hasClass("in")?($("#searchBar").find(".ccolapsee").addClass("glyphicon-minus icon-arrows-minus"),iviewTableWrapperHeightFix()):($("#searchBar").find(".ccolapsee").addClass("glyphicon-plus icon-arrows-plus"),iviewTableWrapperHeightFix())}function cloneTheGridHeader(e,t){if(e&&0==$(".gridData.clonedHtml").length){var a="<table class='gridData clonedHtml'>";a+="<thead>",a+=$(".gridData thead").html(),a+="</thead>",a+="</table>",$(a).insertBefore($(".gridData"))}"iview"==document.title.toLowerCase()&&$(".iviewTableWrapper .dvContent").css("width","100%"),"list iview"==document.title.toLowerCase()&&$(".iviewTableWrapper .pnlgrid").css("width","100%"),$(".gridData:not('.clonedHtml') thead th").each(function(e,t){var a=$(this).outerWidth();$(".gridData.clonedHtml thead th").eq(e).css({width:a,"max-width":a})});var n=$(".gridData:not('.clonedHtml')").outerWidth();$(".gridData.clonedHtml").css({width:n,"min-width":n}),"iview"==document.title.toLowerCase()&&$(".iviewTableWrapper .dvContent").css("width",n),"list iview"==document.title.toLowerCase()&&$(".iviewTableWrapper .pnlgrid").css("width",n),$(".gridData:not('.clonedHtml') thead").css("visibility","hidden");try{isNaN(parseInt($(".gridData:not('.clonedHtml')").css("top")))}catch(i){}}function scrollCloneHeader(){var e=$j(".iviewTableWrapper"),t=$j(".gridData.clonedHtml");e.scroll(function(){var a,n=$("body").hasClass("btextDir-rtl");if(a=0-e.scrollLeft(),n)if(jQuery.browser.msie){var i=".dvContent";"List IView"==document.title&&(i="#Panel2");var r=e.outerWidth();a=-(r=$j(i).outerWidth()-r)-a}else{i=".dvContent";"List IView"==document.title&&(i="#divLContainer"),$(".iviewTableWrapper").outerHeight()<=$(i).outerHeight()&&(a+=16)}t.css("left",a+"px")})}function FocusOnFirstFieldParam(e){var t,a=!1;$("#Filterscollapse").hasClass("in")?(e==undefined&&(e=0),(t=$j("#myFiltersBody").find(':input[type!="hidden"]:input[type!="submit"],textarea,select').filter(":visible:enabled").eq(e)).hasClass("date")&&""==t.val()?t.length>0&&(t.focus(),a=!0):t.hasClass("date")?FocusOnFirstFieldParam(e+1):t.length>0&&(t.focus(),a=!0)):FocusOnFirstFieldIView();a||FocusOnFirstFieldIView()}function FocusOnFirstFieldIView(){var e;$j(".gridData").length>0&&((e=$j(".gridData").find(':input[type="checkbox"],a').first()).length>0&&e.focus())}function iviewTableWrapperHeightFix(){if($("#accordion").height()>accordionHeight&&(accordionHeight=$("#accordion").height()),""==ivirColumnTypeObj&&!$(".iviewTableWrapper").hasClass("marginSetted")){$(".iviewTableWrapper").addClass("marginSetted");$("#ivCap1").outerHeight(!0);$(".iviewTableWrapper").css({overflow:"auto"})}adjustRecordsHeight()}function adjustRecordsHeight(){try{for(var e=$(".iviewTableWrapper")[0],t=e.offsetTop,a=(e.offsetLeft,e.offsetWidth,e.offsetHeight),n=0;e.offsetParent;)t+=(e=e.offsetParent).offsetTop,e.offsetLeft;t+a>$(window).height()+window.pageYOffset?(n=t+a-($(window).height()+window.pageYOffset),$(".iviewTableWrapper").css("height",$(".iviewTableWrapper").outerHeight()-n+"px")):t+a<=$(window).height()+window.pageYOffset&&(n=$(window).height()+window.pageYOffset-(t+a),$(".iviewTableWrapper").css("height",$(".iviewTableWrapper").outerHeight()+n+"px")),$("#noRecccord").css("height",$(window).height()-t+"px")}catch(i){}}$.fn.filterByData=function(e,t){return void 0===t?this.filter(function(){return void 0!==$(this).data(e)}):this.filter(function(){return $(this).data(e)==t})},$.fn.single_double_click=function(e,t,a){return this.each(function(){var n=0,i=this;$(this).on("click",function(r){1==++n&&setTimeout(function(){1==n?e.call(i,r):t.call(i,r),n=0},a||300)})})},window.onbeforeunload=BeforeWindowClose;var pickStatus=!0,xmlObj;function pickDownn(){var e=$j("#tblPickData tr").length,t="";"-1"==(t=$j("#tblPickData tr.active").index()+1)&&(t=0),$("#tblPickData tr").removeClass("active"),t<e?$("#tblPickData tr:nth-child("+(t+1)+")").addClass("active"):$("#tblPickData tr:nth-child(1)").addClass("active")}function pickUpp(){$j("#tblPickData tr").length;var e="";"0"==(e=$j("#tblPickData tr.active").index()+1)&&(e=1),$j("#tblPickData tr").removeClass("active"),1==e?$("#tblPickData tr:nth-last-child(1)").addClass("active"):$("#tblPickData tr:nth-child("+(e-1)+")").addClass("active")}function SetLnkStyle(){$("#lnkPrev").hover(function(){1==$j(this).hasClass("pickdis")&&$j(this).css("color","gray")}),$("#lnkNext").hover(function(){1==$j(this).hasClass("pickdis")&&$j(this).css("color","gray")})}function CallAssignLoadVals(e,t,a,n){a=void 0!==a?a:"",-1!=e.indexOf(";quot")&&(e=e.replace(new RegExp(";quot","g"),"'")),e=CheckSpCharsInFldValueIview(e),AssignLoadValues(e,t,a,n)}function ScrollToTop(){parent.window.scrollTo(0,0)}function Adjustwin(e){SetLnkStyle()}$(document).ready(function(){var isDisabledSplit="";if(ivConfigurations)try{isDisabledSplit=getCaseInSensitiveJsonProperty(ivConfigurations.filter(function(e,t){var a=getCaseInSensitiveJsonProperty(e,"PROPS");return a&&a.toString()&&"disablesplit"==a.toString().toLowerCase()})[0],["PROPSVAL"]).toString()}catch(ex){}else isDisabledSplit=$("#hdnDisableSplit").val();isMobile||"inmemdb"==iName||isIviewPopup||(isDisabledSplit!=undefined&&"false"==isDisabledSplit.toLowerCase()?($(callParentNew("split-btn","class")).css({display:""}).removeClass("d-none"),$(callParentNew("split-btn-vertical","class")).css({display:""}).removeClass("d-none")):isDisabledSplit!=undefined&&"true"==isDisabledSplit.toLowerCase()?($(callParentNew("splitIcon","id")).addClass("d-none"),$(callParentNew("spiltHeading","class")).addClass("d-none")):isDisabledSplit!=undefined&&""==isDisabledSplit.toLowerCase()&&($(callParentNew("splitIcon","id")).css({display:""}).removeClass("d-none"),$(callParentNew("spiltHeading","class")).css({display:""}).removeClass("d-none"))),$(document).delegate("#myFilters","click",function(){checkSuccessAxpertMsg()}),window.parent.AxIvFilterMinHeader=new Array,"Iview"!=document.title&&"Listview"!=document.title||(GetUserLocale(),AddDatePicker(),AddTimePicker(),$("#hdnparamValues").val().indexOf("¿")>-1&&SetParamValues($("#hdnparamValues").val()),window.opener&&!window.opener.closed&&$j(".backbutton").length>0&&$(".backbutton").children().hide()),"Save As"!=document.title&&load(),"List IView"==document.title?(CallLViewFunctions(),$("#showRecDetails").show(),""==$j("#hdnListViewName").val()&&Adjustwin()):Adjustwin(),"ARABIC"==gl_language?$("#dvRecPerPage").css("float","left"):$("#dvRecPerPage").css("float","right"),history.forward(),"Save As"!=document.title&&"IView Picklist"!=document.title&&SetBackForwardButtonProp(enableForwardButton,enableBackButton);try{AxAfterIviewLoad()}catch(ex){}$(".ddlBtn img.flag").addClass("flagvisibility"),$(".ddlBtn dd ul li a").click(function(){var e=$j(this).html();$j(".ddlBtn dt a span").html(e),$j(".ddlBtn dd ul").hide()}),$("#flagSwitcher").click(function(){$j(".ddlBtn img.flag").toggleClass("flagvisibility")}),"function"==typeof commonReadyTasks&&commonReadyTasks();var ivcRef=callParentNew("ivCmdRefresh");null!=ivcRef&&0!=ivcRef&&(eval(callParent("ivCmdRefresh")+"= ''"),showAlertDialog("success",ivcRef)),"inmemdb"==iName&&($("body").addClass("inmemdb"),$('<div id="inMemChartWrapper"></div>').insertBefore("#ivirMainChartWrapper"),callCharts()),$(document).on("click",".viewtabRemove",function(e){var t=$(this).data("name");$("#"+t).unbind("click"),deleteViewtab(t),e.stopPropagation()}),$(document).on("click",".viewtabEdit",function(e){var t=$(this);t.data("name");newViewTabClick(t)}),$(document).on("click",".lnkViewTab",function(e){var t=$(this).attr("id");if(("viewAddTab"==t||t==window.loadViewName)&&!forceReloadView)return e.preventDefault(),!1;if(forceReloadView=!1,viewLoadedColumns&&ivirshowHideColumns(["!"]),viewLoadedSort&&ivirSortColumns(["!"]),"main"!=t&&requestJSON&&"charts"!=t)loadViewTab($(this).attr("id")),toggleGridView("grid"),window.loadViewName=t;else{if((firstTimeParams||requestJSON&&"main"==t&&isListView)&&requestJSON&&"charts"!=t){if(firstTimeParams)try{var a=firstTimeParams.params.replace(/`/g,"&grave;"),n=firstTimeParams.paramsList||"";n&&(n=JSON.parse(JSON.stringify(n).replace(/&amp;/g,"&"))),""!=a&&a!=undefined&&SetParamValues(a,n)}catch(ex){}if("main"!=t&&"charts"!=t){var i=ivirMainViewObj.views[t];i&&i.chart&&i.chart.length&&i.chart.length>0&&$("#hdnWebServiceViewName").val(t)}"main"==t&&isListView&&($("#hdnLvSelectedCols").val(""),$("#hdnLvSelectedHyperlink").val(""),$("#hdnLvChangedStructure").val("main")),setTimeout(function(){$("#button1").trigger("click")},0),window.loadViewName=t}else{var r,o;if(clearExistingPills(),requestJSON&&"charts"==t&&(ivirMainObj={},ivirMainObj.key="charts",ivirMainObj.chart=getAllCommonCharts()),requestJSON&&"main"==t&&(ivirMainObj={}),createPillsOnLoad(),t)null===(r=$(".nav-tabs a[id="+t+"]"))||void 0===r||null===(o=r.tab)||void 0===o||o.call(r,"show");scrollToActiveView(t),window.loadViewName=t}requestJSON&&"charts"==t?($("#ivirChartPillsList .ivirChartCheckBox:first").change(),$("#ivirChartPillsDiv .ivirChartCheckBox:first").change(),toggleGridView("chart")):toggleGridView("grid")}"main"==t&&createNewView&&setTimeout(function(){createNewView=!1,$(".lnkViewTab.viewAddTab")[0].click()},100);try{var l;null===(l=KTMenu)||void 0===l||l.init()}catch(s){}});try{"undefined"!=typeof parent.axProcessObj&&(parent.$("#Process_Flow").scrollTop(0),parent.ShowDimmer(!1))}catch(ex){}});var ArrDep=new Array;function pgRefresh(){window.location.href=window.location.href,Adjustwin()}function openEMail(e,t){var a=getRecordid();if(a)if("n/a"==a);else{try{window.open("email.aspx?sname="+e+"&stype="+t+"&recordid="+a,"MyPopUp","width=600,height=600")}catch(n){showAlertDialog("warning",appGlobalVarsObject.lcm[356])}}else showAlertDialog("warning",3e3,"client")}function processRow(){var e=form1.elements.length,t="",a=new Array,r=new Array,o=0,l=0;for(i=0;i<e;i++)"rXml"==form1.elements[i].name&&(t+=form1.elements[i].value),"checkbox"==form1.elements[i].type&&form1.elements[i].checked&&(a[o]=form1.elements[i].value,o+=1);t=generateFullIviewXML(t);try{(xmlObj=new ActiveXObject("Microsoft.XMLDOM")).loadXML(t)}catch(p){try{parser=new DOMParser,xmlObj=parser.parseFromString(t,"text/xml")}catch(p){showAlertDialog("error",p.message)}}var s=xmlObj.getElementsByTagName(xmlObj.childNodes[0].tagName.toString()),c=s[0].childNodes.length,d=s[0].childNodes[0].childNodes.length;for(n=0;n<c;n++)if("rowno"==s[0].childNodes[n].childNodes[0].tagName.toString())for(k=0;k<o;k++)if(s[0].childNodes[n].childNodes[0].firstChild.nodeValue==a[k])for(m=0;m<d;m++)"recordid"==s[0].childNodes[n].childNodes[m].tagName.toString()&&(r[l]=s[0].childNodes[n].childNodes[m].firstChild.nodeValue,l+=1);0==o?showAlertDialog("warning",3001,"client"):o>1?showAlertDialog("warning",3002,"client"):OpenPDFparams(r[0])}function OpenPDFparams(e){if(e){var t=screen.width/2-250,a=screen.height/2-100;try{window.open("pdfparams.aspx?sname="+ivna+"&recid="+e+"&stype="+ivtype,"MyPopUp","width=500,height=200,top="+a+",left="+t)}catch(n){showAlertDialog("warning",appGlobalVarsObject.lcm[356])}}else showAlertDialog("warning",3e3,"client")}var gActionname="",gConfirmmsg="",IviewName="",appl="";function callFileUploadAction(e,t,a,n){if(a&&""!=a)var i="ar"==callParentNew("gllangType"),r=$.confirm({theme:"modern",title:appGlobalVarsObject.lcm[155],onContentReady:function(){disableBackDrop("bind")},rtl:i,backgroundDismiss:"false",escapeKey:"buttonB",content:a,buttons:{buttonA:{text:appGlobalVarsObject.lcm[164],btnClass:"btn btn-primary",acion:function(){r.close(),o()}},buttonB:{text:appGlobalVarsObject.lcm[192],btnClass:"btn btn-bg-light btn-color-danger btn-active-light-danger",action:function(){disableBackDrop("destroy")}}}});function o(){gActionname=e,gConfirmmsg=a,IviewName=t,n=n;createPopup("./fileupload.aspx?act=upload")}r===undefined&&o()}function CallAfterFileUpload(){var e=$j("#cb_sactbu").val();callActWithFile(gActionname,e,iName,gConfirmmsg,appl)}function callActWithFile(e,t,a,n,r){callParentNew("loadFrame()","function");var o="";AxWaitCursor(!0);var l=form1.elements.length,s="",c=new Array,d=0;for(null!=document.getElementById("rXml")&&(s=document.getElementById("rXml").value),i=0;i<l;i++)"checkbox"==form1.elements[i].type&&form1.elements[i].checked&&(c[d]=form1.elements[i].value,d+=1);s=generateFullIviewXML(s);try{(xmlObj=new ActiveXObject("Microsoft.XMLDOM")).loadXML(s)}catch(C){try{parser=new DOMParser,xmlObj=parser.parseFromString(s,"text/xml")}catch(C){showAlertDialog("error",C.message)}AxWaitCursor(!1)}var p=xmlObj.getElementsByTagName(xmlObj.childNodes[0].tagName.toString())[0].childNodes.length,u="";0==d&&""==r&&p>0&&(c[0]=1);var h=c.length;for(0==d&&"all rows"==r.toString().toLowerCase()&&(h=p),k=0;k<h;k++){var m=c[k];m-=1,xmlObj.getElementsByTagName("row")[m].xml==undefined?(nodeXml=(new XMLSerializer).serializeToString(xmlObj.getElementsByTagName("row")[m]),u+=nodeXml):u+=xmlObj.getElementsByTagName("row")[m].xml,""!=t&&void 0!==t&&(o=":"==t.substring(0,1)?xmlObj.getElementsByTagName(t)[m].firstChild.nodeValue:t.toString())}0==h&&t.length>0&&""==o&&(o=t.toString());var f=generateParamX(),v="",g="",w=traceSplitStr+"Action-"+e+traceSplitChar,b=new Array;if(""!=o){var $=(g=o).lastIndexOf("\\");-1!=$&&(g=g.substring($+1))}v=v+'<root axpapp="'+proj+'" trace="'+w+'" sessionid="'+sid+'"  stype="iviews" sname="'+a+'" actname="'+e+'" __file="'+g+'"><params>'+f+"</params><varlist>",v+=u,v+="</varlist>";var y=!1;try{y="true"==(ivScripts[e]["@script"]||"false")}catch(C){}if(0==d&&""!=r&&"all rows"!=r.toString().toLowerCase())showAlertDialog("warning",3001,"client"),AxWaitCursor(!1);else{var x=$j("#hdnKey").val();""!=n?n(n)&&ASB.WebService.CallActionWS(b,b,b,b,b,"","",v,o,"i","","",x,"",y,"",!1,"",CActSucceededCallback):ASB.WebService.CallActionWS(b,b,b,b,b,"","",v,o,"i","","",x,"",y,"",!1,"",CActSucceededCallback)}closeParentFrame()}function CActFUSucceededCallback(e,t){try{AssignloadValues(e,"Iview"),AxWaitCursor(!1)}catch(a){AxWaitCursor(!1),ShowDimmer(!1),showAlertDialog("error",3003,"client")}}function callAction(e,t,a,n){AxWaitCursor(!0);var r=form1.elements.length,o="",l=new Array,s=0;for(null!=document.getElementById("rXml")&&(o=document.getElementById("rXml").value),i=0;i<r;i++)"checkbox"==form1.elements[i].type&&form1.elements[i].checked&&"chkall"!=form1.elements[i].id&&(l[s]=form1.elements[i].value,s+=1);if(0==s&&""!=n&&"all rows"!=n.toString().toLowerCase())return showAlertDialog("warning",3001,"client"),void AxWaitCursor(!1);if(""==a||confirm(a)){o=generateFullIviewXML(o);try{(xmlObj=new ActiveXObject("Microsoft.XMLDOM")).loadXML(o)}catch(b){try{parser=new DOMParser,xmlObj=parser.parseFromString(o,"text/xml")}catch(b){showAlertDialog("error",b.message)}AxWaitCursor(!1)}var c=xmlObj.getElementsByTagName(xmlObj.childNodes[0].tagName.toString())[0].childNodes.length,d="";0==s&&""==n&&c>0&&(l[0]=1);var p=l.length;for(0==s&&"all rows"==n.toString().toLowerCase()&&(p=c),k=0;k<p;k++)if(""!=l[k]&&l[k]!=undefined){var u=l[k];u-=1;xmlObj.getElementsByTagName("row")[u].xml==undefined?d+=(new XMLSerializer).serializeToString(xmlObj.getElementsByTagName("row")[u]):d+=xmlObj.getElementsByTagName("row")[u].xml}var h=generateParamX(),m=traceSplitStr+"Action-"+e+traceSplitChar,f=!1;try{f="true"==(ivScripts[e]["@script"]||"false")}catch(b){}var v='<root axpapp="'+proj+'" trace="'+m+'" sessionid="'+sid+'"  stype="iviews" sname="'+t+'" actname="'+e+'"><params>'+h+"</params><varlist>"+d+"</varlist>",g=new Array;try{var w=$j("#hdnKey").val();ASB.WebService.CallActionWS(g,g,g,g,g,"","",v,"","i","","",w,"",f,"",!1,"",CActSucceededCallback)}catch($){showAlertDialog("error",$.toString())}}else AxWaitCursor(!1)}function ActButtonClick(e,t,a,n){if(actionCallFlag==actionCallbackFlag){actionCallFlag=Math.random(),$("#icons").css({"pointer-events":"auto"}),$("#"+e).removeAttr("href"),ShowDimmer(!0);var i=!1,r="";""==a&&(i=!0),$("#GridView1 tr").each(function(){$(this).find("input:checkbox").each(function(){if("chkItem"==$j(this).attr("name")&&1==$j(this).prop("checked")){var e=$j(this).val();r+=e+"♣",i=!0}})}),null!=iframeindex&&iframeindex>-1&&""==r&&(i=!0,r="1♣");try{if(!AxCustomBeforeAction(r,e))return $j("#hdnIsPostBack").val("false"),actionCallbackFlag=actionCallFlag,void $("#icons,#btnSaveTst,.wizardNextPrevWrapper").css({"pointer-events":"auto"})}catch(s){}if($("#hdnSRows").length&&$("#hdnSRows").val(r),$("#hdnAct").length&&$("#hdnAct").val(e),i)if(""!=t)var o="ar"==callParentNew("gllangType"),l=$.confirm({theme:"modern",closeIcon:!1,title:appGlobalVarsObject.lcm[155],onContentReady:function(){disableBackDrop("bind")},backgroundDismiss:"buttonB",escapeKey:"buttonB",rtl:o,content:t,buttons:{buttonA:{text:appGlobalVarsObject.lcm[164],btnClass:"btn btn-primary",action:function(){disableBackDrop("destroy"),l.close(),callRemoteDoActionWS(r)}},buttonB:{text:appGlobalVarsObject.lcm[192],btnClass:"btn btn-bg-light btn-color-danger btn-active-light-danger",action:function(){ShowDimmer(!1),actionCallbackFlag=actionCallFlag,$("#icons,#btnSaveTst,.wizardNextPrevWrapper").css({"pointer-events":"auto"})}}}});else!0,callRemoteDoActionWS(r);else!1,showAlertDialog("warning",3001,"client"),ShowDimmer(!1),actionCallbackFlag=actionCallFlag,$("#icons,#btnSaveTst,.wizardNextPrevWrapper").css({"pointer-events":"auto"})}else $("#icons").css({"pointer-events":"none"})}function callRemoteDoActionWS(e){ShowDimmer(!0);var t=callParentNew("getAppSessionKey()","function").substr(2),a=callParentNew("mainUserName"),n=$j("#hdnAct").val().substr(4),i=generateParamX(),r="";r=r+'<root axpapp="'+proj+'" trace="'+(traceSplitStr+"trace"+traceSplitStr)+'" sessionid="'+sid+'"  appsessionkey="'+t+'" stype="iviews" sname="'+iName+'" actname="'+n+'" username="'+a+'"><params>'+i+"</params><varlist>",r+=jsonToXml(e),r+="</varlist>",ivkey=$("#hdnKey").val();var o=!1;try{o="true"==(ivScripts[n]["@script"]||"false")}catch(l){}$.ajax({url:"iview.aspx/ActionBtnClick",type:"POST",cache:!1,async:!0,contentType:"application/json",dataType:"json",data:JSON.stringify({iName:iName,ivkey:ivkey,iXml:r,actName:n,isScript:o}),success:function(t){if("failure"==(t=t.d).result)"inmemdb"==iName&&showAlertDialog("error",appGlobalVarsObject.lcm[278]);else if("Session Authentication failed..."==t.result)parent.window.location.href="../aspx/sess.aspx";else if("inmemdb"==iName){removeValFromIndex=e.substr(0,e.length-1).split("♣");for(var a=removeValFromIndex.length-1;a>=0;a--)ivDatas.splice(parseInt(removeValFromIndex[a])-1,1);ivirDataTableApi.rows().remove(),ivirDataTableApi.rows.add(ivDatas).draw(),callCharts(),showAlertDialog("success",appGlobalVarsObject.lcm[267])}else t.ActBtnNavigation!=undefined?CallAssignLoadVals(t.actResponse,"Action",n,t.ActBtnNavigation):CallAssignLoadVals(t.actResponse,"Action",n);unselectReportRowOnAction&&CheckAll(!1),ShowDimmer(!1),$("#hdnAct").val(""),actionCallbackFlag=actionCallFlag,$("#icons,#btnSaveTst,.wizardNextPrevWrapper").css({"pointer-events":"auto"})},failure:function(e){ShowDimmer(!1),showAlertDialog("error",3028,"client"),$("#hdnAct").val(""),actionCallbackFlag=actionCallFlag,$("#icons,#btnSaveTst,.wizardNextPrevWrapper").css({"pointer-events":"auto"})},error:function(e){ShowDimmer(!1),showAlertDialog("error",3028,"client"),$("#hdnAct").val(""),actionCallbackFlag=actionCallFlag,$("#icons,#btnSaveTst,.wizardNextPrevWrapper").css({"pointer-events":"auto"})}})}function jsonToXml(e){e=e.split("♣");var t="";return $(e).each(function(e,a){if(""!=a){var n,i,r=$.parseXML("<row/>"),o=ivirDataTableApi.data()[a-1],l=r.getElementsByTagName("row")[0];for(n in o){var s=n.startsWith("@")?n.substr(1):n;o.hasOwnProperty(n)&&(i=r.createElement(s),$(i).text(o[n]),l.appendChild(i))}t+=l.outerHTML||(new XMLSerializer).serializeToString(l)}}),t}function CActSucceededCallback(e,t){if(!CheckSessionTimeout(e)){try{e=AfterCallActionIview(e)}catch(a){}try{AssignLoadValues(e,"Iview"),AxWaitCursor(!1),showAlertDialog("info",3004,"client")}catch(a){AxWaitCursor(!1),ShowDimmer(!1),showAlertDialog("error",3003,"client")}}}function callHLaction(e,t,a){ShowDimmer(!0),GetCurrentTime("Iview Action button click(Post back)"),"false"==$j("#hdnIsDirectDB").val()&&"true"==$j("#hdnIsPerfXml").val()&&(t+=1);var n;$("#hdnSRows").length&&$("#hdnSRows").val(t.toString()),$("#hdnAct").length&&$("#hdnAct").val("btn_"+e),n=jsonToXml(t.toString()),actClickselXML=n;var i=new Array,r=traceSplitStr+"CallHLAction-"+e+traceSplitChar,o=generateParamX()+ConstructFldDataNodes(n),l='<root axpapp="'+proj+'" trace="'+r+'" sessionid="'+sid+'"  stype="iviews" sname="'+a+'" actname="'+e+'"><params>'+o+"</params><varlist>"+n+"</varlist>",s=$j("#hdnKey").val(),c=!1;try{c="true"==(ivScripts[e]["@script"]||"false")}catch(d){}GetProcessTime(),ASB.WebService.CallActionWS(i,i,i,i,i,"","",l,"","i","","",s,"",c,"",!1,"",CHlActSucceededCallback)}function ConstructFldDataNodes(e){var t="";if("false"==$("#hdnIsDirectDB").val()&&"true"==$j("#hdnIsPerfXml").val()){var a="";try{(a=new ActiveXObject("Microsoft.XMLDOM")).loadXML(e)}catch(l){try{parser=new DOMParser,a=parser.parseFromString(e,"text/xml")}catch(l){showAlertDialog("error",l.message)}}if(a.childNodes[0]!=undefined)for(var n=a.childNodes[0].attributes,i=0;i<n.length;i++){var r=n[i].name,o=n[i].value;!generateParamX().toLowerCase().indexOf("<"+r.toLowerCase()+">")>-1&&(t+="<"+r+">"+o+"</"+r+">")}}return t.replace(/&/g,"&amp;")}function CHlActSucceededCallback(e,t){if(""!=e){var a=e.split("*♠*")[0],n=e.split("*♠*")[1];e=e.split("*♠*")[2],WireElapsTime(a,n,!0)}if(CheckSessionTimeout(e))ShowDimmer(!1);else{try{try{var i=Math.round($(".dataTables_scrollBody").scrollTop()),r=$.parseXML(actClickselXML);actClickselXML="";var o=r.getElementsByTagName("rowno").length>0?r.getElementsByTagName("rowno")[0].innerHTML:undefined;if(void 0!==o){var l=o,s=ivDatas.find(function(e){return e.rowno===l}),c=top.window.location.href.toLowerCase().substring("0",top.window.location.href.indexOf("/aspx/"));localStorage["drilldownScrollInfo-"+c]=JSON.stringify(_objectSpread(_objectSpread({},JSON.parse(localStorage["drilldownScrollInfo-"+c]||"{}")),{},_defineProperty({},iName,{scroll:i,rowIndex:l,params:s.recordid?{recordid:s.recordid}:s})))}}catch(h){}AssignLoadValues(e,"Iview"),AxWaitCursor(!1);var d=e.split("*$*")[0].toString().replace(new RegExp("\\n","g"),"");if(d=(d=d.replace(new RegExp("\\t","g"),"&#9;")).replace(/\\/g,";bkslh")){var p=$j.parseJSON(d);if(!p.hasOwnProperty("error")&&p.command){var u=p.command[0].cmd;"opentstruct"!==u&&"openfile"!==u&&"openiview"!==u&&callParentNew("closeFrame()","function")}}}catch(h){AxWaitCursor(!1),ShowDimmer(!1),showAlertDialog("error",3003,"client"),callParentNew("closeFrame()","function")}setTimeout(function(){$("#hdnAct").val("")},0)}}function AxWaitCursor(e){e?$("body").css("cursor","wait"):($("body").css("cursor","arrow"),$("body").css("cursor","default"))}function EndRequestHandler(e,t){new Date;if(AddDatePicker(),AddTimePicker(),t.get_error()==undefined){parent.window.scrollTo(0,0),"Iview"!=document.title&&"Listview"!=document.title||(calledFrom="",ShowVisibleFilters(),HighLightSelected(),CheckMyViewFilters(),SetParamValues($j("#hdnparamValues").val()),evalParamExprHandler());try{AxAfterIviewLoad()}catch(a){}Adjustwin(),AxWaitCursor(!1),ShowDimmer(!1)}else"Sys.WebForms.PageRequestManagerTimeoutException"==t.get_error().name&&showAlertDialog("error",3005,"client"),document.body.style.cursor="default",ShowDimmer(!1);"undefined"!=typeof isFromClearBtn&&1==isFromClearBtn&&(isFromClearBtn=!1)}function AdjustRowsperPageDiv(){"block"==$j("#showFilter").css("display")&&$j("#dvRowsPerPage").is(":visible")&&$j("#dvRowsPerPage").css("margin-top","-16px")}function load(){Sys.WebForms.PageRequestManager.getInstance().add_endRequest(EndRequestHandler),window.status=""}function CallSaveAs(e,t){if(SaveWindow&&SaveWindow.open&&!SaveWindow.closed)SaveWindow.focus();else if(recordsFieldsValidForSave()){var a=screen.width/2-175,n=screen.height/2-75,i=form1.param.value;i=CheckUrlSplChars(i);var r="";$j("#hdnKey").length>0&&""!=$j("#hdnKey").val()&&(r="&ivKey="+$j("#hdnKey").val());var o="SaveAs.aspx?tid="+e+"&param="+i+"&ivtype="+t+r;try{SaveWindow=window.open(o,"MyPopUp","width=350,height=150,resizable=yes,top="+n+", left="+a)}catch(l){showAlertDialog("warning",appGlobalVarsObject.lcm[356])}}}function CheckUrlSplChars(e){return e=(e=(e=(e=(e=(e=e.replace(/&amp;/g,"&")).replace(/%/g,"%25")).replace(/&/g,"%26")).replace(/'/g,"%27")).replace(/"/g,"%22")).replace(/#/g,"%23")}function SaveAs(e,t){var a=form1.cb_saveas.value;"html"==a?toHTML(e,t,"false"):"excel"==a?toExcel(e,t):"csv"==a?toCSV(e,t):"xml"==a?toXML(e,t):"pdf"==a?toPDF(e,t):"word"==a&&toWord(e,t)}function recordsFieldsValidForSave(){var e=parseInt($("#printRowsMaxLimitField").val()),t=parseInt($("#hdnTotalIViewRec").val());return"undefined"!=typeof getIviewRowCount&&!getIviewRowCount||(e<t?(showAlertDialog("warning",3006,"client"),!1):!(t<1)||(showAlertDialog("warning",3007,"client"),!1))}function toExcel(e,t){var a=screen.width/2-420,n=screen.height/2-300,i=form1.param.value,r="../aspx/excel.aspx?ivname="+e+"&ivtype="+t+"&params="+(i=CheckUrlSplChars(i));window.open(r,"excelWindow","width=840,height=600,scrollbars=yes,top="+n+",left="+a)}function toHTML(e,t,a){var n=form1.param.value;$("#hdnKey").length>0&&""!=$j("#hdnKey").val()&&(ivKey="&ivKey="+$j("#hdnKey").val()),SetExport("../aspx/htmliv.aspx?ivname="+e+"&ivtype="+t+ivKey+"&params=&isPrint="+a,n,e)}function SetExport(e,t,a){if(""!=a)if(requestJSON)SetDatatableExport(e);else try{ASB.WebService.SetExportParams(e,t,a,SuccSetExportParams)}catch(n){}}function SetExportWord(e,t,a){if(""!=a)try{ShowDimmer(!1),ASB.WebService.SetExportParams(e,t,a,SuccSetExportParams)}catch(n){ShowDimmer(!1)}}function SuccSetExportParams(e,t){if(e&&e.url){var a=e.url.indexOf("htmliv.aspx")>-1;try{try{var n=axSetCustomExport(e)||e.url;if(!0===n)return;e.url=n}catch(r){}if(a||fixUnloadOnWindowSelfDownloads(window),""!=ivCurrentRows&&e.url.indexOf("wordview.aspx")>-1){var i=ivCurrentRows;ivCurrentRows="",window.open(e.url+(e.url.indexOf("?")>-1?"&axpCache=true":"")+"&curRecord="+i,a?"toHTML":"_self","width="+$(window).width()+",height="+$(window).width()+",scrollbars=yes,top=0,left=0")}else window.open(e.url+(e.url.indexOf("?")>-1?"&axpCache=true":""),a?"toHTML":"_self","width="+$(window).width()+",height="+$(window).width()+",scrollbars=yes,top=0,left=0")}catch(r){a?showAlertDialog("warning",appGlobalVarsObject.lcm[356]):window.onbeforeunload=BeforeWindowClose}}}function SetDatatableExport(e){try{var t=axSetCustomExport({url:e})||e;if(!0===t)return;e=t}catch(a){}exportType=e.indexOf("htmliv.aspx")>-1?"print":e.indexOf("pdfiview.aspx")>-1?"pdf":e.indexOf("excelweb.aspx")>-1?"excel":e,checkNextDBRowsExist?getAllRecords():ExecuteDatatableExport()}function ExecuteDatatableExport(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";if(ivirDataTableApi){var t=exportType;switch(exportType){case"print":ShowDimmer(!0),setTimeout(function(){GetCurrentTime("iview "+t+" export"),ivirDataTableApi.button("4").trigger(),GetProcessTime(),GetTotalElapsTime()},0);break;case"pdf":ShowDimmer(!0),setTimeout(function(){GetCurrentTime("iview "+t+" export"),ivirDataTableApi.button("3").trigger(),GetProcessTime(),GetTotalElapsTime()},0);break;case"excel":ShowDimmer(!0),setTimeout(function(){GetCurrentTime("iview "+t+" export"),ivirDataTableApi.button("2").trigger(),GetProcessTime(),GetTotalElapsTime()},0);break;case"html":ShowDimmer(!0),setTimeout(function(){GetCurrentTime("iview "+t+" export"),ivirDataTableApi.button("5").trigger(),GetProcessTime(),GetTotalElapsTime()},0);break;case"json":ShowDimmer(!0),setTimeout(function(){GetCurrentTime("iview "+t+" export"),ivirDataTableApi.button("6").trigger(),GetProcessTime(),GetTotalElapsTime()},0);break;case"copy":ShowDimmer(!0),setTimeout(function(){GetCurrentTime("iview "+t+" export"),ivirDataTableApi.button("0").trigger(),GetProcessTime(),GetTotalElapsTime()},0);break;case"word":ShowDimmer(!0),setTimeout(function(){toWord(iName,"Iview",e)},0);break;default:exportType=""}}exportType=""}function toCSV(e,t){var a=form1.param.value;$("#hdnKey").length>0&&""!=$j("#hdnKey").val()&&(ivKey="&ivKey="+$j("#hdnKey").val()),SetExport("../aspx/csviview.aspx?ivname="+e+"&ivtype="+t+ivKey+"&params=",a,e)}function toXML(e,t){var a=form1.param.value;$("#hdnKey").length>0&&""!=$j("#hdnKey").val()&&(ivKey="&ivKey="+$j("#hdnKey").val()),SetExport("../aspx/xmliview.aspx?ivname="+e+"&ivtype="+t+ivKey+"&params=",a,e)}function toPDF(e,t){var a=form1.param.value;$j("#hdnKey").length>0&&""!=$j("#hdnKey").val()&&(ivKey="&ivKey="+$j("#hdnKey").val()),SetExport("../aspx/pdfiview.aspx?ivname="+e+"&ivtype="+t+ivKey+"&params=",a,e)}function toWord(e,t){var a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"",n=form1.param.value,i="";$j("#hdnKey").length>0&&""!=$j("#hdnKey").val()&&(i="&ivKey="+$j("#hdnKey").val()),ivCurrentRows=""!=a?dtDbTotalRecords:"",SetExportWord("../aspx/wordview.aspx?ivname="+e+"&ivtype="+t+i+"&params=",n,e)}function fixUnloadOnWindowSelfDownloads(e){e.onbeforeunload=function(){e.onbeforeunload=BeforeWindowClose}}function getRecordid(){var e=form1.elements.length,t="",a=new Array,r=new Array,o=0,l=0;for(i=0;i<e;i++)"rXml"==form1.elements[i].name&&(t+=form1.elements[i].value),"checkbox"==form1.elements[i].type&&form1.elements[i].checked&&(a[o]=form1.elements[i].value,o+=1);t=generateFullIviewXML(t);try{(xmlObj=new ActiveXObject("Microsoft.XMLDOM")).loadXML(t)}catch(u){try{parser=new DOMParser,xmlObj=parser.parseFromString(t,"text/xml")}catch(u){showAlertDialog("error",u.message)}}var s=xmlObj.getElementsByTagName(xmlObj.childNodes[0].tagName.toString()),c=s[0].childNodes.length,d=s[0].childNodes[0].childNodes.length;for(n=0;n<c;n++)if("rowno"==s[0].childNodes[n].childNodes[0].tagName.toString())for(k=0;k<o;k++)if(s[0].childNodes[n].childNodes[0].firstChild.nodeValue==a[k])for(m=0;m<d;m++)"recordid"==s[0].childNodes[n].childNodes[m].tagName.toString()&&(r[l]=s[0].childNodes[n].childNodes[m].firstChild.nodeValue,l+=1);var p="n/a";return 0==o?p="0":o>1?showAlertDialog("warning",3002,"client"):p=r[0],p}function generateFullIviewXML(e){var t="";return $j("#GridView1 tr").each(function(){$j(this).find("input:checkbox").each(function(){if("chkItem"==$j(this).attr("name")){var e=$j(this).val();t+=e+"♣"}})}),"<table>"+jsonToXml(t)+"</table>"}function callDelete(e,t){if("response"!=iName||"axrol"!=e){AxWaitCursor(!0);var a=form1.elements.length,n="",r=new Array,o=new Array,l=0;for($j("#rXml").length>0&&(n=$j("#rXml").val()),i=0;i<a;i++)"checkbox"==form1.elements[i].type&&form1.elements[i].checked&&(isNaN(parseInt(form1.elements[i].value))||(r[l]=form1.elements[i].value,$(".gridData tbody tr:not(.specialRow)").each(function(e,t){t===$(form1.elements[i]).parents("tr")[0]&&(o[l]=e)}),l+=1));if(0==l)return showAlertDialog("warning",3001,"client"),void AxWaitCursor(!1);n=generateFullIviewXML(n);try{(xmlObj=new ActiveXObject("Microsoft.XMLDOM")).loadXML(n)}catch(v){try{parser=new DOMParser,xmlObj=parser.parseFromString(n,"text/xml")}catch(v){showAlertDialog("error",v.message),AxWaitCursor(!1)}}var s=0;for(s=0;s<xmlObj.childNodes.length&&"xml"==xmlObj.childNodes[s].nodeName.toLowerCase();s++);xmlObj.getElementsByTagName(xmlObj.childNodes[s].tagName.toString())[0].childNodes.length;var c,d="",p="",u=r.length;if(c=GetRecordIdColIndex(xmlObj,r[0]),"Iview"==t&&-1==c)return showAlertDialog("error",3008,"client"),void AxWaitCursor(!1);for(k=0;k<u;k++){var h=o[k];if(!isNaN(h)){if(xmlObj.getElementsByTagName("cancel")[h]&&xmlObj.getElementsByTagName("cancel")[h].xml&&"T"==xmlObj.getElementsByTagName("cancel")[h].childNodes[0].text)return showAlertDialog("warning",3009,"client"),void AxWaitCursor(!1);xmlObj.getElementsByTagName("row")[h].xml==undefined?(nodeXml=(new XMLSerializer).serializeToString(xmlObj.getElementsByTagName("row")[h]),d+=nodeXml,-1!=c&&(p=""==p?xmlObj.getElementsByTagName("row")[h].childNodes[c].textContent:","+xmlObj.getElementsByTagName("row")[h].childNodes[c].textContent)):(d+=xmlObj.getElementsByTagName("row")[h].xml,-1!=c&&(""==p?p=xmlObj.getElementsByTagName("row")[h].childNodes[c].text:p+=","+xmlObj.getElementsByTagName("row")[h].childNodes[c].text))}}trace=traceSplitStr+"DeleteRow-"+e+traceSplitChar;var m='<root axpapp="'+proj+'" trace="'+trace+'" sessionid="'+sid+'"  stype="iviews" sname="'+e+'" actname="delete"><varlist>'+d+"</varlist>",f="ar"==callParentNew("gllangType");$.confirm({theme:"modern",title:appGlobalVarsObject.lcm[155],rtl:f,onContentReady:function(){disableBackDrop("bind"),AxWaitCursor(!1)},backgroundDismiss:"false",escapeKey:"buttonB",content:appGlobalVarsObject.lcm[5],buttons:{buttonA:{text:appGlobalVarsObject.lcm[279],btnClass:"btn btn-primary",action:function(){try{ASB.WebService.DeleteIviewRow(p,e,m,SuccessCallbackDRow)}catch(t){AxWaitCursor(!1)}}},buttonB:{text:appGlobalVarsObject.lcm[280],btnClass:"btn btn-bg-light btn-color-danger btn-active-light-danger",action:function(){disableBackDrop("destroy")}}}})}else confirmRespDelete()}function GetRecordIdColIndex(e,t){var a=-1;if(t=parseInt(t,10)-1,!isNaN(t))for(var n=e.getElementsByTagName("row")[0].childNodes,i=0;i<n.length;i++)if("recordid"==n[i].nodeName){a=i;break}return a}function callDeleteNew(e,t,a){var n,i="",r="";n=GetRecordIdColIndex(xmlObj,a),$j("#rXml").length>0&&(i=$j("#rXml").val()),i=generateFullIviewXML(i);try{(xmlObj=new ActiveXObject("Microsoft.XMLDOM")).loadXML(i)}catch(c){try{parser=new DOMParser,xmlObj=parser.parseFromString(i,"text/xml")}catch(c){showAlertDialog("error",c.message)}}xmlObj.getElementsByTagName(xmlObj.childNodes[0].tagName.toString());var o="";xmlObj.getElementsByTagName("row")[a].xml==undefined?(nodeXml=(new XMLSerializer).serializeToString(xmlObj.getElementsByTagName("row")[a]),o+=nodeXml,r=""==r?(new XMLSerializer).serializeToString(xmlObj.getElementsByTagName("row")[m].childNodes[n].text):","+(new XMLSerializer).serializeToString(xmlObj.getElementsByTagName("row")[m].childNodes[n].text)):(o+=xmlObj.getElementsByTagName("row")[a].xml,""==r?r=xmlObj.getElementsByTagName("row")[m].childNodes[n].text:r+=","+xmlObj.getElementsByTagName("row")[m].childNodes[n].text),trace=traceSplitStr+"DeleteRow-"+e+traceSplitChar;var l='<root axpapp="'+proj+'" trace="'+trace+'" sessionid="'+sid+'"  stype="iviews" sname="'+e+'" actname="delete" ><varlist>'+o+"</varlist></root>",s="ar"==callParentNew("gllangType");$.confirm({theme:"modern",title:appGlobalVarsObject.lcm[155],rtl:s,onContentReady:function(){disableBackDrop("bind")},backgroundDismiss:"false",escapeKey:"buttonB",content:appGlobalVarsObject.lcm[5],buttons:{buttonA:{text:appGlobalVarsObject.lcm[279],btnClass:"btn btn-primary",action:function(){ASB.WebService.DeleteIviewRow(r,e,l,SuccessCallbackDRow)}},buttonB:{text:appGlobalVarsObject.lcm[280],btnClass:"btn btn-bg-light btn-color-danger btn-active-light-danger",action:function(){disableBackDrop("destroy")}}}})}function SuccessCallbackDRow(e,t){if(!CheckSessionTimeout(e)){var a=e.split("*#*")[1];void 0!==a&&""!=a&&ClearRedisKeys(a),e.indexOf("*#*")>-1&&(e=e.substring(0,e.indexOf("*#*")));for(var n=e.split("*$*"),i=0;i<n.length;i++){var r=n[i].toString().replace(new RegExp("\\n","g"),"");if(""==r)return;var o=$j.parseJSON(r);o.error?ExecuteErrorMsg(o.error,"Delete"):o.message&&(ClearRedisDataCache(),ExecuteMessage(o.message,"Delete"))}AxWaitCursor(!1)}}function ExecuteErrorMsg(e,t){var a=e[0].msg;e[0].errfld&&e[0].errfld;for(var n=a.indexOf("^^dq");-1!=n;)n=(a=a.replace("^^dq",'"')).indexOf("^^dq");null!=a&&a!=undefined&&""!=a&&showAlertDialog("error",a)}function ExecuteMessage(e,t){for(var a=0;a<e.length;a++){for(var n=e[a].msg,i=(n=n.split(",")).length,r="",o=0;o<i;o++){var l=(r+=n[o]+"\n").indexOf("["),s=r.indexOf("]");if(""!=r.substring(l+1,s)){var c=msg.substring(l,s+2);r=r.replace(c,"")}for(var d=r.indexOf("^^dq");-1!=d;)d=(r=r.replace("^^dq",'"')).indexOf("^^dq")}""!=r&&("Delete"==t&&-1!=r.indexOf("done")?(showAlertDialog("success",3010,"client"),$j("#btnClear").length>0?$j("#btnClear").click():pgRefresh()):showAlertDialog("error",r))}}function callOpenAction(e,t){if("response"==iName&&"axrol"==t)return ShowDimmer(!0),void parent.BootstrapDialogResponsibiltyShow("../aspx/AddEditResponsibility.aspx?action=add");if(GetCurrentTime("Tstruct load on Iview New button click(Post back)"),"opentstruct"==e){callParentNew("loadFrame()","function"),GetProcessTime();var a="";try{if("undefined"!=typeof Storage){var n=top.window.location.href.toLowerCase().substring("0",top.window.location.href.indexOf("/aspx/")),i=callParentNew("getKeysWithPrefix(tstHtml♠"+t+"-"+n+"♥)","function");void 0===(a=localStorage[i[0]])&&(a="")}}catch(l){}var r="";if(""!=a)r="&dummyload=true♠"+a.split("♠♠♠")[1].split("*$*")[11];else r="&dummyload=false♠";var o="./tstruct.aspx?transid="+t+"&hdnbElapsTime="+callParentNew("browserElapsTime")+"&openerIV=".concat(iName,"&isIV=").concat(!isListView,"&isDupTab=").concat(callParentNew("isDuplicateTab")).concat(r);o=o.replace(/♠/g,"%e2%99%a0"),callParentNew("lastLoadtstId=",o),$j(location).attr("href","../aspx/tstruct.aspx?transid="+t+"&hdnbElapsTime="+callParentNew("browserElapsTime")+"&openerIV=".concat(iName,"&isIV=").concat(!isListView,"&isDupTab=").concat(callParentNew("isDuplicateTab")).concat(r)),ResetNavGlobalVariables()}}function HideFindList(){if(1==IsFindBtnClicked)IsFindBtnClicked=!1;else{var e=document.getElementById("findListPopUp");null!=e&&e.offsetWidth!=undefined&&e.offsetHeight!=undefined&&(e.style.display="none")}}function HideNqIvTaskList(){var e=$j("#taskListPopUp");1==IsNqIvTaskBtnCliked?(IsNqIvTaskBtnCliked=!1,e.show()):e.hide()}document.all||document.captureEvents(Event.MOUSEMOVE);var iX=0,iY=0;function getPosition(e){document.all?(iX=event.clientX+$j("body").scrollLeft,iY=event.clientY+$j("body").scrollTop):(iX=e.pageX,iY=e.pageY)}function FindposImg(){var e=document.getElementById("imgFind");iX=findPosX(e),iY=findPosY(e)}function OnBlrLstItem(e){e.className="popDivBg"}function OnLnkFcs(e){e.style.color="White"}function OnLnkBlr(e){e.style.color="Black"}function openPrint(){window.print()}function OpenPreview(){WebBrowser='<OBJECT ID="WebBrowser1" WIDTH=0 HEIGHT=0 CLASSID="CLSID:8856F961-340A-11D0-A96B-00C04FD705A2"></OBJECT>',document.body.insertAdjacentHTML("beforeEnd",WebBrowser),WebBrowser1.ExecWB(7,1),WebBrowser1.outerHTML=""}function LoadPopPage(e,t,a,n){GetCurrentTime("Tstruct load on Iview hyperlink click(Post back)"),window.opener?window.opener.parent.disableNavigation=!1:window.parent.disableNavigation=!1;var i=$j("#axpiframe",parent.document);if(n!=undefined&&""!=n||!i.hasClass("frameSplited")||(n="split"),"split"===n)ShowDimmer(!1),callParentNew("OpenOnPropertyBase(".concat(e,")"),"function");else if("default"===n)ReloadIframe(e);else if("newpage"===n)popupFullPage(e);else{a&&""!=a&&"listview"==window.ivtype?(window.parent.tstructPop=a,window.parent.listViewPage=t,e.indexOf("tstruct.aspx?")>-1&&(e+="&AxPop=true")):(e.indexOf("ivtoivload.aspx?")>-1&&(e+="&AxIsPop=true"),e.indexOf("tstruct.aspx?")>-1&&(e+="&AxPop=true"),e.indexOf("ivtstload.aspx?")>-1&&(e+="&AxPop=true").indexOf("ivtstload.aspx?tstname=digno")>-1&&(e=e.replace("ivtstload.aspx","../dsign/DgsignSkipUser.aspx"))),GetProcessTime();var r="".concat(e,"&hdnbElapsTime=").concat(callParentNew("browserElapsTime"));createPopup(r,!0),callParentNew("loadFrame()","function")}}function IsDependent(e){var t=0,a=!1;for(t=0;t<depArr.length;t++)for(var n=depArr[t].split(","),i=0;i<n.length;i++)n[i]==e&&(a=!0);return a}function GetAllChecked(e){$j("#"+e.id).prop("checked")?$j("#"+e.id+" input[type='checkbox']").each(function(){$j(this).prop("checked",!0)}):$j("#"+e.id+" input[type='checkbox']").each(function(){$j(this).prop("checked",!1)})}function UncheckChkAll(e){if(0==e.checked)try{$("#"+e.id+".chkSelectAll").prop("checked",!1)}catch(t){}}function GetChkParamValues(e,t){var a="",n="",i=$j("#"+t+" input[type='checkbox']");return $j.each(i,function(){$j(this).is(":checked")&&(a=$j(this).prop("value"),n=""==n?t+"~"+a:n+"&grave;"+a)}),""==e?e=n:e+=n,e}function GetParamValues(e,t){e=e||"",t=t||"";var a=0,n="";ArrDep.length=0;var i=new Array;if(null!==$j("#hdnSelParamsAftrChWin").val()&&""!==$j("#hdnSelParamsAftrChWin").val()&&"true"!=$j("#hdnParamChngd").val())n=$j("#hdnSelParamsAftrChWin").val(),$j("#hdnSelParamsAftrChWin").val(""),$j("#hdnGo").val("Go");else for($j("#hdnSelParamsAftrChWin").val(""),a=0;a<parentArr.length;a++){var r;if((r=$j("#"+parentArr[a])).length){var o=r.prop("type");if("select-one"!=o||r.parents(".paramtd2").hasClass("pick-list"))if("select-multiple"!=o||r.parents(".paramtd2").hasClass("pick-list"))if("checkbox"==o)""!=(n=GetChkParamValues(n,parentArr[a]))&&(n+="¿");else{if(r.data("select2")){var l="";l=null===(l=void 0===(l=r.hasClass("form-select")&&null!==r.val()?r.val():r.find("option[selected]").length>0?r.find("option[selected]").val():r.find("option:selected").val())?"":l)?"":l,r.parents(".paramtd2").hasClass("pick-list")&&(l=$(r).find("option[data-select2-tag=true]")!=undefined&&0!=$(r).find("option[data-select2-tag=true]").length?$(r).find("option[data-select2-tag=true]").val():""!=$(r).parent().find(".selection textarea").val()?$(r).parent().find(".selection textarea").val():void 0!==$(r).find("option")&&""!=$(r).find("option").val()&&void 0!==r.val()&&0==r.val().length&&""==r.val()[0]?$(r).find("option").val():"undefined"==typeof r.val()[0]?"":r.val()[0])}else{l=(l=r.val()).replace(/~/g,"&grave;")}if(r.hasClass("trySelectMs"))try{l=r.data("bs.tokenfield")?r.tokenfield("getTokensList").replace(/`/g,"&grave;"):r.data("selectedlist").replace(/`/g,"&grave;")}catch(v){}var s=!0;try{s=AxICheckValid()}catch(g){s==undefined&&(s=!0)}s==undefined&&(s=!0),"Date/Time"==paramType[a]&&"en-us"==dtCulture.toLowerCase()&&""!=l&&(l=GetDateStr(r.val(),"d/m/Y","m/d/Y")),""==l&&""!=r.parent().prev("td").find("font").text()&&s&&i.push(r.parent().prev("td").find("font").text()),n+=parentArr[a]+"~"+l+"¿"}else{var c,d="false",p=document.getElementById(parentArr[a]);if((c=p.options.length)>0)for(m=0;m<c;m++)"false"==d?1==$(p.options[m]).prop("selected")&&(d="true",n+=parentArr[a]+"~"+p.options[m].value):1==$(p.options[m]).prop("selected")&&(n+="&grave;"+p.options[m].value);else n+=parentArr[a]+"~"+p.value;""!=n&&(n+="¿")}else{var u="";if((""==(u=void 0===(u=r.hasClass("form-select")&&null!==r.val()?r.val():r.find("option[selected]").length>0?r.find("option[selected]").val():r.find("option:selected").val())?"":u)||null==u)&&"clear"!=e){var h;if("complete"==document.readyState)void 0!==(null===(h=t)||void 0===h?void 0:h.pointerType)&&""!=t&&showAlertDialog("warning",3032,"client");return!1}if(1==IsDependent(parentArr[a])){var m=0,f="";$j(r).find("option").each(function(){"0"==$j(this).val()&&""==$j(this).val()||(f+=$j(this).val()+"$$$")}),ArrDep.push(parentArr[a]+"~"+f),n+=parentArr[a]+"~"+u+"¿"}else n+=parentArr[a]+"~"+u+"¿"}}}if("none"!=$j("#paramCont").css("display"))for(m=0;m<i.length;m++)if(""!=i[m]){ShowDimmer(!1),callParentNew("closeFrame()","function"),showAlertDialog("warning",3011,"client",'"'+i[m]+'"');break}return 0==i.length&&(window.parent.childWindowHandler==undefined?$j("#hdnGo").val("Go"):window.parent.childWindowHandler.length>0&&window.parent.childWindowHandler[window.parent.childWindowHandler.length-1]!=undefined&&!window.parent.childWindowHandler[window.parent.childWindowHandler.length-1].closed?$j("#hdnGo").val("TSSave"):$j("#hdnGo").val("Go")),$("#hdnparamValues").val(n),!0}function SetParamValues(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";new Date;if(AddDatePicker(),AddTimePicker(),clearParams)return FillDependentsStartup(!0),void(clearParams=!1);if(""!=e&&e!=undefined){var a=e.split("¿"),n=0;for(n=0;n<=a.length-1;n++)if(""!=a[n]){var i=a[n].split("~");null!=i[1]&&-1!=i[1].indexOf("quot;")&&(i[1]=i[1].replace(/quot;/g,"'"));var r=$j("#"+i[0]);if(r.length){var o=!1,l=r.prop("type");if(t){var s=t[i[0]];s&&("select-one"==l&&"select"==s.type.toLowerCase()?setParamsValueList(i[0],"select",s.value.split("`"),""):"select-multiple"!=l&&"checkbox"!=l&&"multi select"==s.type.toLowerCase()&&setParamsValueList(i[0],"multi select",s.value.split("`"),""))}if("select-one"==l){var c=r[0].options.length;if(1==c&&"ALL"==r.find("option:selected").val()&&(r[0].options.length=0,c=0,o=!0),0==c){for(var d=0;d<ArrDep.length;d++){var p=ArrDep[d].split("~");if(p[0]==i[0]){var u=p[1].split("$$$"),h=0;for(r[0].options.length=0,h=0;h<u.length-1;h++)$j(r).each(function(){$j(this).append($j("<option></option>").attr("value",u[h]).text(u[h]))});$j(r).find("option").each(function(e){if($j(this).text()==i[1])return $j(this).attr("selected","selected"),!1})}}c=r[0].options.length}0==c&&o?$j(r).each(function(){$j(this).append($j("<option></option>").attr("value","ALL").text("ALL"))}):0==c&&0==(null==ArrDep?void 0:ArrDep.length)&&$j(r).each(function(){$j(this).append($j("<option></option>").attr("value",i[1]).text(i[1]))}),$j(r).find("option").each(function(){$j(this).removeAttr("selected"),$j(this).text()==i[1]&&$j(this).prop("selected",!0)})}else if("select-multiple"!=l||r.parents(".paramtd2").hasClass("pick-list")){if("checkbox"==l){var m=i[1].split("&grave;"),f=$j(r).parent().next("div").find("input").length;$j(r).parent().next("div").find("input").each(function(){$j(this).prop("checked",!1)});for(g=0;g<m.length;g++)$j(r).parent().next("div").find("input").each(function(){if($j(this).val()==m[g])return $j(this).prop("checked",!0),1,!1});f===m.length&&$j(r).length>0&&$j(r).prop("checked",!0)}else if(parentArr[n]==i[0]&&"Date/Time"==paramType[n]&&"en-us"==dtCulture.toLowerCase()&&""!=i[1]?r.val(GetDateStr(i[1],"d/m/Y","m/d/Y")):r.val(i[1]),r.hasClass("multiFldChk")){i[1]=i[1].replace(/&grave;/g,r.data("separator"));try{r.data("bs.tokenfield")?r.tokenfield("setTokens","string"==typeof i[1]?_toConsumableArray(new Set(i[1].split(r.data("separator")))):i[1]):r.data("selectedlist",i[1])}catch(w){}}}else{for(var v=i[1].split("&grave;"),g=0;g<v.length;g++)$j(r).find("option").each(function(){if($j(this).text()==v[g])return $j(this).attr("selected","selected"),!1});if(r.hasClass("trySelectedMs")){i[1]=i[1].replace(/&grave;/g,r.data("separator"));try{r.data("bs.tokenfield")?r.tokenfield("setTokens","string"==typeof i[1]?_toConsumableArray(new Set(i[1].split(r.data("separator")))):i[1]):r.data("selectedlist",i[1])}catch(w){}}}$j("#hdnParamChngd").val("true")}}}loadPop||!window.parent.isSessionCleared||"Iview"!=document.title&&"Listview"!=document.title||(window.parent.isSessionCleared=!1),$j("#hdnGo").val(""),AxWaitCursor(!1),ShowDimmer(!1)}var clearParams=!1,xmlObj;function ClearParamValues(){if(isFromClearBtn=!0,callParentNew("loadFrame()","function"),clearParams=!0,$j("#hdnparamValues").val(""),"Iview"==document.title||"Listview"==document.title){var e,t;GetParamValues("clear"),$j("#hdnGo").val("clear"),recordsExist=!1,resetSmartViewVariables();try{$(".multiFldChk").each(function(e,t){$(t).data("bs.tokenfield")&&($(t).attr("data-selectedlist",$(t).tokenfield("getTokensList")),$(t).tokenfield("destroy"))}),$("select.trySelect, select.trySelectDF, select.trySelectPl, select.trySelectMs").each(function(e,t){try{$(t).select2("destroy")}catch(a){}})}catch(a){}$(".multiFldChk, select.trySelect, select.trySelectDF, select.trySelectPl, select.trySelectMs").length>0&&(null===(e=$("#Filterscollapse"))||void 0===e?void 0:null===(t=e.collapse)||void 0===t?void 0:t.call(e,"hide"))&&$j("#hdnParamHtml").val($j("#dvParamCont").html())}arrCheckedFilter.length=0,selectedFilterItem=""}function clearFilterValues(){callParentNew("loadFrame()","function"),GetParamValues(),arrCheckedFilter.length=0,selectedFilterItem=""}function iviewValidatedate(e){return"  /  /"==e.val()||0!=isIviewDate(e.val())||(e.val(""),e.focus(),!1)}function isIviewDate(e){if(""==(e=DateDisplayFormat(e)))return!0;var t=DaysArray(12),a=e.indexOf(dtCh),n=e.indexOf(dtCh,a+1),i=e.substring(0,a),r=e.substring(a+1,n),o=e.substring(n+1);strYr=o,"0"==i.charAt(0)&&i.length>1&&(i=i.substring(1)),"0"==r.charAt(0)&&r.length>1&&(r=r.substring(1));for(var l=1;l<=3;l++)"0"==strYr.charAt(0)&&strYr.length>1&&(strYr=strYr.substring(1));return month=parseInt(r),day=parseInt(i),year=parseInt(strYr),-1==a||-1==n?(showAlertDialog("warning",3012,"client"),!1):r.length<1||month<1||month>12?(showAlertDialog("warning",3013,"client"),!1):i.length<1||day<1||day>31||2==month&&day>daysInFebruary(year)||day>t[month]?(showAlertDialog("warning",3014,"client"),!1):4!=o.length||0==year||year<minYear||year>maxYear?(showAlertDialog("warning",3015,"client",minYear+"^♠^"+maxYear),!1):-1==e.indexOf(dtCh,n+1)&&0!=isInteger(stripCharsInBag(e,dtCh))||(showAlertDialog("warning",3016,"client"),!1)}function Calendarvalidate(e,t){var a=e.which?e.which:event.keyCode,n=t.length;return(46==a||47==a)&&n>0&&(a=49),!(a>31&&(a<48||a>57))}function validatecalendar(e,t){e.which?e.which:event.keyCode,t.length;return!0}function IsInteger(e){var t;for(t=0;t<e.length;t++){var a=e.charAt(t);if(a<"0"||a>"9")return!1}return!0}function CheckKeyPressed(e,t){document.getElementById(t);"which"in e?e.which:"keyCode"in e?e.keyCode:"keyCode"in window.event?window.event.keyCode:"which"in window.event?e.which:showAlertDialog("error",3017,"client")}function ChkHdrCheckbox(){var e=$j("#chkall"),t=!0;$j("input[name=chkItem]:checkbox").each(function(){var e=$j(this).prop("checked");if(e==undefined||0==e)return t=!1,!1}),t?e.prop("checked",!0):e.prop("checked",!1)}function CreateXmlObject(e){return ie?(xmlObj=new ActiveXObject("Microsoft.XMLDOM")).loadXML(e):(parser=new DOMParser,xmlObj=parser.parseFromString(e,"text/xml")),xmlObj}var ie=document.all;function CheckSpecialCharsInXml(e){return null==e?"":e=(e=(e=(e=e).replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")}function FillDependents(e){ValParamChanged(e),AxWaitCursor(!0),ctrlID=e;var t=0,a="",n=0;for(n=0;n<parentArr.length;n++)if(parentArr[n]==e){if(""!=depArr[n]||""!=columnDepArr[n]){for(t=0;t<parentArr.length;t++){var i,r="";i=parentArr[t],r=typeArr[t],pValue="";var o=$("<div />"),l=!1;if("accept"==r.toLowerCase())pValue=$("#"+i).val(),"Date/Time"==paramType[t]&&"en-us"==dtCulture.toLowerCase()&&""!=pValue&&(pValue=GetDateStr(pValue,"d/m/Y","m/d/Y"));else if("select"==r.toLowerCase()){if(o=$("#"+i).find("option:selected"),$("option:selected","#"+i).index()>=0){pValue=o.text();try{l=Object.keys(o.data()).filter(function(e){return e.startsWith("optionsss")}).length>0}catch(g){}}}else if("multi select"==r.toLowerCase())pValue="object"==_typeof($j("#"+i).val())?$j("#"+i).val().join("~"):$j("#"+i).val(),pValue=pValue.replace(/~/g,"&grave;");else if(pValue="object"==_typeof($j("#"+i).val())?$j("#"+i).val().join("~"):$j("#"+i).val(),"pick list"==r.toLowerCase()){o=$("#"+i);try{l=Object.keys($j("#"+i).data()).filter(function(e){return e.startsWith("optionsss")}).length>0}catch(g){}}if(pValue=CheckSpecialCharsInXml(pValue),e==i&&"Date/Time"==paramType[t]){if(!isDtSelected&&"accept"==r.toLowerCase())return;isDtSelected=!1}l?function(){if("pick list"==r.toLowerCase()&&""==columnDepArr[n]&&(columnDepArr[n]=Object.keys(o.data()).filter(function(e){return e.startsWith("optionsss")}).map(function(e){return e.replace("optionsss","")}).join()||""),""!=columnDepArr[n]){var e=[];columnDepArr[n].split(",").forEach(function(t){sqlParamsArr.forEach(function(a,n){a.split(",").forEach(function(a){t==a&&e.push(parentArr[n])})})}),depArr[n]=_toConsumableArray(new Set([].concat(_toConsumableArray(depArr[n].split(",")),e))).join()}var t=Object.keys(o.data()).filter(function(e){return e.startsWith("optionsss")}),i="",l="",s="";t.forEach(function(e){i=e.replace("optionsss",""),l=o.data(e),s=o.data("dtypeee".concat(i))||"",a+="<"+i+(s?' dt="'.concat(s,'"'):"")+">"+(""!=pValue?l:"")+"</"+i+">"})}():a+=t>n?"<"+i+"></"+i+">":"<"+i+">"+pValue+"</"+i+">"}for(var s="",c=!1,d=0;d<depArr.length;d++)if(parentArr[d]==e&&""!=depArr[d]){var p;if(""!=(p=CheckDepParents(e,depArr[d],s))){""==s?s=p:s+=","+p;var u=$("#"+p).attr("type");void 0===u&&$("#"+p).hasClass("trySelect")&&(u="select")}u!=undefined&&"hidden"!=u&&(c=!0)}1==c&&ShowDimmer(!0);var h=traceSplitStr+"GetDependParams-"+iName+traceSplitChar,m='<sqlresultset name="'+iName+'" axpapp="'+proj+'" transid=""  sessionid="'+sid+'" trace="'+h+'" depparams="'+s+'" pageno ="1" pagesize="100">';m+=a;try{isDepsProcessed=!1,ASB.WebService.GetDependParamsValues(m,$("#hdnKey").val(),SuccGetDependents,OnParDepException)}catch(w){isDepsProcessed=!0,AxWaitCursor(!1),ShowDimmer(!1),formSubmited&&$j("#button1").click()}}else FillHiddenValues(e),AxWaitCursor(!1),ShowDimmer(!1);break}if($("#"+e).hasClass("onlyTime"))if(""!=$("#"+e).val()&&(!timePickerSec&&"00:00"!=$("#"+e).val()||timePickerSec&&"00:00:00"!=$j("#"+e).val()))$("#"+e).val(CheckValidTime($j("#"+e).val()));else{for(var f=!1,v=0;v<parentArr.length;v++)if(e==parentArr[v]&&""!=Expressions[v]){f=!0,ExprHandler(e,"");break}f||(timePickerSec?$("#"+e).val("00:00:00"):$("#"+e).val("00:00"))}}function CheckDepParents(e,t,a){for(var n="",i=t.split(","),r=a.split(","),o=0;o<i.length;o++){if(i[o]!=e)-1==$.inArray(i[o],r)&&(n+=""==n?i[o]:","+i[o])}return n}function OnParDepException(e){AxWaitCursor(!1),ShowDimmer(!1),isDepsProcessed=!0,formSubmited&&$j("#button1").click()}function ValParamChanged(e){var t="",a=$j("#"+e);a.length&&("accept"==a.prop("type").toLowerCase()?t=a.val():"select"==a.prop("type").toLowerCase()?t=$j("#"+pItem).find("option:selected").text():"select-one"==a.prop("type").toLowerCase()?-1!=$j("option:selected",a).index()&&(t=$j(a).find("option:selected").text()):t=a.val());var n=0,i=0;for(i=0;i<parentArr.length;i++)if(parentArr[i]==e){currFldValue=pCurArr[i],n=i;break}var r;r=$j("#hdnParamChngd").val(),t!=currFldValue&&"true"==r?($j("#lblErrMsg").text(appGlobalVarsObject.lcm[6]),pCurArr[n]=t):$j("#lblErrMsg").text("")}function SuccGetDependents(e,t){if(AxWaitCursor(!1),ShowDimmer(!1),!CheckSessionTimeout(e)){if("<error>"==e.substring(0,7))showAlertDialog("error",e),this.blur();else{var a=e;try{xmlObj=CreateXmlObject(a)}catch(P){showAlertDialog("error",P.message)}var n=xmlObj.getElementsByTagName("sqlresultset"),i=n[0].childNodes.length,r="",o="",l="",s="",c="",d=new Array,p="",u=0;for(u=0;u<i;u++)if(s=paramsSplCharsCheck(s=n[0].childNodes[u].getAttribute("value")),null!=n[0].childNodes[u].getAttribute("cat")){for(var h=n[0].childNodes[u].childNodes.length,m=new Array,f=new Array,v=0;v<h;v++)if("a0"==(r=n[0].childNodes[u].childNodes[v].tagName)&&(o=n[0].childNodes[u].childNodes[v].firstChild.nodeValue),"a4"==r&&(p=n[0].childNodes[u].childNodes[v].firstChild.nodeValue),"a13"==r&&(l=n[0].childNodes[u].childNodes[v].firstChild.nodeValue),"a21"==r&&(c=n[0].childNodes[u].childNodes[v].firstChild.nodeValue),"response"==r&&n[0].childNodes[u].childNodes[v].childNodes.length>=1){n[0].childNodes[u].childNodes[v].childNodes;var g=0;for(g=0;g<n[0].childNodes[u].childNodes[v].childNodes.length;g++)ie?(m[g]=n[0].childNodes[u].childNodes[v].childNodes[g].childNodes[0].text,m[g]=paramsSplCharsCheck(m[g])):(m[g]=n[0].childNodes[u].childNodes[v].childNodes[g].childNodes[0].textContent,m[g]=paramsSplCharsCheck(m[g])),f[g]=[],n[0].childNodes[u].childNodes[v].childNodes[g].childNodes.length>1&&(f[g]=$(n[0].childNodes[u].childNodes[v].childNodes[g].childNodes).toArray().reduce(function(e,t,a){var n=t.textContent||t.text;n=paramsSplCharsCheck(n);var i=[];return i.push(_defineProperty({},"optionsss".concat(a>0?t.tagName:o),n)),0!=a&&t.hasAttribute("dt")&&i.push(_defineProperty({},"dtypeee".concat(a>0?t.tagName:o),t.getAttribute("dt"))),e.push(i),e},[]).flat())}null==s&&(s="");var w="";if(w=document.getElementById(o),"Date/Time"==p&&"en-us"==dtCulture.toLowerCase()&&""!=s&&(s=GetDateStr(s,"d/m/Y","m/d/Y")),"select"==l.toLowerCase()&&"false"==c){var b;setParamsValueList(o,l,m,s,f);var y=m.length;m.splice(0,y),null!==(b=$(w).data("select2"))&&void 0!==b&&b.isOpen()&&($(w).select2("close"),$(w).select2("open"))}if("select"==l.toLowerCase()&&"true"==c)w.value=s;else if("accept"==l.toLowerCase()&&"false"==c)w.value=s;else if("accept"==l.toLowerCase()&&"true"==c)w.value=s,d.push(o);else if("multi select"==l.toLowerCase()){var x;setParamsValueList(o,l,m,s);y=m.length;m.splice(0,y),null!==(x=$(w).data("select2"))&&void 0!==x&&x.isOpen()&&($(w).select2("close"),$(w).select2("open"))}else if("pick list"==l.toLowerCase()&&"false"==c){var C,S=w.value;if(w.value=s,""==s){var j={id:"",text:"",tag:!0},k=new Option(j.text,j.id,!1,!1);$(w).append(k).trigger("change")}else if(""!=s&&s!=S){j={id:s,text:s,tag:!0},k=new Option(j.text,j.id,!0,!0);$(w).append(k).trigger("change")}null!==(C=$(w).data("select2"))&&void 0!==C&&C.isOpen()&&($(w).select2("close"),$(w).select2("open"))}}}onLoadDep=!1,isFstParamsBound&&(document.getElementById("button1").click(),isFstParamsBound=!1),$j("#hdnParamHtml").val($j("#dvParamCont").html()),isDepsProcessed=!0,formSubmited&&$j("#button1").click()}}function ValidateOnSubmit(){GetCurrentTime("Iview param Search button click(Post back)"),ShowDimmer(!0);var e,t,a,n,i=!0;if($j("#hdnParamHtml").val($j("#dvParamCont").html()),validateParamOnGo)for(j=0;j<parentArr.length;j++)if(paramType=hiddenArr[j],"true"!=paramType&&(expr=vExpressions[j],fldName=parentArr[j],""!=expr)){var r=Evaluate(fldName,fldName.valueOf(),expr,"vexpr","iview");if("T"!=r&&"true"!=r){if("_"==r.substring(0,1)){r=r.substring(1),showAlertDialog("error",r);var o=$j("#"+fldName);if(o.length){o.val("");try{o.focus()}catch(f){}}return}confirm(r+". Do you want to continue?")||setTimeout("document.getElementById('"+paramNm+"').focus();",50),i=!1;break}}clearParams||i&&(i=GetParamValues("",(null===(e=window)||void 0===e?void 0:e.event)||(null==arguments?void 0:null===(t=arguments.callee)||void 0===t?void 0:null===(a=t.caller)||void 0===a?void 0:null===(n=a.arguments)||void 0===n?void 0:n[0])||""));if(arrCheckedFilter.length=0,$("#newViewparams").val($j("#hdnparamValues").val()),isDepsProcessed){if(formSubmited=!1,i){var l,s;totRowCount="",clearAdvancedFiltersforNewData();var c,d,p,u,h,m=$j("#hdnparamValues").val();if(m=(m=(m=m.replace(/&/g,"--.--")).replace(/~/g,"=")).replace(/¿/g,"&"),""!=(m=ReplaceUrlSpecialChars(m)))setIviewNavigationData(m,iName),null===(c=callParentNew("updateAppLinkObj"))||void 0===c||c(window.location.href.replace("iview.aspx?ivname=","ivtoivload.aspx?ivname=")+"&AxIvNav=true",1,"axpiframe"==(null===(d=window)||void 0===d?void 0:null===(p=d.frameElement)||void 0===p?void 0:p.id),_objectSpread({},null===(u=window)||void 0===u?void 0:null===(h=u.frameElement)||void 0===h?void 0:h.dataset));resetSmartViewVariables();try{$(".multiFldChk").each(function(e,t){$(t).data("bs.tokenfield")&&($(t).attr("data-selectedlist",$(this).tokenfield("getTokensList")),$(t).tokenfield("destroy"))}),$("select.trySelect, select.trySelectDF, select.trySelectPl, select.trySelectMs").each(function(e,t){try{$(t).select2("destroy")}catch(f){}})}catch(f){}$(".multiFldChk, select.trySelect, select.trySelectDF, select.trySelectPl, select.trySelectMs").length>0&&(null===(l=$("#Filterscollapse"))||void 0===l?void 0:null===(s=l.collapse)||void 0===s?void 0:s.call(l,"hide"))&&$j("#hdnParamHtml").val($j("#dvParamCont").html())}else $(".animationLoading").hide(),ShowDimmer(!1);return GetProcessTime(),$j("#hdnbElapsTimeGo").val(callParentNew("browserElapsTime")),i}return formSubmited=!0,!1}function evalParamExprHandler(){parentArr.forEach(function(e,t){"accept"!=typeArr[t].toLowerCase()||""===Expressions[t]||"date()"===Expressions[t].toLowerCase()||exprSuggestions[t]||"true"==hiddenArr[t]||ExprHandler(e,"")})}function FillHiddenValues(e){var t=0,a=0,n="",i="",r=!1;for(t=0;t<parentArr.length;t++)if(parentArr[t]==e){for(a=t+1;a<parentArr.length;a++){if("true"==hiddenArr[a]){n=Expressions[a],i=parentArr[a],""!=n&&ExprHandler(i,""),FillDependents(i),r=!0;break}break}if(1==r)break}}function GetDateParamFormat(Pdate){var arrdt=new Array;arrdt=Pdate.split("/");var mon="";mon=arrdt[1],mon=eval(mon)-1;var monthNames=new Array("January","February","March","April","May","June","July","August","September","October","November","December");mon=monthNames[mon];var strDate="";return strDate=arrdt[0]+"-"+mon+"-"+arrdt[2],strDate}var result="",expfield="",expfieldname="";function ExprHandler(e,t){var a=arguments.length>2&&arguments[2]!==undefined&&arguments[2];if(a&&""==t||!a){expfield=e.toString();for(var n=0;n<parentArr.length;n++)if(expfield==parentArr[n]&&""!=Expressions[n]){GetParamValues(),paramValuesArray=getParamsValueArray(),"username"==(result=Evaluate(expfield,e.valueOf(),Expressions[n],"expr","iview"))||"usergroup"==result||assignfldvaliv(expfield,result);break}}}function assignfldvaliv(e,t){var a="",n=$j("#"+e);if(n.length){for(var i=0;i<parentArr.length;i++)parentArr[i]==e&&(a=typeArr[i]);if("text"==n.prop("type")||"hidden"==n.prop("type"))"''"==t&&(t=""),t||(t=""),"Date/Time"==a&&0==t&&(t=""),"string"==typeof t&&(t=checkIVSpecialCharInGlobalVar(t)),n.val(t);else if("select-one"==n.prop("type")){for(var r=n.find("option").length,o=0;o<r&&n.val()!=t;o++);n[o].selectedIndex}}}function checkIVSpecialCharInGlobalVar(e){return e=(e=(e=(e=(e=e.replace(/&amp;/g,"&")).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&apos;/g,"'")).replace(/&quot;/g,"\\")}function ValidateVexpr(e,t){if(!validateParamOnGo){var a=Evaluate(e,e.valueOf(),t,"vexpr","iview");if("T"!=a&&"true"!=a){var n=a.substring(0,1),i=appGlobalVarsObject.lcm[7];if(i=i.replace("{0}",a),"_"==n){var r;if(a=a.substring(1),showAlertDialog("error",a),(r=$j("#"+e)).length){r.val("");try{r.focus()}catch(o){}}return}return confirm(i)?((r=$j("#"+e)).length&&r.hasClass("date")&&(isDtVExpr=!0),assignfldvaliv(r,r.val()),!1):((r=$j("#"+e)).length&&r.hasClass("date")?isDtVExpr=!0:setTimeout("document.getElementById('"+e+"').focus();",50),!0)}}}function SetParamxml(){ShowDimmer(!0),$j("#hdnGo").val("")}var curPageNo=1;function ToggleParams(){var e;e=$j("#paramCont");var t=document.getElementById("imgArrow");"Hide"==(t=$j("#imgArrow")).attr("alt")?(t.attr({alt:"Show",src:"../AxpImages/arrowup.png"}),e.hide()):"Show"==t.attr("alt")&&(t.attr({alt:"Hide",src:"../AxpImages/arrowdown.png"}),e.show())}function CheckAll(e){var t=$j("#chkall");void 0!==e&&t.prop("checked",e),1==t.prop("checked")?$j("input[name=chkItem]:checkbox").each(function(){$j(this).prop("checked",!0)}):$j("input[name=chkItem]:checkbox").each(function(){$j(this).prop("checked",!1)})}function CheckCond(e){var t=$j("#filVal2");"between"==e.value?t.prop("disabled",!1):t.prop("disabled",!0)}var isDtSelected=!1,isDtVExpr=!1;function AddDatePicker(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";e=e.startsWith("#")||""==e?e:"#"+e+" ",$(e+".date").length>0&&$(e+".date").parent().flatpickr({dateFormat:dtFormat,disableMobile:"true",allowInput:!0,wrap:!0,onOpen:function(e,t,a){var n=$(a.element).find("input").attr("data-onVexpr");void 0!==n&&""!=n&&0!=isDtVExpr||ExprHandler($(a.element).find("input").attr("id"),"",!0),""!=t&&a.setDate($(a.element).find("input").val())},onChange:function(e,t,a){isDtSelected=!0},onClose:function(e,t,a){0==isDtVExpr?ValidateDTVexpr($(a.element).find("input")):isDtVExpr=!1}})}function ValidateDTVexpr(e){try{var t=e.attr("data-onVexpr");void 0!==t&&""!=t&&(ValidateVexpr(e.attr("id"),t),ExprHandler(e.attr("id"),"",!0))}catch(a){}}function compareDates(e){if(iviewValidatedate(e)&&e.parents(".gridDataFilter").length){var t=e.attr("id"),a=$("#"+t.substr(0,t.length-1)+"1"),n=$("#"+t.substr(0,t.length-1)+"2"),i=0,r=0;try{i=a.datepicker("getDate").getTime()}catch(o){}try{r=n.datepicker("getDate").getTime()}catch(o){}i>r&&0!=i&&0!=r&&(e.val(""),e.focus(),showAlertDialog("warning",callParentNew("lcm")[89]))}}function AddTimePicker(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";e=e.startsWith("#")||""==e?e:"#"+e+" ",$(e+".onlyTime").length>0&&$(e+".onlyTime").parent().flatpickr({enableTime:!0,noCalendar:!0,dateFormat:"H:i",time_24hr:!0,disableMobile:"true",wrap:!0})}function GetUserLocale(){for(var e=0;e<Parameters.length;e++){var t=Parameters[e].split("~");"Culture"==t[0]&&(dtCulture=t[1])}dtCulture=callParentNew("glCulture")||dtCulture,dtFormat=GetDateFormat(dtCulture)}function loadParent(e,t){var a=document.getElementById("searchlist"),n=document.getElementById("pgno"),i=parseInt(n.value);a.selectedIndex=10*i+parseInt(e,10);SetSelectedValue(a,"searchlistval",t)}function SetSelectedValue(listcontrol,listctrl,b){if(-1!=listcontrol[listcontrol.selectedIndex].value){var fname=b,result=listcontrol[listcontrol.selectedIndex].value;$(callParentNew(fname,"id")).append(new Option(result,result,!0,!0)).trigger("change");var iVData=$("#hdnIViewData2").val();""!=iVData&&applyAdvPicklistData(fname,listcontrol.selectedIndex,iVData);var len=eval("form1."+listctrl+".options.length");if(len>0&&-1!=eval("form1."+listctrl+"["+listcontrol.selectedIndex+"].value")){var fldarr=eval("form1."+listctrl+"["+listcontrol.selectedIndex+"].value");fldarr=fldarr.split("~");for(var fill=0;fill<fldarr.length;fill++)if(""!=fldarr[fill]){var fieldnm=fldarr[fill].toString();fieldnm=fieldnm.split("***"),eval("document.forms['f1']."+fieldnm[0]+cbnameExt)&&"radio"!=eval("document.forms['f1']."+fieldnm[0]+cbnameExt+".type")&&("*"==fieldnm[1]?eval("document.f1."+fieldnm[0]+cbnameExt+'.value=""'):eval("document.f1."+fieldnm[0]+cbnameExt+'.value="'+fieldnm[1]+'"'))}}callParentNew("loadPopUpPage","id").dispatchEvent(new CustomEvent("close"))}}function applyAdvPicklistData(e,t,a){try{var n=$(callParentNew(e,"id"));if(a){var i,r,o,l=$.parseJSON(a),s=(t+1)%10-1;-1==s&&(s=9);var c=null==l?void 0:null===(i=l.sqlresultset)||void 0===i?void 0:null===(r=i.response)||void 0===r?void 0:null===(o=r.row)||void 0===o?void 0:o[s];Object.keys(c||[]).forEach(function(e,t,a){var i="string"==typeof c[e]?c[e]:c[e]["#text"];n.data("optionsss".concat(t>0?e:a[0]),i),0!=t&&c[e]["@dt"]&&n.data("dtypeee".concat(t>0?e:a[0]),c[e]["@dt"])})}}catch(d){}}var depParamCnt=0,isFstParamsBound=!1,onLoadDep=!1;function FillDependentsStartup(e){new Date;depParamCnt=0,isFstParamsBound=e;try{AxFillDepOnLoad()}catch(t){}1==e&&0==isFromClearBtn||""!=$("#hdnSelParamsAftrChWin").val()?(submittedOnLoad=!0,setTimeout(function(){document.getElementById("button1").click(),isFstParamsBound=!1},0)):isFromClearBtn?(submittedOnLoad=!1,isFstParamsBound=!1,onLoadDep=!0,$(".animationLoading").hide()):(submittedOnLoad=!1,onLoadDep=!0,$(".animationLoading").hide())}function showHideTooltip(e){try{document.getElementById(e).title=document.getElementById(e).options[$("#"+e)[0].selectedIndex].text}catch(t){}}function CheckSpCharsInFldValueIview(e){for(var t=e.indexOf("^^dq");-1!=t;)t=(e=e.replace("^^dq","%22")).indexOf("^^dq");return-1!=e.indexOf(";bkslh")&&(e=e.replace(new RegExp(";bkslh","g"),"\\")),e}function showHide(e){var t=e;$j(".ListCust").hide(),$j("#div"+t).show(),$j("#tblProp tr").each(function(){$j(this)[0].className.indexOf("selProperty")>=0&&($j(this).removeClass("selProperty"),$j(this).addClass("RowCust"))}),$j("#"+t).removeClass("RowCust"),$j("#"+t).addClass("selProperty")}function openListActionWin(){$j(".ListCust").hide(),$j("#divtr1").show(),$j("#tr1").css("background-color","#D9D2D4"),$j("#divAction").dialog({title:"List view actions",height:400,width:800,position:"center",modal:!0,buttons:{Ok:function(){ApplyCondition($j(this))}}}),Adjustwin()}function ApplyCondition(e){$j("#button1").click()}function ToggleParamsLstProp(){var e=$j("#divProperty"),t=document.getElementById("imgArrow");"Hide"==(t=$j("#imgArrow")).attr("alt")?(t.attr({alt:"Show",src:"../AxpImages/arrow-up-black.gif"}),e.hide()):"Show"==t.attr("alt")&&(t.attr({alt:"Hide",src:"../AxpImages/arrow-down-black.gif"}),e.show())}function client_OnTreeNodeCheckedList(){var e,t=window.event.srcElement,a=!1;if(ValidateGridDc(),griddccnt>1)(n=t).checked=!1;else if("INPUT"==t.tagName&&"checkbox"==t.type){var n;1!=(e=(n=t).checked)&&0!=e||(""==hdnTree?hdnTree+=n.parentElement.children[1].innerHTML:hdnTree+="~"+n.parentElement.children[1].innerHTML,NewTree.push(n.parentElement.children[1].innerHTML));do{t=t.parentElement}while("TABLE"!=t.tagName);var r=t.rows[0].cells.length,o=(t.rows[0].cells[0],t.parentElement.getElementsByTagName("TABLE")),l=o.length;if(l>=1)for(i=0;i<l;i++){if(o[i]==t&&(a=!0,i++,i==l))return;if(1==a){changed=!0;var s=o[i].rows[0].cells.length;if(!(s>r))return;o[i].rows[0].cells[s-1].getElementsByTagName("INPUT")[0].checked=e}}}}var griddccnt=0;function ValidateGridDc(){griddccnt=0,$j("#tvList input[type=checkbox]:checked").each(function(){-1!=($j(this).parentNode!=undefined?$j(this).parentNode:$j(this))[0].nextSibling.innerHTML.indexOf("Grid DC")&&griddccnt++}),griddccnt>1&&showAlertDialog("warning",3018,"client")}var childdccnt=0,childdccnt1=0,childdccnt2=0;function validateChildDc(){var e=0,t=(window.event.srcElement,document.getElementById("tvList").getElementsByTagName("input"));for(childdccnt1=0,childdccnt2=0,i=0;i<t.length;i++)if("checkbox"==t[i].type){t[i].nextSibling.innerHTML;-1!=t[i].nextSibling.innerHTML.indexOf("Grid DC")&&(e=1+e),t[i].checked&&1==e?childdccnt1=1:t[i].checked&&2==e&&(childdccnt2=2)}childdccnt1>=1&&childdccnt2>=2&&showAlertDialog("warning",3018,"client")}var fldName="";function checkDc(){var e=$j("#hdnNoRepeat").val();$j("#tblNorep input[type=checkbox]").each(function(){var e=$j(this)[0].value,t=$j(this),a=0;$j("#tvList input[type=checkbox]:checked").each(function(){var t=$j(this).next("a"),n="",i=t.attr("href").substring(t.attr("href").indexOf(",")+2,t.attr("href").length-2).split("\\");n=i.length>1?i[i.length-1]:i[0].substr(1),e==n&&(a=1)}),0==a&&t.parent().parent().remove()});var t="",a=$j("#hdnParent").val();$j("#tvList input[type=checkbox]:checked").each(function(){if(t=$j(this),-1!=a.indexOf(t[0].nextSibling.innerHTML)&&""!=t[0].nextSibling.innerHTML);else{fldName=0;var e=t[0].nextSibling.innerHTML,n=$j(this).next("a"),i="",r=n.attr("href").substring(n.attr("href").indexOf(",")+2,n.attr("href").length-2).split("\\");i=r.length>1?r[r.length-1]:r[0].substr(1);var o=document.getElementById("tblNorep");if($j("#tblNorep input[type=checkbox]").each(function(){$j(this)[0].title;$j(this)[0].value==i&&(fldName=1)}),0==fldName){var l=$j("#tblNorep tr").length,s=o.insertRow(l).insertCell(),c=document.createElement("input"),d=document.createElement("label");c.type="checkbox",c.value=i,c.title=e,d.innerHTML=e,s.title=e,s.appendChild(c),s.appendChild(d)}}}),""==e&&null==e||$j("#tblNorep input[type=checkbox]").each(function(){var t=$j(this)[0].value;-1!=e.indexOf(t)&&($j(this)[0].checked=!0)})}var fld="";function bindSubtotalColmn(){var e=$j("#hdnSubtotlCaptn").val();$j("#tblSubtotal  input[type=checkbox]").each(function(){var e=$j(this)[0].value,a=$j(this),n=0;$j("#tvList input[type=checkbox]:checked").each(function(){t=$j(this);var a=$j(this).next("a"),i="",r=a.attr("href").substring(a.attr("href").indexOf(",")+2,a.attr("href").length-2).split("\\");i=r.length>1?r[r.length-1]:r[0].substr(1),e==i&&(n=1)}),0==n&&a.parent().parent().remove()});var t="",a=$j("#hdnParent").val();$j("#tvList input[type=checkbox]:checked").each(function(){if(t=$j(this),-1!=a.indexOf(t[0].nextSibling.innerHTML)&&""!=t[0].nextSibling.innerHTML);else{fld=0;var n=t[0].nextSibling.innerHTML,i=document.getElementById("tblSubtotal"),r=$j(this).next("a"),o="",l=r.attr("href").substring(r.attr("href").indexOf(",")+2,r.attr("href").length-2).split("\\");if(o=l.length>1?l[l.length-1]:l[0].substr(1),$j("#tblSubtotal  input[type=checkbox]").each(function(){var t=$j(this)[0].value;-1!=e.indexOf(t)&&($j(this)[0].checked=!0),t==o&&(fld=1)}),0==fld){var s=$j("#tblSubtotal tr").length,c=i.insertRow(s).insertCell(),d=document.createElement("input"),p=document.createElement("label");d.type="checkbox",d.value=o,d.title=n,p.innerHTML=n+"("+o+")",p.width="20px",c.title=n,c.appendChild(d),c.appendChild(p)}}}),""==e&&null==e||$j("#tblSubtotal  input[type=checkbox]").each(function(){var t=$j(this)[0].value;-1!=e.indexOf(t)&&($j(this)[0].checked=!0)}),$j("#tblSubtotal input[type=checkbox]").click(function(){$j(this);var e=this.title,t=$j(this)[0].value;"checked"==$j(this).attr("checked")?($j("#txtFooter").val("Total"),$j("#txtHeader").val(t),$j("#ddlCaption").val(t),$j("#txtSubOrder").val("0")):($j("#txtHeader").val()==e&&($j("#txtFooter").val(""),$j("#txtHeader").val(""),$j("#ddlCaption option:selected").text(""),$j("#ddlCaption option:selected").val(""),$j("#txtSubOrder").val("")),$j("#tblSubtotlList").each(function(){$j("#tblSubtotlList tr > td:contains("+e+")").parent().remove()}))}),$j("#tblSubtotal").each(function(){$j("tr",this).addClass("clsSubtotl")})}function bindSubttlDrpdwn(){$j("#ddlCaption").empty();var e=$j("#hdnParent").val(),t=$j("#ddlCaption"),a='<option value=""></option>';$j("#tvList input[type=checkbox]:checked").each(function(){if($j(this).parentNode!=undefined)PNode=$j(this).parentNode;else if(PNode=$j(this),-1!=e.indexOf(PNode[0].nextSibling.innerHTML)&&""!=PNode[0].nextSibling.innerHTML);else{var t=PNode[0].nextSibling.innerHTML,n=$j(this).next("a"),i="",r=n.attr("href").substring(n.attr("href").indexOf(",")+2,n.attr("href").length-2).split("\\");i=r.length>1?r[r.length-1]:r[0].substr(1),a+='<option value="'+i+'">'+t+"</option>"}}),t.html(a)}function AddNewListCondition(){var e=document.getElementById("tblFilter"),t="0",a=document.getElementById("FilterRowCount");a&&(t=a.value);var n=(parseInt(t)+1).toString(),i=(c=e.insertRow()).insertCell();i=c.insertCell();var r=document.createElement("input");r.type="radio",r.name="grpAndOr"+n,r.id="radAnd"+n,r.value="And";var o=document.createElement("input");o.type="radio",o.name="grpAndOr"+n,o.id="radOr"+n,o.value="Or",i.appendChild(r);var l=document.createElement("span");l.innerHTML="And",i.appendChild(l),i.appendChild(o),(l=document.createElement("span")).innerHTML="Or",i.appendChild(l),i.style.align="right";var s=document.getElementById("radOr"+n);s&&(s.checked=!0);var c=e.insertRow();n=(parseInt(n)+1).toString();var d=c.insertCell(),p=document.createElement("select");p.id="ddlListFilter"+n,p.className="lblTxt",p.style.width="120px",d.appendChild(p);var u=document.getElementById("ddlListFilter"+n);if(u.length=0,u){var h=document.getElementById("ddlListFilter");if(h.length>0)for(var m=0;m<h.length;m++){(b=document.createElement("option")).text=h.options[m].text,b.value=h.options[m].value,u.options.add(b)}}d=c.insertCell();var f=document.createElement("select");f.id="ddlOpr"+n,f.className="lblTxt",d.appendChild(f);var v,g=document.getElementById("ddlOpr"+n);if(g.length=0,g){var w=document.getElementById("ddlListFilcond");if(w.length>0)for(m=0;m<w.length;m++){var b;(b=document.createElement("option")).text=w.options[m].text,b.value=w.options[m].value,g.options.add(b)}}d=c.insertCell(),(v=document.createElement("input")).type="text",v.id="txtFilter"+n,v.className="lblTxt",v.style.width="160px",d.appendChild(v),d=c.insertCell(),(v=document.createElement("input")).type="text",v.id="txtFillVal"+n,v.className="lblTxt",v.style.width="160px",d.appendChild(v),d=c.insertCell();var $=document.createElement("a");$.id="delAnc"+n,$.href="javascript:DeleteListCondition('"+n+"');",$.className="ancLink";var y=document.createElement("span");y.className="curHand icon-arrows-circle-minus",y.id="delCond"+n,$.appendChild(y),d.appendChild($),a.value=n}function AddCondition(){if(0==navigator.vendor.indexOf("Apple")&&/\sSafari\//.test(navigator.userAgent)){var e=document.getElementById("tblFilter"),t="0";(o=document.getElementById("FilterRowCount"))&&(t=o.value);var a=(parseInt(t)+1).toString(),n=(l=e.appendChild(document.createElement("tr"))).insertCell();(w=document.createElement("a")).id="delAnc"+a,w.title="Remove condition",w.href="javascript:DeleteListCondition('"+a+"');",(b=document.createElement("span")).className="curHand icon-arrows-circle-minus",b.id="delCond"+a,w.appendChild(b),n.appendChild(w),n=l.insertCell(),(g=document.createElement("input")).type="text",g.id="txtFillVal"+a,g.className="txtfilter tem Family form-control",g.title="Enter filter text",g.style.width="180px",n.appendChild(g),n=l.insertCell(),(g=document.createElement("input")).type="text",g.id="txtFilter"+a,g.className="txtfilter tem Family form-control",g.title="Enter filter text",g.style.width="180px",n.appendChild(g),n=l.insertCell(),(m=document.createElement("select")).id="ddlOpr"+a,m.className="ddlListFilter combotem Family form-control",m.title="Select filter conditions",m.style.width="145px",n.appendChild(m);$j("ddlListFilter").width();if((f=document.getElementById("ddlOpr"+a)).length=0,f)if((v=document.getElementById("ddlListFilcond")).length>0)for(var i=0;i<v.length;i++){(y=document.createElement("option")).text=v.options[i].text,y.value=v.options[i].value,f.options.add(y)}n=l.insertCell();if((p=document.createElement("select")).id="ddlListFilter"+a,p.className="ddlListFilter combotem Family form-control",p.title="Select column",p.style.width="200px",n.appendChild(p),(u=document.getElementById("ddlListFilter"+a)).length=0,u)if((h=document.getElementById("ddlListFilter")).length>0)for(i=0;i<h.length;i++){(y=document.createElement("option")).text=h.options[i].text,y.value=h.options[i].value,u.options.add(y)}var r=l.insertCell();r=l.insertCell(),(s=document.createElement("input")).type="radio",s.name="grpAndOr"+a,s.id="radAnd"+a,s.value="And",(c=document.createElement("input")).type="radio",c.name="grpAndOr"+a,c.id="radOr"+a,c.value="Or",r.className="paramtd1",r.appendChild(s),(d=document.createElement("span")).innerHTML="And",r.appendChild(d),r.appendChild(c),(d=document.createElement("span")).innerHTML="Or",r.appendChild(d),r.style.align="right",($=document.getElementById("radOr"+a))&&($.checked=!0),o.value=a;$j("dvNewrow").height(),$j("tblpanel").height()}else{var o;e=document.getElementById("tblFilter"),t="0";(o=document.getElementById("FilterRowCount"))&&(t=o.value);var l;a=(parseInt(t)+1).toString();(l=e.insertRow()).setAttribute("id","tblFilterRowID"+a);var s,c,d;r=l.insertCell();r=l.insertCell(),(s=document.createElement("input")).type="radio",s.name="grpAndOr"+a,s.id="radAnd"+a,s.value="And",(c=document.createElement("input")).type="radio",c.name="grpAndOr"+a,c.id="radOr"+a,c.value="Or",r.className="paramtd1",r.appendChild(s),(d=document.createElement("span")).innerHTML="And",r.appendChild(d),r.appendChild(c),(d=document.createElement("span")).innerHTML="Or",r.appendChild(d),r.style.align="right";var p,u,h,m;n=l.insertCell();if((p=document.createElement("select")).id="ddlListFilter"+a,p.className="ddlListFilter combotem Family form-control",p.title="Select column",p.style.width="200px",n.appendChild(p),(u=document.getElementById("ddlListFilter"+a)).length=0,u)if((h=document.getElementById("ddlListFilter")).length>0)for(i=0;i<h.length;i++){(y=document.createElement("option")).text=h.options[i].text,y.value=h.options[i].value,u.options.add(y)}n=l.insertCell(),(m=document.createElement("select")).id="ddlOpr"+a,m.className="ddlListFilter combotem Family form-control",m.title="Select filter conditions",m.style.width="200px",n.appendChild(m);var f,v,g,w,b,$;$j("ddlListFilter").width();if((f=document.getElementById("ddlOpr"+a)).length=0,f)if((v=document.getElementById("ddlListFilcond")).length>0)for(i=0;i<v.length;i++){var y;(y=document.createElement("option")).text=v.options[i].text,y.value=v.options[i].value,f.options.add(y)}n=l.insertCell(),(g=document.createElement("input")).type="text",g.id="txtFilter"+a,g.className="txtfilter tem Family form-control",g.title="Enter filter text",g.style.width="100px",n.appendChild(g),n=l.insertCell(),(g=document.createElement("input")).type="text",g.id="txtFillVal"+a,g.className="txtfilter tem Family form-control",g.title="Enter filter text",g.style.width="100px",n.appendChild(g),n=l.insertCell(),(w=document.createElement("a")).id="delAnc"+a,w.title="Remove condition",w.href="javascript:DeleteListCondition('"+a+"');",(b=document.createElement("span")).className="curHand icon-arrows-circle-minus",b.id="delCond"+a,w.appendChild(b),n.appendChild(w),($=document.getElementById("radOr"+a))&&($.checked=!0),o.value=a;$j("dvNewrow").height(),$j("tblpanel").height()}}function DeleteListCondition(e){if(window.chrome){document.getElementById("tblFilterRowID"+e).remove()}else{document.getElementById("delAnc"+e).parentElement.parentElement.rowIndex;document.getElementById("tblFilterRowID"+e).remove()}e=(parseInt(e)-1).toString();document.getElementById("FilterRowCount").value=e}function RefreshFirstListCondition(){$("#txtListFilter").val(""),$("#ListfilVal2").val(""),$("#ddlListFilcond").val($("#ddlListFilcond option:first").val()),$("#ddlListFilter").val($("#ddlListFilter option:first").val())}function CheckListFilterCond(e){if(-1==e){var t=$j("#ddlListFilcond"),a=$j("#ListfilVal2"),n=$j("#txtListFilter");"between"==t.val()?(n.prop("disabled",!1),a.prop("disabled",!1)):"is null"==t.val()?(n.prop("disabled",!0),a.prop("disabled",!0)):(n.prop("disabled",!1),a.prop("disabled",!0)),a.val(""),n.val("")}}function GetSelectedColumns(){var e="";$j("#tvList input[type=checkbox]:checked").each(function(){$j(this).parentNode==undefined&&(""==e?e=$j(this)[0].nextSibling.innerHTML:e+=","+$j(this)[0].nextSibling.innerHTML)}),$j("#hdnColumns").val(e)}function CheckSpecialCharsInStr(e){return null==e?"":e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e).replace(/<>/g,"")).replace(/</g,"")).replace(/>/g,"")).replace(/>=/g,"")).replace(/<=/g,"")).replace(/'/g,"")).replace(/"/g,"")).replace(/,/g,"")).replace(/./g,"")).replace(/-/g,"")}function saveLViewActionCond(){if("new"==$j("#txtViewName").val().toLowerCase()||""==$j("#txtViewName").val().toLowerCase())return showAlertDialog("warning",3019,"client"),!1;if($j("#txtViewName").val().length>15)return showAlertDialog("warning",3020,"client"),!1;var e=!1;if($j("#tvList input[type=checkbox]:checked").each(function(){e=!0}),!e)return showAlertDialog("warning",3021,"client"),!1;var t="",a=$j("#hdnParent").val();$j("#tvList input[type=checkbox]:checked").each(function(){if(PNode=$j(this),-1!=a.indexOf(PNode[0].nextSibling.innerHTML)&&""!=PNode[0].nextSibling.innerHTML);else{var e=$j(this).next("a"),n="",i=e.attr("href").substring(e.attr("href").indexOf(",")+2,e.attr("href").length-2).split("\\");n=i.length>1?i[i.length-1]:i[0].substr(1),""==t?t=n:t+=","+n}}),$j("#hdnColumns").val(t);var n="",i="";$j("#tblNorep input[type=checkbox]:checked").each(function(){var e=$j(this)[0].value,t=$j(this)[0].title;""==n?n=e:n+=","+e,""==i?i=t:i+=","+t});var r="",o=0,l=$j("#tblSubtotlList tr");l.each(function(){var e=$j("#hdnColumns").val().split(","),t=l.parent()[0].childNodes[o].childNodes[0].innerHTML;if(-1!=e.indexOf(t)){r+="<"+l.parent()[0].childNodes[o].childNodes[0].innerHTML+'st totalontop="'+l.parent()[0].childNodes[o].childNodes[6].innerHTML+'">',r+="<a1>"+l.parent()[0].childNodes[o].childNodes[0].innerHTML+"</a1>";var a=l.parent()[0].childNodes[o].childNodes[1].innerHTML;-1==a.indexOf("{")?r+="<a4>{"+l.parent()[0].childNodes[o].childNodes[1].innerHTML:r+="<a4>"+l.parent()[0].childNodes[o].childNodes[1].innerHTML,-1==a.indexOf("}")?r+="}</a4>":r+="</a4>",r+="<a5>"+l.parent()[0].childNodes[o].childNodes[2].innerHTML+"</a5>",r+="<a12>"+l.parent()[0].childNodes[o].childNodes[3].innerHTML+"</a12>",r+="<a13>"+l.parent()[0].childNodes[o].childNodes[4].innerHTML+"</a13>",r+="<a18>"+l.parent()[0].childNodes[o].childNodes[5].innerHTML+"</a18>",r+="</"+l.parent()[0].childNodes[o].childNodes[0].innerHTML+"st>",o+=1}}),$j("#hdnSubtotal").val(r),$j("#hdnNoRepeat").val(n),$j("#hdnNoRepeatCaptn").val(i);var s=$j("#ddlSortBy option:selected").val();$j("#hdnSort").val(s),$j("#hdnSortCap").val($j("#ddlSortBy option:selected").text()),s=$j("#ddlGroupBy option:selected").val(),$j("#hdnGroup").val(s),$j("#hdnGroupCap").val($j("#ddlGroupBy option:selected").text()),s=$j("#rbtnOrder option:selected").text(),$j("#hdnOrder").val(s),s=$j("#rbtnStatus option:selected").text(),$j("#hdnStatus").val(s),SaveListCondition()}function SaveListCondition(){var e=document.getElementById("tblFilter");rowCount=e.rows.length;var t=document.getElementById("ddlFldTypes"),a="";a+="iif((";for(var n="",i="",r="",o="",l="",s="",c=0;c<=rowCount;c++){if(0==c)var d=document.getElementById("ddlListFilter"),p=document.getElementById("ddlListFilcond"),u=document.getElementById("txtListFilter"),h=document.getElementById("ListfilVal2");else{if(c>0)d=document.getElementById("ddlListFilter"+c),u=document.getElementById("txtFilter"+c),h=document.getElementById("txtFillVal"+c),p=document.getElementById("ddlOpr"+c);if(c>0){var m="grpAndOr"+c;if(i=document.getElementsByName(m))for(var f=0;f<i.length;f++)i[f].checked&&(r=i[f].value)}}if(0==c)if(0==d.selectedIndex||0==p.selectedIndex)if("is null"!=p.value&&""==u.value)return""==$j("#lblCond").text()?(isExistCondtn=0,!1):(document.getElementById("hdnSubTypeCond").value=$j("#lblCond").text(),!0);var v=d.value,g=d[d.selectedIndex].text,w=(p.value,u.value),b=h.value,$=p[p.selectedIndex].innerHTML,y=p[p.selectedIndex].value;0!=d.selectedIndex&&0!=p.selectedIndex&&((0==c||c>=0)&&(""==a?(a+=ConvertToExpr(v,t[d.selectedIndex].Text,$,w,b),n+=ConvertToExprStr(v,g,$,w,b),l+=ConvertToDisplyStr(v,g,$,w,b),s+=ConvertToXml(v,g,t[d.selectedIndex].innerHTML,y,w,b,c+1,r)):("Or"==r?(n+=" Or ",a+="|",l+=" Or "):"And"==r&&(n+=" And ",a+="&",l+=" And "),n+=ConvertToExprStr(v,g,$,w,b),l+=ConvertToDisplyStr(v,g,$,w,b),a+=ConvertToExpr(v,t[d.selectedIndex].Text,$,w,b),s+=ConvertToXml(v,g,t[d.selectedIndex].innerHTML,y,w,b,c,r)),""==o?o=v+"^"+$+"^"+w+"^"+b+"^"+r:o+="|"+v+"^"+$+"^"+w+"^"+b+"^"+r))}return a+="), {T},{F})",document.getElementById("hdnSubTypeCond").value=a,document.getElementById("hdnCondTxt").value=s,$j("#hdnDisplayCond").val(n),$j("#hdnGridCond").val(l),!0}function CheckSpecialCharsInXmlCond(e){return null==e?"":e=(e=(e=(e=(e=(e=e).replace(/<>/g,"&lt;&gt;")).replace(/</g,"&lt;")).replace(/>/g,"&&gt;")).replace(/>=/g,"&gt;=")).replace(/<=/g,"&lt;=")}function ConvertToXml(e,t,a,n,i,r,o,l){n=n.toLowerCase();i.substring(0,1);var s="";"numeric"==a.toLowerCase()?s="n":"date/time"==a.toLowerCase()?s="d":"character"==a.toLowerCase()&&(s="c");var c=n;return c=CheckSpecialCharsInXml(c),"<c"+o+" lopr='"+l+"'  fname='"+e+"' ftype='"+s.toUpperCase()+"' v1='"+i+"' v2='"+r+"' op='"+c+"' fcaption='"+t+"' />"}function ConvertToExprStr(e,t,a,n,i){return"between"==a.toLowerCase()?"("+t+" ( "+e+" ) "+a+" "+n+","+i+")":"is null"==a.toLowerCase()?"("+t+"  "+a+")":"("+t+" ( "+e+" ) "+a+" "+n+")"}function ConvertToDisplyStr(e,t,a,n,i){return"between"==a.toLowerCase()?"("+t+" "+a+" "+n+","+i+")":"is null"==a.toLowerCase()?"("+t+"  "+a+")":"("+t+" "+a+" "+n+")"}function ConvertToExpr(e,t,a,n,i){a=a.toLowerCase();var r=!1;":"==n.substring(0,1)&&(r=!0);var o="";if("less than or equal to"==a||"greater than or equal to"==a){var l="";l="less than or equal to"==a?" <= ":" >= ",o=r?"("+e+l+(n=n.substring(1))+") | ("+e+"="+n+")":"Date/Time"==t?"("+e+l+"ctod({"+n+"})) | ("+e+" = ctod({"+n+"}))":"Numeric"==t?"("+e+l+n+") | ("+e+"="+n+")":"("+e+l+"{"+n+"}) | ("+e+"={"+n+"})"}else if("not equal to"==a||"equal to"==a){l="";l="not equal to"==a.toLowerCase()?" # ":" = ",o=r?"("+e+l+(n=n.substring(1))+")":"Date/Time"==t?"("+e+l+" ctod({"+n+"}))":"Numeric"==t?"("+e+l+n+")":"("+e+l+"{"+n+"})"}else if("less than"==a||"greater than"==a){l="";l="<"==a?" < ":" > ",o=r?"("+e+l+(n=n.substring(1))+")":"Date/Time"==t?"("+e+l+"ctod({"+n+"}))":"Numeric"==t?"("+e+l+n+")":"("+e+l+"{"+n+"})"}else if("between"==a){var s=!1;s=":"==i.substring(0,1),r&&s?(o="(("+e+" > "+(n=n.substring(1))+") | ("+e+"="+n+")) &",o+="(("+e+" < "+(i=i.substring(1))+") | ("+e+"="+i+"))"):r&&!s?(n=n.substring(1),"Date/Time"==t?(o="(("+e+">"+n+") | ("+e+"="+n+")) &",o+="(("+e+"< ctod({"+i+"})) | ("+e+" = ctod({"+i+"})))"):(o="(("+e+" < "+n+") | ("+e+"="+n+")) &",o+="(("+e+" < "+i+") | ("+e+"="+i+")))")):!r&&s?(i=i.substring(1),"Date/Time"==t?(o="(("+e+" > ctod({"+n+"})) | ("+e+" = ctod({"+n+"})) &",o+="(("+e+" < "+i+") | ("+e+"="+i+")))"):(o="(("+e+" > "+n+") | ("+e+" = "+n+")) &",o+="(("+e+" < "+i+") | ("+e+" = "+i+")))")):"Date/Time"==t?(o="(("+e+" > ctod({"+n+"})) | ("+e+" = ctod({"+n+"})) &",o+="(("+e+" < ctod({"+i+"})) | ("+e+" = ctod({"+i+"})))"):(o="(("+e+" > "+n+") | ("+e+" = "+n+")) &",o+="(("+e+" < "+i+") | ("+e+" = "+i+")))")}return o}function CreateSubtotal(){var e="",t=($j("#ddlCaption option:selected").text(),$j("#ddlCaption option:selected")[0].value);$j("#tblSubtotlList").each(function(){$j("#tblSubtotlList tr > td:contains("+t+")").parent().remove()}),e+='<tr><td class="tableCell">'+$j("#hdnCbValue").val()+"</td>",e+='<td  class="tableCell" >'+document.getElementById("txtHeader").value+"</td>",e+='<td  class="tableCell" >'+document.getElementById("txtFooter").value+"</td>",e+='<td  class="tableCell" >'+t+"</td>",e+='<td  class="tableCell" >'+document.getElementById("txtSubOrder").value+"</td>",e+='<td  class="tableCell" >'+document.getElementById("cbLineSpace").checked+"</td>",e+='<td  class="tableCell" >'+document.getElementById("cbTtl").checked+"</td>",e+="</tr>",$j("#tblSubtotlList").append(e)}function bindSubtotalList(){if(""!=$j("#hdnSubtotalList").val()){for(var e=$j("#hdnSubtotalList").val().split(";"),t=e.length,a="",n=0;n<t;n++){var i=e[n].split(",");a+='<tr><td class="tableCell">'+i[0]+"</td>",a+='<td  class="tableCell" >'+i[1]+"</td>",a+='<td  class="tableCell" >'+i[2]+"</td>",a+='<td  class="tableCell" >'+i[3]+"</td>",a+='<td  class="tableCell" >'+i[4]+"</td>",a+='<td  class="tableCell" >'+i[5]+"</td>",a+='<td  class="tableCell" >'+i[6]+"</td>",a+="</tr>"}$j("#tblSubtotlList").append(a)}return!1}var X=0,Y=0;function FindListPosX(e){var t=0;if(e.offsetParent)for(;e.offsetParent;)t+=e.offsetLeft,e=e.offsetParent;else e.x&&(t+=e.x);return t}function FindListPosY(e){var t=0;if(e.offsetParent)for(;e.offsetParent;)t+=e.offsetTop,e=e.offsetParent;else e.y&&(t+=e.y);return t}function FindListPos(){var e=document.getElementById("imgView");X=FindListPosX(e),Y=FindListPosY(e)}function SetListCondition(e){var t=document.getElementById("tblFilter");if(rowCount=t.rows.length,!(rowCount>0))for(var a=e.split("|"),n=0;n<a.length;n++){var i,r,o,l,s=a[n].split("^"),c="";if(0==n)n>0&&(c=n),0==n?(i=$j("#ddlListFilter"),r=$j("#ddlListFilcond"),o=$j("#txtListFilter"),l=$j("#ListfilVal2")):(i=$j("#ddlListFilter"+c),o=$j("#txtFilter"+c),l=$j("#txtFillVal"+c),r=$j("#ddlOpr"+c)),i.val(s[0]),r.find("option").each(function(){$j(this).val().toLowerCase()==s[1].toLowerCase()&&($j(this).attr("selected","selected"),"Between"==$j(this).text()?(l.prop("disabled",!1),o.prop("disabled",!1)):"Is empty"==$j(this).text()?(l.prop("disabled",!0),o.prop("disabled",!0)):(l.prop("disabled",!0),o.prop("disabled",!1)))}),o.val(s[2]),l.val(s[3]);else{AddCondition();$j("#rad"+s[4]+n).prop("checked",!0),c=n,i=$j("#ddlListFilter"+c),o=$j("#txtFilter"+c),l=$j("#txtFillVal"+c),r=$j("#ddlOpr"+c),i.val(s[0]),r.find("option").each(function(){$j(this).val()==s[1]&&($j(this).attr("selected","selected"),"Between"==$j(this).text()?(document.getElementById(l[0].id).disabled=!1,document.getElementById(o[0].id).disabled=!1):"Is empty"==$j(this).text()?(document.getElementById(l[0].id).disabled=!0,document.getElementById(o[0].id).disabled=!0):(document.getElementById(l[0].id).disabled=!0,document.getElementById(o[0].id).disabled=!1))}),o.val(s[2]),l.val(s[3])}}}var IsexistView=!0;function checkViewName(e){for(var t=0,a=0,n=e.length,i=e;1==IsexistView;)1==IsexistView?(a=e.substr(e.length-1),t=parseInt(a)+1,e=e.substr(0,e.length-1)+t,NameEnd=e.substr(n-1,e.length-2),"nan"==NameEnd.toLowerCase()&&(e=i+"01"),IsexistView=!1,checkddName(e)):(IsexistView=!1,$j("#ddlViewList").val(e));$j("#ddlViewList").val(e),$j("#txtViewName").val(e)}function checkddName(e){for(var t=$j("#hdnViewNames").val().split(","),a=0;a<t.length;a++)t[a]==e&&(IsexistView=!0)}var isExistCondtn=1,views="",lname="";function isExistViewName(){if("new"==$j("#txtViewName").val().toLowerCase()||""==$j("#txtViewName").val().toLowerCase()||"main"==$j("#txtViewName").val().toLowerCase()||requestJSON&&"charts"==$j("#txtViewName").val().toLowerCase())return showAlertDialog("warning",3019,"client"),!1;if($j("#txtViewName").val().toLowerCase()==$j("#hdnTransId").val().toLowerCase())return showAlertDialog("warning",3022,"client"),!1;if($j("#txtViewName").val().length>15)return showAlertDialog("warning",3023,"client"),!1;var e=!1;if($j("#tvList input[type=checkbox]:checked").each(function(){e=!0}),!e)return showAlertDialog("warning",3021,"client"),!1;$j("#hdnCondTxt").val(""),$j("#hdnSubtotal").val(""),$j("#hdnSubtotal").val("");var t=$j("#hdnSaveMode").val();isExistCondtn=1;var a=!1;views=$j("#hdnViewNames").val(),lname=$j("#txtViewName").val();for(var n=views.split(","),i=0;i<n.length;i++)n[i].toLowerCase()==lname.toLowerCase()&&(a=!0);return 1==a&&"Edit"!=t?(showAlertDialog("warning",3022,"client"),!1):("ON"!=$j("#hdnStatus").val()||(SaveListCondition(),0!=isExistCondtn))&&(saveLViewActionCond(),document.getElementById("btnSav").click(),$j("#hdnViewNames").val(views+","+lname),!0)}function discardChanges(){$j("#hdnSubtotal").val(""),$j("#hdnNoRepeat").val(""),$j("#ddlSortBy option:selected").val(""),$j("#hdnSort").val(""),$j("#ddlGroupBy option:selected").val(""),$j("#hdnGroup").val(""),$j("#rbtnOrder option:selected").text(""),$j("#hdnOrder").val(""),$j("#rbtnStatus option:selected").text(""),$j("#hdnStatus").val(""),$j("#hdnColumns").val(""),$j("#hdnSubtotlCaptn").val(""),$j("#hdnCondTxt").val(""),$j("#ddlSortBy").val(""),$j("#ddlGroupBy").val(""),$j("#rbtnOrder option:selected").text("Asc"),$j("#rbtnStatus option:selected").text("OFF"),$j("#tblFilter").empty(),$j("#ddlListFilter").val(""),$j("#ddlListFilcond").val(""),$j("#txtListFilter").val(""),$j("#ListfilVal2").val(""),$j("#txtHeader").val(""),$j("#txtFooter").val(""),$j("#ddlCaption").val(""),$j("#cbLineSpace").prop("checked",!1),$j("#cbTtl").prop("checked",!1),$j("#txtSubOrder").val(""),$j("#tblSubtotal  input[type=checkbox]").each(function(){$j(this)[0].checked=!1}),$j("#tblNorep  input[type=checkbox]").each(function(){$j(this)[0].checked=!1}),$j("#tblSubtotlList").empty()}function FindViewPos(){var e=document.getElementById("imgView");X=FindPosX(e),Y=FindPosY(e)}var X=0,Y=0;function FindPosX(e){var t=0;if(e.offsetParent)for(;e.offsetParent;)t+=e.offsetLeft,e=e.offsetParent;else e.x&&(t+=e.x);return t}function FindPosY(e){var t=0;if(e.offsetParent)for(;e.offsetParent;)t+=e.offsetTop,e=e.offsetParent;else e.y&&(t+=e.y);return t}function HideNqIvViewList(){var e=$j("#listViewPopUp");1==IsNqViewBtnCliked?(IsNqViewBtnCliked=!1,e.show()):e.hide()}function ConfirmDelete(){var e="ar"==callParentNew("gllangType"),t=$.confirm({theme:"modern",title:appGlobalVarsObject.lcm[155],onContentReady:function(){disableBackDrop("bind")},backgroundDismiss:"false",rtl:e,escapeKey:"buttonB",content:appGlobalVarsObject.lcm[9],buttons:{buttonA:{text:appGlobalVarsObject.lcm[164],btnClass:"btn btn-primary",action:function(){t.close();var e=document.getElementById("ddlViewList"),a=e.options[e.selectedIndex].innerHTML;$j("#hdnViewDelt").val(a),DeleteView(a)}},buttonB:{text:appGlobalVarsObject.lcm[192],btnClass:"btn btn-bg-light btn-color-danger btn-active-light-danger",action:function(){return disableBackDrop("destroy"),!1}}}})}function DeleteView(e){$j("#btnRemv").click();return!1}function EditCondPopUp(){return""!=$j("#hdnCondTxt").val()&&SetListCondition($j("#hdnCondTxt").val()),!1}function NewViewMode(){return $j("#hdnNoRepeat").val(""),$j("#hdnNoRepeatCaptn").val(""),$j("#hdnSubtotlCaptn").val(""),$j("#hdnSubtotalList").val(""),$j("#hdnGridCond").val(""),$j("#hdnGroup").val(""),$j("#hdnSort").val(""),$j("#hdnStatus").val("OFF"),$j("#hdnColumns").val(""),$j("#hdnOrder").val("Asc"),!0}function OpenopupWithCond(){$j("#lblViewName").show(),$j("#txtViewName").show(),$j("#lblviewtext").hide(),$j("#ddlViewList").hide(),$j("#btnRemove").hide(),$j(divtr1).show(),tr1.className="tvRow selProperty",$j(divtr2).hide(),$j(divtr3).hide(),$j(divtr4).hide(),$j(divtr5).hide();var e=window.innerWidth,t=window.innerHeight;"number"!=typeof e&&("CSS1Compat"==document.compatMode?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):(e=document.body.clientWidth,t=document.body.clientHeight));var a=document.getElementById("bg");$j(a).show();var n=document.getElementById("divAction");$j(n).show(),"Microsoft Internet Explorer"==navigator.appName?computedStyle=n.currentStyle:computedStyle=document.defaultView.getComputedStyle(n,null);var i=(e-computedStyle.width.replace("px",""))/2,r=(t-computedStyle.height.replace("px",""))/2;$j(n).css("left",i+"px"),$j(n).css("top",r+"px"),$j(n).css("top","40px");document.getElementById("Panel2");var o=$j(document).height(),l=0;500>o&&(l=500-o),Adjustwin(o+40+l),showAlertDialog("warning",3024,"client")}function OpenPopup(e,t){$j("#hdnTransId").val();"main"==$j("#txtViewName").val().toLowerCase()&&(t="New"),"New"==t?($j("#lblViewName").show(),$j("#txtViewName").show(),$j("#lblviewtext").hide(),$j("#ddlViewList").hide(),$j("#btnRemove").hide(),checkViewName($j("#hdnViewName").val()),NewViewMode(),$j("#hdnSaveMode").val("New"),$j("#tblFilter").empty(),$j("#ddlSortBy option:selected").val(""),$j("#ddlGroupBy option:selected").val(""),$j("#ddlGroupBy")[0].selectedIndex=0,$j("#ddlSortBy")[0].selectedIndex=0,$j("#hdnSubtotlCaptn").val(""),$j("#tblSubtotlList").empty(),$j("#tblSubtotal  input[type=checkbox]").each(function(){$j(this)[0].checked=!1})):"Edit"==t?($j("#hdnSaveMode").val("Edit"),$j("#lblViewName").hide(),$j("#txtViewName").hide(),$j("#lblviewtext").show(),$j("#ddlViewList").show(),$j("#btnRemove").show()):"EditNew"==t&&($j("#lblViewName").show(),$j("#txtViewName").show(),$j("#lblviewtext").show(),$j("#ddlViewList").show(),$j("#btnRemove").hide(),$j("#hdnSaveMode").val("New"),NewViewMode());var a=document.getElementById("divtr1"),n=document.getElementById("divtr2"),i=document.getElementById("divtr3"),r=document.getElementById("divtr4"),o=document.getElementById("divtr5"),l=$j("#hdnViewName").val();$j("#txtViewName").innerHTML=l,$j("#ddlSortBy option:selected").val($j("#hdnSort").val()),$j("#ddlGroupBy option:selected").val($j("#hdnGroup").val()),$j("#ddlListFilcond").val(""),$j("#ddlListFilter").val(""),$j("#txtListFilter").val(""),$j("#ListfilVal2").val(""),$j("#FilterRowCount").val("0"),$j("#txtHeader").val(""),$j("#txtFooter").val(""),$j("#txtSubOrder").val(""),$j("#cbLineSpace").prop("checked",!1),$j("#cbTtl").prop("checked",!1);var s=$j("#hdnOrder").val(),c=$j("#hdnStatus").val();$j('input:radio[name="rbtnOrder"]').filter('[value="'+s+'"]').attr("checked",!0),$j('input:radio[name="rbtnStatus"]').filter('[value="'+c.toUpperCase()+'"]').attr("checked",!0),$j(a).show(),tr1.className="tvRow selProperty",tr2.className="tvRow RowCust",tr3.className="tvRow RowCust",tr4.className="tvRow RowCust",tr5.className="tvRow RowCust",$j(n).hide(),$j(i).hide(),$j(r).hide(),$j(o).hide();var d=window.innerWidth,p=window.innerHeight;"number"!=typeof d&&("CSS1Compat"==document.compatMode?(d=document.documentElement.clientWidth,p=document.documentElement.clientHeight):(d=document.body.clientWidth,p=document.body.clientHeight));var u=document.getElementById("bg");$j(u).show();var h=document.getElementById(e);$j(h).show(),"Microsoft Internet Explorer"==navigator.appName?computedStyle=h.currentStyle:computedStyle=document.defaultView.getComputedStyle(h,null);var m=(d-computedStyle.width.replace("px",""))/2,f=(p-computedStyle.height.replace("px",""))/2;$j(h).css("left",m+"px"),$j(h).css("top",f+"px"),$j(h).css("top","40px");document.getElementById("Panel2");var v=$j(document).height(),g=0;500>v&&(g=500-v),Adjustwin(v+40+g),$("#txtViewName").focus(),jQuery(".popup_bg").bind("click.modalPopupKD",function(e){CloseListActionWin()}),jQuery(document).bind("keydown.modalPopupKD",function(e){e.shiftKey||9!=e.keyCode?e.shiftKey&&9==e.keyCode?$(document.activeElement)[0].id==$("#closeList")[0].id&&(e.preventDefault(),$("#btnSave").focus()):27==e.keyCode&&CloseListActionWin():$(document.activeElement)[0].id==$("#btnSave")[0].id?(e.preventDefault(),$("#closeList").focus()):$(document.activeElement)[0].id==$("#closeList")[0].id&&(e.preventDefault(),$("#txtViewName").focus())})}function CloseListActionWin(){$j("#bg").hide(),$j("#divAction").hide();var e=$j(document).height(),t=0;return 500>e&&(t=500-e),Adjustwin(e+40+t),jQuery(document).unbind("keydown.modalPopupKD"),jQuery(document).unbind("click.modalPopupKD"),!1}function EditView(e){e.onchange="";var t=document.getElementById("ddlViewList"),a=t.options[t.selectedIndex].innerHTML;return"New view"==a?($j("#lblViewName").show(),$j("#txtViewName").show(),$j("#lblviewtext").show(),$j("#ddlViewList").show(),$j("#btnRemove").hide(),checkViewName($j("#hdnViewName").val()),discardChanges(),$j("#ddlSortBy option:selected").val($j("#hdnSort").val()),$j("#ddlGroupBy option:selected").val($j("#hdnGroup").val()),$j("#hdnSaveMode").val("New")):($j("#hdnViewName").val(a),$j("#txtViewName").val(a),$j("#hdnSaveMode").val("Edit"),discardChanges(),BindXml(a)),!0}function BindXml(e){return $j("#txtViewName").val(e),$j("#hdnListViewName").val(e),$j("#btnListView").click(),!0}function BindGrid(e){return $j("#hdnSelectedView").val(e),$j("#btnShowGrid").click(),!0}function pgReload(){ResetNavGlobalVariables(),$j(location).attr("href","tstruct.aspx?transid="+tst+"&openerIV=".concat(iName,"&isIV=").concat(!isListView,"&isDupTab=").concat(callParentNew("isDuplicateTab")));try{window.parent.isSessionCleared||"List IView"!=window.document.title||(ASB.WebService.ClearNavigationSession(),window.parent.isSessionCleared=!0)}catch(e){}}function submitIt(){var e=$j("#EmployeeCode").val();if(""==e){if(""==$j("#dob").val())return ShowDimmer(!1),showAlertDialog("warning",3025,"client"),!1;var t=$j("#EmployeeName").val(),a=$j("#dept").val(),n=$j("#dddo").val(),i=$j("#doa").val();if(""==e&&""==t&&"--"==a&&""==n&&""==i)return ShowDimmer(!1),showAlertDialog("warning",3026,"client"),!1}return!0}function SetColumnName(e,t,a){window.parent.dataRowIndex=t,window.parent.clickedColumn=e,a&&(window.parent.isParentIview=a)}function ShowCharts(e,t){if(!$j("#dvCharts").is(":visible"))if(isChartsAvailable){var a=$j("#hdnChartSize").val();""==a||"half"==a?($j("#dvCharts").show(),Adjustwin(),SetContentPanelWidth("half")):ShowChartPopUp(e,t)}else showAlertDialog("error",3027,"client")}function CloseChart(e){var t=$j("#hdnChartSize").val(),a=$j("#dvCharts");a.hide();""==t||"half"==t?ShowFilter():($j("#bg").hide(),a.removeClass("dvChartsPop"),a.addClass("dvChart"),$j("#hdnChartSize").val(""),$j("#lnkChart").text("View Full Screen")),SetContentPanelWidth(""),"full"==t&&("ARABIC"==gl_language&&$j("#divcontainer").css("margin-top","0%"),Adjustwin())}function ShowChartPopUp(e,t){var a=$j("#lnkChart"),n=$j("#dvCharts"),i="";"View Full Screen"==a.text()?($j("#bg").show(),i=isFilterSortEnabled||"true"==isParamVisible.toLowerCase()?"half":"full",n.removeClass("dvChart"),n.addClass("dvChartsPop"),$j("#hdnChartSize").val("full"),t==undefined&&""!=$j("#ddlChartCol1").val()&&""!=$j("#ddlChartCol2").val()&&$j("#btnGetChart1").click(),n.show(),n.css("top","20px"),$j("#lnkChart").text("Close Full Screen"),Adjustwin(100),"ARABIC"==gl_language&&$j("#dvCharts").css("margin-top","1%")):(i="half",$j("#bg").hide(),n.removeClass("dvChartsPop"),n.addClass("dvChart"),$j("#hdnChartSize").val("half"),$j("#lnkChart").text("View Full Screen"),n.show(),t==undefined&&""!=$j("#ddlChartCol1").val()&&""!=$j("#ddlChartCol2").val()&&$j("#btnGetChart1").click(),"ARABIC"==gl_language&&$j("#dvCharts").css("margin-top","-13%")),SetContentPanelWidth(i)}var visibleColumns=new Array,visibleColumnIds=new Array,isFilterSortEnabled=!1,selectedFilterItem="";function CallSorting(e){callParentNew("loadFrame()","function");var t=e.innerHTML.replace("<br>","~");selectedFilterItem=e.id,$j("#hdnSortColName").val(t),$j("#SortGrid").click()}function CallFilter(e,t,a){e&&(callParentNew("loadFrame()","function"),arrCheckedFilter.push(a),$j("#cb"+a).attr("checked")?$j("#hdnFilterChecked").val("checked"):$j("#hdnFilterChecked").val("unchecked"),selectedFilterItem=a,$j("#hdnFilterBy").val(t),$j("#hdnFilterColName").val(e),$j("#FilterGrid").click(),$j("#showRecDetails").hide())}function HideFilter(e){document.getElementById("hdnIsParaVisible").value="0",(isFilterSortEnabled||"true"==isParamVisible.toLowerCase())&&($j("#leftPanel").hide("slide",{percent:0},500),$j("#showFilter").css("display","block"),$j("#hideFilter").css("display","none"),$j(".dvContent").css("height","auto"),"Microsoft Internet Explorer"!=navigator.appName&&$j(".vertical").css("margin-left","25px"),$j(".hdIvFilter").hide(),e==undefined&&($j("#dvCharts").is(":visible")?$j("#leftPanel").is(":visible")?SetContentPanelWidth("half"):SetContentPanelWidth("halfchart"):($j("#divcontainer").css("width","100%"),SetContentPanelWidth("full")))),"ARABIC"==gl_language?($j("#divcontainer").css("margin-top","0px"),$j("#divcontainer").css("margin-right","0px")):$j("#divcontainer").css("margin-left","0px"),setGridviewWidth()}function SetContentPanelWidth(e){var t;t="List IView"==document.title?$j("#contentPanelGrid"):$j("#contentPanelGridIview"),"full"==e?(t.css("width","100%"),t.css("margin-left","0px"),SetDynamicScrollWdith("full")):"half"==e?(t.css("width","50%"),t.css("margin-left","10px"),SetDynamicScrollWdith("half")):"halfchart"==e?(t.css("width","60%"),t.css("margin-left","10px"),SetDynamicScrollWdith("halfchart")):("ARABIC"==gl_language&&screen.width>1024?$j("#divcontainer").css("width","75%"):("ENGLISH"==gl_language&&screen.width,$j("#divcontainer").css("width","75%")),$j("#contentPanelGrid").css("width","75%"),t.css("width","100%"),t.css("margin-left","10px"),SetDynamicScrollWdith("")),window.opener!=undefined&&""==e&&(t.css("width","65%"),t.css("margin-left","10px"))}function SetDynamicScrollWdith(e){var t=document.getElementById("DivHeaderRow"),a=document.getElementById("DivMainContent"),n=screen.width-50;if(t&&a)if("full"==e)t.style.width=parseInt(n)-16+"px",a.style.width=n+"px";else if("half"==e){var i=n/2;t.style.width=parseInt(i)-16+"px",a.style.width=i+"px"}else if("halfchart"==e){i=n/2;t.style.width=parseInt(i)-16+"px",a.style.width=i+"px"}else{i=75*n/100+50;1024==screen.width&&(i=75*n/100),t.style.width=parseInt(i)-16+"px",a.style.width=i+"px"}}function ShowFilter(){$j("#dvHideFilter").css("display","block"),$j(".dvContent").css("height","60vh"),document.getElementById("hdnIsParaVisible").value="1",$j("#dvCharts").is(":visible")&&$j("#dvCharts").hide(),(isFilterSortEnabled||"true"==isParamVisible.toLowerCase())&&("ARABIC"==gl_language?($j("#divcontainer").css("float","right"),$j("#leftPanel").css("float","right")):($j("#leftPanel").css("float","left"),$j("#leftPanel").css("clear","both"),$j("#divcontainer").css("margin-top","1%"),screen.width,$j("#divcontainer").css("margin-left","0%")),$j("#leftPanel").show("slide",{percent:0},500),$j("#showFilter").css("display","none"),$j("#dvUpdateFilter").css("margin-top","-16px"),$j(".hdIvFilter").show(),$j("#dvCharts").is(":visible")?SetContentPanelWidth("half"):"List IView"==document.title?$j("#contentPanelGrid").css("width","75%"):SetContentPanelWidth("")),setGridviewWidth()}function CallColumnHide(e){callParentNew("loadFrame()","function");var t=e.id,a=e.parentElement.textContent;t&&a&&($j("#hdnHideColName").val(e.value),$j("#HideColumn").click())}function CheckFilterColumns(){for(var e=0;e<arrCheckedFilter.length;e++)$j("#cb"+arrCheckedFilter[e]).attr("checked")?$j("#cb"+arrCheckedFilter[e]).prop("checked",!1):$j("#cb"+arrCheckedFilter[e]).prop("checked","checked")}function CheckHiddenColumns(e,t){var a,n=new Array;a="Iview"==document.title||"Listview"==document.title?"#GridView1 tr:first-child th":"#GridView1 tr:first-child th a",$j(a).each(function(e){this.innerHTML&&$j(this).text()&&n.push(this.innerHTML.replace(/<br>/g,""))});for(var i=0;i<e.length;i++){var r=e[i],o=(r=r.replace(/~/g,"")).replace(/[^\w\s]/gi,"").replace(/\s/g,"");-1==$j.inArray(r,n)?$j("#cb"+o).prop("checked","checked"):$j("#cb"+o).prop("checked",!1)}}var calledFrom="";function UpdateActiveArray(e){if(""==calledFrom){var t=$j(e).attr("id");$j(e).hasClass("ui-state-active")&&-1==window.parent.AxIvFilterMinHeader.indexOf(t)?window.parent.AxIvFilterMinHeader.push(t):window.parent.AxIvFilterMinHeader.indexOf(t)>-1&&window.parent.AxIvFilterMinHeader.splice($j.inArray(t,window.parent.AxIvFilterMinHeader),1)}"true"==$j("#filterIvParam").attr("aria-selected")?$j("#leftPanel").css("margin-top","-1%"):$j("#leftPanel").css("margin-top","-2%")}function ShowVisibleFilters(){for(var e=0;e<window.parent.AxIvFilterMinHeader.length;e++)calledFrom="clicked",$j("#"+window.parent.AxIvFilterMinHeader[e]).click();calledFrom=""}function HighLightSelected(){selectedFilterItem&&$j("#"+selectedFilterItem).length>0?$j("#"+selectedFilterItem).addClass("selectedFilterItem"):selectedFilterItem=""}function toExcelWeb(e,t){var a,n;screen.width,screen.height;a=form1.param.value,$j("#hdnKey").length>0&&""!=$j("#hdnKey").val()&&(n="&ivKey="+$j("#hdnKey").val()),SetExport("../aspx/excelweb.aspx?ivname="+e+"&ivtype="+t+n+"&params=",a,e)}function MakeStaticHeader(e,t,a,n,i){var r=document.getElementById(e);if(r){var o=document.getElementById("DivHeaderRow"),l=document.getElementById("DivMainContent");n=$j("#GridView1").find("tr:first").height(),a=screen.width-50,o.style.height=n+"px",o.style.width=parseInt(a)-16+"px",o.style.position="relative",o.style.top="0px",o.style.zIndex="10",o.style.verticalAlign="top",l.style.width=a+"px",l.style.height=t+"px",l.style.position="relative",l.style.top=-n+"px",l.style.zIndex="1",o.appendChild(r.cloneNode(!0))}}function OnScrollDiv(e){document.getElementById("DivHeaderRow").scrollLeft=e.scrollLeft}function setGridviewWidth(){$j("#DivMainContent").width()>$j("#GridView1").width()&&$j("#DivMainContent").width($j("#GridView1").width()+17)}function ShowMessageBox(e,t){if(t!=undefined){var a=FindPosY(document.getElementById(t));$j.msgBox({content:e,type:"info"},a)}else $j.msgBox({content:e,type:"info"},100)}function ddToggle(e){e.preventDefault(),$j(".ddlBtn dd ul").toggle()}function ShowViewPopup(){$j("#divFilterView").css("display","block")}function CloseViewPopup(){$j("#divFilterView").css("display","none")}function FilterMyView(e){callParentNew("loadFrame()","function"),$j("#hdnMyViewName").val(e)}function DeleteMyView(e){confirm("Are you sure you want to delete this item?")&&($j("#hdnMyViewName").val(e),$j("#btnDeleteMyView").click())}function CheckMyViewFilters(){var e=$j("#hdnMyViewFilterCol").val();if(""!=e&&void 0!==e){for(var t=new Array,a=e.split("^"),n=0;n<a.length;n++){var i=a[n].substring(0,a[n].indexOf(":")),r=a[n].substring(a[n].indexOf(":")+1);t=r.split(",");for(var o=0;o<t.length;o++){$j("#leftPanel:input[value="+t[o]+"]").attr("checked","true"),$j("#"+i+"colValue"+" input").each(function(){$j(this).val()==t[o].toString()&&$j(this).prop("checked",!0)})}}""!=$j("#hdnparamValues").val()&&SetParamValues($j("#hdnparamValues").val())}$j("#hdnMyViewFilterCol").val("")}function OpenIviewFromIv(e,t,a,n){if(configNavProp=n!=undefined?n:"",""!=e){closeParentFrame(),e+="&AxIvNav=true";try{ASB.WebService.SetActionIvParams(e,t,a,SuccOpenIvAction)}catch(i){closeParentFrame()}}}function SuccOpenIvAction(e,t){if(""!=e){var a,n,i,r,o;null===(a=callParentNew("updateAppLinkObj"))||void 0===a||a(e,1,"axpiframe"==(null===(n=window)||void 0===n?void 0:null===(i=n.frameElement)||void 0===i?void 0:i.id),_objectSpread({},null===(r=window)||void 0===r?void 0:null===(o=r.frameElement)||void 0===o?void 0:o.dataset));var l=$j("#axpiframe",parent.document);""==configNavProp&&l.hasClass("frameSplited")&&(configNavProp="split"),"split"===configNavProp?(ShowDimmer(!1),callParentNew("OpenOnPropertyBase(".concat(e,")"),"function")):"popup"===configNavProp?LoadPopPage(e):"default"===configNavProp||""===configNavProp?(UpdatePrevMid1FrameUrl(e),document.location.href=e):"newpage"===configNavProp&&popupFullPage(e)}}function adjustwin(e,t,a){var n=t.name;"openpop"!=(n=n.toLowerCase()).substring(0,7)&&"loadpop"!=n.substring(0,7)&&"ivewPop"!=n.substring(0,7)||(n="MyPopUp")}$j(window).on("load",function(){setGridviewWidth()});var initialSrchVal="";function SetFileToDownload(e,t,a,n){var i,r=arguments.length>4&&arguments[4]!==undefined?arguments[4]:"image",o=arguments.length>5?arguments[5]:undefined,l=arguments.length>6?arguments[6]:undefined,s=arguments.length>7?arguments[7]:undefined,c=arguments.length>8&&arguments[8]!==undefined&&arguments[8];return e!=undefined&&t!=undefined&&n!=undefined?($j.ajax({type:"POST",async:!c,url:"../WebService.asmx/GetFilePathForIviewAttachment",contentType:"application/json;charset=utf-8",data:JSON.stringify({proj:e,tid:t,fldname:a,filename:n,attachtype:r,onlyRecordId:o,onlyFileName:l,isDbAttachment:s,onlygetPath:c}),dataType:"json",success:function(e){i=InvokeDownloadButton(e.d,r,c)},failure:function(e){showAlertDialog("error",3028,"client"),i=[]},error:function(e){showAlertDialog("error",3028,"client"),i=[]}}),i):[]}function SetAxpFileListviewDownload(e,t){var a,n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"axpfile";return t!=undefined?($j.ajax({type:"POST",async:!0,url:"../WebService.asmx/GetAxpFilePathForListviewAttachment",contentType:"application/json;charset=utf-8",data:JSON.stringify({filepath:e,filename:t}),dataType:"json",success:function(e){a=InvokeDownloadButton(e.d,n)},failure:function(e){showAlertDialog("error",3028,"client"),a=[]},error:function(e){showAlertDialog("error",3028,"client"),a=[]}}),a):[]}function InvokeDownloadButton(e,t){var a=arguments.length>2&&arguments[2]!==undefined&&arguments[2];if(e){if(e=_toConsumableArray(new Set(e.split("♠"))).join("♠"),a)return e.split("♠").map(function(e){try{var t,a,n,i=null===(t=JSON.parse(e))||void 0===t?void 0:null===(a=t.command)||void 0===a?void 0:null===(n=a[0])||void 0===n?void 0:n.cmdval;return i?(JSON.parse(e).basePath||"")+i:e}catch(r){return e}})||[];for(var n=0;n<e.split("♠").length;n++){var i=e.split("♠")[n];if(i.indexOf("Error:")>-1)i=i.replace("Error:",""),showAlertDialog("error",i);else{var r=i,o="";try{o=JSON.parse(r)}catch(l){r=(r=r.split(/\\|\//g))[r.length-1],o=JSON.parse('{"command":[{"cmd":"openfile","cmdval":"'+r+'","isatt":"T"}]}')}AssignLoadValues(JSON.stringify(o))}}return[]}a||showAlertDialog("error",3007,"client")}function downloadImage(e){var t=new Image;t.crossOrigin="anonymous",t.src=e;var a=t.src.split(/(\\|\/)/g).pop();t.onload=function(){var e,t=document.createElement("canvas");switch(t.width=this.naturalWidth,t.height=this.naturalHeight,t.getContext("2d").drawImage(this,0,0),a.match(/\.(jpeg|jpg|gif|png)$/)[0]){case".gif":e=t.toDataURL("image/gif");break;case".jpg":case".jpeg":e=t.toDataURL("image/jpeg");break;case".png":default:e=t.toDataURL("image/png")}$("body").append('<a id="hdnButtonInvokeDownload" class="hdnButtonInvokeDownload" download=\''+a+"' href='"+e+"'><img src='"+e+"'/></a>"),$(".hdnButtonInvokeDownload:last img").click().parents(".hdnButtonInvokeDownload").remove()}}$j(document).keydown(function(e){if(13==e.which&&$j("#dvPickList").is(":visible")&&$j("#tblPickData tr.active").length>0)if(initialSrchVal==$j("#"+$j("#tblPickData").attr("data-pick")).val()){e.preventDefault(),e.stopPropagation();var t=$j("#tblPickData tr.active td").attr("onclick");SetPickVal(t=(t=t.split(";")[0]).substring(23,t.length-2),$j("#tblPickData tr.active td").data()),FillDependents(t.split("^")[0]),pickStatus=!1,selectedRow=0,e.which=-1,initialSrchVal=""}else createPlSmartSelect($j("#"+$j("#tblPickData").attr("data-pick"))[0]);return 40==e.which&&$j("#dvPickList").is(":visible")&&$j("#tblPickData tr.active").length>0?(e.preventDefault(),e.stopPropagation(),pickDownn(),($("#dvPickHead .active").offset().top-$("#dvPickHead").offset().top+$("#dvPickHead .active").outerHeight()>=$("#dvPickHead").height()||$("#dvPickHead .active").offset().top-$("#dvPickHead").offset().top<0)&&$("#dvPickHead").animate({scrollTop:$("#dvPickHead .active").offset().top-$("#dvPickHead").offset().top+$("#dvPickHead .active").height()},100),!1):38==e.which&&$j("#dvPickList").is(":visible")&&$j("#tblPickData tr.active").length>0?(e.preventDefault(),e.stopPropagation(),pickUpp(),$("#dvPickHead").animate({scrollTop:$("#dvPickHead .active").offset().top-$("#dvPickHead").offset().top-$("#dvPickHead .active").height()},100),!1):void 0});var ivAttachRid=[],ivAttachTransid=[],ivAttachRowNo=[],ivFileNames=[],fallback,totalCount;function DownloadSelectedFiles(){$j("#GridView1").find('input[type="checkbox"]:checked').each(function(e){$j(".downloadLink"+(parseInt($j(this).val())-1)).each(function(e){var t=$j(this).attr("href");t!=undefined&&null!=t&&""!=t&&GetFileValues((t=(t=(t=t.replace("javascript:SetFileToDownload(","")).replace(");","")).replace(/'/g,"")).split(","))})}),GetDownloadLink(),ivAttachRid=[],ivAttachTransid=[],ivAttachRowNo=[],ivFileNames=[]}function GetDownloadLink(){try{ivAttachRid.length>0?ASB.WebService.GetZipPathForIviewAttachment(ivAttachRid,ivAttachTransid,ivAttachRowNo,ivFileNames,InvokeDownloadButton,OnException):showAlertDialog("warning",3029,"client")}catch(e){}}function OnException(e){}function GetFileValues(e){ivAttachRid.push(e[0]),ivAttachTransid.push(e[1]),ivAttachRowNo.push(e[2]),ivFileNames.push(e.slice(3).join(","))}function setWidth(){HideFilter(),$j("#showFilter").css("display","block"),$j("#dvHideFilter").css("display","none"),$j("#contentPanelGridIview").css("margin-top","2%")}function parafilterfixer(){0==parafilterfix.myFilters?($j("#myFilters").attr("aria-expanded","false"),$j("#Filterscollapse").hasClass("in")&&iviewTableWrapperHeightFix(),$j("#Filterscollapse").removeClass("in show"),$("#accordion").removeClass("shadow"),$j("#Filterscollapse").attr("aria-expanded","false")):($j("#myFilters").attr("aria-expanded","true"),$j("#Filterscollapse").hasClass("in")||iviewTableWrapperHeightFix(),$j("#Filterscollapse").addClass("in"),$j("#Filterscollapse").attr("aria-expanded","true"),$("#accordion").addClass("shadow").css({top:"".concat($(".toolbar").outerHeight(!0),"px")}))}function RefreshParams(){$j("#hdnGo").val("refreshparams"),$j("#btnRefreshParams").click()}function UpdateGetParamCache(){$j("#hdnGo").val("updateCache"),clearAdvancedFiltersforNewData(),capturedButton1Submit=!0}function CheckValidTime(e){var t=e.split(":");return timePickerSec&&2==t.length?t.push(""):timePickerSec&&1==t.length?(t.push(""),t.push("")):timePickerSec||1!=t.length||t.push(""),t[0]=t[0].replace(/[^0-9]/g,"0"),t[1]=t[1].replace(/[^0-9]/g,"0"),timePickerSec&&(t[2]=t[2].replace(/[^0-9]/g,"0")),parseInt(t[0])<=23||(t[0]=(":"==t[0].charAt(1)?"0":t[0].charAt(1))+(":"==t[0].charAt(0)?"0":t[0].charAt(0)),parseInt(t[0])<=23||(t[0]="00")),parseInt(t[1])<=59||(t[1]=(":"==t[1].charAt(1)?"0":t[1].charAt(1))+(":"==t[1].charAt(0)?"0":t[1].charAt(0)),parseInt(t[1])<=59||(t[1]="00")),!timePickerSec||parseInt(t[2])<=59||(t[2]=(":"==t[2].charAt(1)?"0":t[2].charAt(1))+(":"==t[2].charAt(0)?"0":t[2].charAt(0)),parseInt(t[2])<=59||(t[2]="00")),timePickerSec?t[0]+":"+t[1]+":"+t[2]:t[0]+":"+t[1]}function ParamSearchOpen(e){curPageNo=1;var t=e.id,a="",n=t.split("~");a=-1!=t.indexOf("~")?n[1].toString():n[0].toString();var i=$j("#"+a).val();plname=a,plvalue=i,plpageNo=1,plpagesize=100,objid=t,CallPicklistService(plname,plvalue,plpageNo,plpagesize,objid)}function CallPicklistService(e,t,a,n,i){ShowDimmer(!0),initialSrchVal=t,GetParamValues("clear"),$j.ajax({type:"POST",url:"../aspx/iview.aspx/GetIviewPickListData",contentType:"application/json;charset=utf-8",data:'{iviewName: "'+iName+'",pageNo: "'+a+'",pageSize: "'+n+'",fieldName :"'+e+'",fieldValue :"'+t+'",depParamVal:"'+$j("#hdnparamValues").val()+'"}',dataType:"json",success:function(t){var a="";if(CheckSessionTimeout(t.d))ShowDimmer(!1);else if(t.d.toLowerCase().indexOf('"error":')>-1)showAlertDialog("error",appGlobalVarsObject.lcm[10]),ShowDimmer(!1);else{var r=JSON.parse(t.d.replace(/@/g,"")),o=[];if(null!=r.sqlresultset.response){var l=-1;fallback?(l=totalCount,fallback=!1):(l=parseInt(r.sqlresultset.response.totalrows),totalCount=l),a=l+"♣";var s=window["dfval".concat(e)]||"";1==l&&(r.sqlresultset.response.row=[r.sqlresultset.response.row]),$j.each(r.sqlresultset.response.row,function(t,n){var i=r.sqlresultset.response.row[t];if("object"==_typeof(i)&&Object.keys(i).length>1){var l="";Object.keys(i).forEach(function(t,a){var n=i[t],r="string"==typeof n?n:n["#text"];r=CheckSpecialCharsInHTML(r);var o=n.dt||"";l+=" data-optionsss"+(0==a?e:t)+'="'+r+'" '+(0!=a&&o?" data-dtypeee"+(0==a?e:t)+'="'+o+'" ':"")+" "}),o.push(l)}else o.push("");"object"!=_typeof(i)&&""!=s&&-1!=i.indexOf("~")?a+=("string"==typeof i[s.split("|")[0].split("~")[0].toUpperCase()]?i[s.split("|")[0].split("~")[0].toUpperCase()]:i[s.split("|")[0].split("~")[0].toUpperCase()]["#text"])+"¿":a+=("string"==typeof i[Object.keys(i)[0]]?i[Object.keys(i)[0]]:i[Object.keys(i)[0]]["#text"])+"¿"})}AssignPLValues(a,n,i,e,o)}},failure:function(e){showAlertDialog("error",appGlobalVarsObject.lcm[10]),ShowDimmer(!1),AxWaitCursor(!1)},error:function(e){showAlertDialog("error",appGlobalVarsObject.lcm[10]),ShowDimmer(!1),AxWaitCursor(!1)}})}function AssignPLValues(e,t,a,n){var i,r=arguments.length>4&&arguments[4]!==undefined?arguments[4]:[];if(""!=e&&"<error>"!=e.substring(0,7)){TogglePrevNextLink("inline");var o="";if(-1!=e.indexOf("♣")){var l=e.split("♣");totalPLRows=parseInt(l[0],10),totalPLRows/t%1>0?noOfPLPages=Math.floor(totalPLRows/t)+1:noOfPLPages=totalPLRows/t,i=l[1].split("¿")}else i=e.split("¿");var s=$j("#dvPickHead");if(i!=undefined&&""!=i){o="<table id='tblPickData' data-pick='"+n+"' class='pickGridData'>";for(var c=0;c<i.length;c++){var d="axPickTd00"+(c+1)+"F",p=CheckSpecialCharsInHTML(i[c]);if(""!=i[c].toString()){var u=i[c].toString();-1!=i[c].toString().indexOf("^")&&(u=i[c].toString().split("^")[1]),-1!=p.indexOf("\\")&&(p=p.replace("\\","\\\\")),o+='<tr><td id="'+d+'" onclick="javascript:SetPickVal(\''+n+"^"+p+"', $(this).data());FillDependents('"+n+'\');" class="handCur" data-setPickVal="'+n+"^"+p+'" '+(r[c]||"")+"><a>"+u+"</a></td></tr>"}}o+="</table>",s.length>0&&s.html(o),$j("#tblPickData tr").length>0&&$j("#tblPickData tr:nth-child(1)").addClass("active")}else s.length>0&&s.html("<label>".concat(appGlobalVarsObject.lcm[11],"</label>"));SetPrevNextLinks(),document.getElementById("advancebtn").style.visibility="visible"}else{o="<table id='' cellpadding='1' cellspacing='1'>",o+="",o+="</table>",document.getElementById("advancebtn").style.visibility="hidden",o+="<label>".concat(appGlobalVarsObject.lcm[11],"</label>"),TogglePrevNextLink("none"),(s=$j("#dvPickHead")).length>0&&s.html(o)}var h=$j("#tblPickData tbody tr").length;h>1&&$j(".inputClass2").keydown(function(e){if(40==e.which){if("undefined"==typeof selectedRow&&(selectedRow=0),selectedRow<h){0==$j("#tblPickData tr:nth-child("+selectedRow+++")").length&&(selectedRow=2),$j("#tblPickData tr").removeClass("pickbg"),$j("#tblPickData tr:nth-child("+selectedRow+")").addClass("pickbg");for(var t=0,n=0;n<selectedRow;n++)t+=$j("#tblPickData tr:nth-child("+n+")").height();t+20>$j("#dvPickHead").height()&&$j("#dvPickHead").scrollTop($j("#dvPickHead")[0].scrollHeight)}}else if(38==e.which){if(selectedRow>2){0==$j("#tblPickData tr:nth-child("+selectedRow--+")").length&&selectedRow++,$j("#tblPickData tr").removeClass("pickbg"),$j("#tblPickData tr:nth-child("+selectedRow+")").addClass("pickbg"),1==selectedRow&&e.preventDefault();for(t=0,n=h;n>=selectedRow;n--)t+=$j("#tblPickData tr:nth-child("+n+")").height();if(t+10>$j("#dvPickHead").height()){var i=selectedRow-1;$j("#dvPickHead").scrollTop($j("#tblPickData tr:nth-child("+i+")").height())}}}else 39==e.which?$j("#nextPick").attr("onclick")!=undefined&&""!=$j("#nextPick").attr("onclick")&&(GetData("next"),$j("#dvPickHead").scrollTop(0),selectedRow=1):37==e.which?$j("#prevPick").attr("onclick")!=undefined&&""!=$j("#prevPick").attr("onclick")&&(GetData("prev"),selectedRow=1,$j("#dvPickHead").scrollTop(0)):27!=e.which&&9!=e.which||(HidePLDiv(!1,a),selectedRow=0);e.which=-1}),$j(document).keypress(function(e){if(-1!=e.keyCode){if(13==e.keyCode){var t=GetActivePickListId(),a=GetFieldsDcNo(t),i=GetFieldsRowNo(t);if(AxActiveRowNo=GetDbRowNo(i,a),$j("#dvPickList").is(":visible")){var r="#axPickTd00"+--selectedRow+"F"+GetTdFrameNo();if($j(r).length>0){var o=$j(r).find("a")[0].innerText;o==undefined&&(o=$j(r).find("a")[0].textContent),SetPickVal(n+"^"+o,$j(r).data()),FillDependents(n),pickStatus=!1}selectedRow=0}}e.which=-1}}),$j(document).click(function(e){"nextPick"!=e.target.id&&"prevPick"!=e.target.id&&"curHand"!=e.target.className&&"hdrRow"!=e.target.className&&(HidePLDiv(!1,a),selectedRow=0)}),ShowPickList(a),ShowDimmer(!1),AxWaitCursor(!1),$j("#"+a).focus()}function ShowPickList(e){$j("#pickDimmer").css("display","none");var t,a=e.split("~");t=2==a.length?1:0,FindCtrlPos(n=document.getElementById(a[t]));var n,i=(n=$j("#"+a[t])).width()+19,r=n.height(),o=$j("#dvPickList"),l=GetFieldsDcNo(a[t]);o.width(i);var s=$j("#contentScroll"+l).scrollLeft(),c=$j("#contentScroll"+l).scrollTop();if(c>0){var d=parseInt(iY-r-c+18-0,10);d>0?o.css("top",d+"px"):o.css("top",iY+5+"px")}else o.css("top",iY+5+"px");if(s>0){var p=iX-i-s,u=$j("#divDc"+l).width()+20,h=0,m=p+200;u<m&&(h=m-u);var f=parseInt(p-h,10);f>0?o.css("left",f+"px"):o.css("left","0px")}else o.css("left",iX-i+"px");o.show(),o.removeClass("d-none")}function CheckHeight(e,t){var a=$j("#middle1",parent.document),n=document.body.offsetHeight,i=e+t;i>n&&(n+=i-n,a.height(n+100))}function TogglePrevNextLink(e){var t=$j("#prevPick"),a=$j("#nextPick");"block"==e||"inline"==e?(t.show(),a.show()):(t.hide(),a.hide())}function SetPrevNextLinks(){var e=$j("#prevPick"),t=$j("#nextPick"),a=$j("#tblPickData");1==curPageNo?(e.attr("disabled","disabled"),e.css("display","none"),e.removeAttr("onclick")):(e.attr("disabled",!1),e.css("color","black"),t.css("color","black"),e.attr("onclick","javascript:GetData('prev')")),curPageNo<noOfPLPages?(t.attr("disabled",!1),t.css("color","black"),t.attr("onclick","javascript:GetData('next')")):curPageNo>=noOfPLPages?(t.attr("disabled","disabled"),t.css("display","none"),t.removeAttr("onclick")):(a.attr("disabled","disabled"),a.removeAttr("onclick"))}function GetData(e){"prev"==e&&curPageNo>1?curPageNo-=1:"next"==e&&curPageNo<noOfPLPages&&(curPageNo+=1),fallback=!0,CallPicklistService(plname,plvalue,curPageNo,plpagesize,objid)}function FindCtrlPos(e){"string"==typeof e&&(e=document.getElementById(e));var t=e;jQuery(e).offset();iX=findPosX(t)+t.clientWidth+1,iY=findPosY(t)+t.clientHeight+1}function findPosX(e){var t=0;if(e.offsetParent)for(;e.offsetParent;)t+=e.offsetLeft,e=e.offsetParent;else e.x&&(t+=e.x);return t}function findPosY(e){var t=0;if(e.offsetParent)for(;e.offsetParent;)t+=e.offsetTop,e=e.offsetParent;else e.y&&(t+=e.y);return t}function SetPickVal(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};e=t.setpickval||e,delete t.setpickval;var a=(e=(e=RepSpecialCharsInHTML(e)).split("^"))[0],n=e[1];n=paramsSplCharsCheck(n),document.getElementById(a).value=n,Object.keys(t).forEach(function(e){var n=t[e];$("#".concat(a)).data(e,n)})}function CallSearchOpen(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";if(ShowDimmer(!0),""!=$j("#hdnparamValues").val()?isPlDepParBound=!0:(GetParamValues("clear"),isPlDepParBound=""!=$j("#hdnparamValues").val()),isPlDepParBound){try{GetParamValues("clear");var t=window["dfval".concat(e.id)]||"",a=$(window["".concat(e.id)]).hasClass("trySelect"),n="./iviewAutoComplete.aspx?isIV=".concat(!isListView,"&srchTxt=","&fldname=").concat(e.id,"&fldcaption=").concat(CheckParamNameSplChars(e.dataset.caption),"&transid=").concat(iName,"&key=").concat($("#hdnKey").val(),"&params=").concat(CheckParamNameSplChars($("#hdnparamValues").val()),"&dF=").concat(t,"&isSelect=").concat(a),i='<iframe id="loadPopUpPage" name="loadPopUpPage" class="col-12 flex-column-fluid w-100 h-100 p-0 my-n1" src="'.concat(n,'" frameborder="0" allowtransparency="True"></iframe>'),r=new BSModal("loadPopUpPage","Advance Search",i,function(){$("#".concat(e.id)).select2("close")},function(){});r.changeSize("fullscreen"),r.scrollableDialog(),r.hideFooter()}catch(o){}isPlDepParBound=!1}}function GetActivePickListId(){var e=$j("#hdnPickFldId").val().split("~");return e[e.length>1?1:0]}function createIvir(e){$("td[data-order^=Grand]").attr("data-order",""),ivirColumnTypeObj={};var t,a=$.parseJSON(e);if("undefined"!=typeof a.length&&(t=_toConsumableArray(a),multipleCachedPages=!0,a=$.parseJSON(a[0])),a.data){if(currView=a.currView||currView,window.loadViewName||(window.loadViewName=currView||"main"),ivComps=a.data.comps,ivHeadRows=a.data.headrow,ivExportHF=a.data.reporthf,ivSmartViewSettings=a.data.smartview&&a.data.smartview.settings,a.data.actions&&(ivActions=a.data.actions),a.data.scripts&&(ivScripts=a.data.scripts),a.data.hyperlinks&&(ivHyperlinks=a.data.hyperlinks),isListView&&(requestTstructFieldsObj(),""!=$("#hdnListViewFieldsJSON").val())){var n=JSON.parse($("#hdnListViewFieldsJSON").val());try{tstFields=Object.keys(n).reduce(function(e,t){return[].concat(_toConsumableArray(e),_toConsumableArray(n[t].fields))},[])}catch(v){}}if(a.data.configurations&&a.data.configurations.config&&(ivConfigurations=a.data.configurations.config.length==undefined?[a.data.configurations.config]:a.data.configurations.config)&&processIvConfiguration(ivConfigurations),a.data.templetes&&a.data.templetes.templete)try{a.data.templetes.templete.length==undefined&&(a.data.templetes.templete=[a.data.templetes.templete]),ivTemplates=a.data.templetes.templete,cardTemplatingHTML="";var i=a.data.templetes.templete.filter(function(e,t){return"ALL"==getCaseInSensitiveJsonProperty(e,"ELEMENTS")[0].toUpperCase()});if(i&&i.length){cardTemplatingHTML=getCaseInSensitiveJsonProperty(i[0],"CVALUE")[0];var r=parseJSON(cardTemplatingHTML);if(r){cardTemplatingHTML=r.html;var o=r.width,l=r.align;o&&$("#iviewFrame").addClass("col-lg-".concat(o," col-md-").concat(o," col-sm-12 col-xs-12")),l&&($("#iviewFrame").addClass("alignIview"),$("#iviewFrame").addClass(l))}}}catch(v){}}else a.message&&"webservice timeout"==a.message&&setIviewNotificationInfo(a);FieldName=[],HeaderText=[],ColumnType=[],HideColumn=[],custBtnIVIR=[],isChkBox="true",$.each(ivHeadRows,function(e,t){e.startsWith("@")||"axp__font"==e||"axrowtype"==e||"pivotghead"==e||(FieldName.push(e),HeaderText.push(t["#text"]||""),ColumnType.push(t["@type"]||"c"),ivFreezeColumn.push(t["@freezecol"]||"F"),HideColumn.push(t["@hide"].toString()||"true"),e.startsWith("p_v_")&&!ivHeadRows[e]["@align"]&&(ivHeadRows[e]["@align"]="Right"),"rowno"==e&&(isChkBox=("false"==t["@hide"].toString()).toString()),requestJSON&&0==FieldName[FieldName.length-1].toLowerCase().indexOf("axpfilepath_")&&(t["@hide"]=HideColumn[HideColumn.length-1]="true"),isListView&&"temps"==iName&&"cvalue"==FieldName[FieldName.length-1].toLowerCase()&&(t["@hide"]=HideColumn[HideColumn.length-1]="true"),"axrowoptions"==FieldName[FieldName.length-1].toLowerCase()&&(t["@hide"]=HideColumn[HideColumn.length-1]="true",rowOptionsExist=!0,isMobile||(HideColumn[FieldName.indexOf("rowno")]="false")))}),cardTemplatingHTML=cardTemplatingHTML||"undefined"==typeof customCardTemplatingHTML?cardTemplatingHTML:customCardTemplatingHTML,ivDatas=processRowData(a.data,t),dtDbTotalRecords=getDtRecordCount();for(var s=0;s<HeaderText.length;s++)""!==HeaderText[s]&&(ivirColumnTypeObj[FieldName[s]]=ColumnType[s]);rowTypeExist=FieldName.filter(function(e){return"axrowtype"==e}).length>0,filteredColumns=FieldName.filter(function(e,t,a){return"false"==HideColumn[t]&&"rowno"!=FieldName[t]&&"axrowtype"!=FieldName[t]});var c="";if(ivHeadRows.pivotghead!==undefined&&!$.isEmptyObject(ivHeadRows.pivotghead)){var d=function(e,t,a){if(0==t.indexOf("{")&&t.indexOf("}")==t.length-1){var n=t.substring(1,t.length-1);if(parentArr.indexOf(n)>-1)try{var i,r,o,l,s,c,d;t=(null===(i=$j("#hdnparamValues").val().split("¿").filter(function(e){return 0==e.indexOf("".concat(n,"~"))}))||void 0===i?void 0:null===(r=i[0])||void 0===r?void 0:null===(o=r.split)||void 0===o?void 0:null===(l=o.call(r,"~"))||void 0===l?void 0:null===(s=l.pop)||void 0===s?void 0:null===(c=s.call(l))||void 0===c?void 0:null===(d=c.toString)||void 0===d?void 0:d.call(c))||""}catch(v){}}return"<th ".concat(void 0!==a?'style="'.concat(a,'"'):"",' align="center" colspan="').concat(e,'" rowspan="1" class="pivotHeaderStyle dt-center">').concat(t.replace(/~/g,"<br />"),"</th>")};if(pivotCreated=!0,c+="<tr>",c+=d(1,"","width:".concat(minCellWidth,"px;")),ivHeadRows.pivotghead){ivHeadRows.pivotghead.head&&ivHeadRows.pivotghead.head.length==undefined&&(ivHeadRows.pivotghead.head=[ivHeadRows.pivotghead.head]);var p=0;try{p=parseInt(_.sortBy(ivHeadRows.pivotghead.head,function(e){return parseInt(e.sn,10)})[0].sn,10)-1}catch(v){}for(var u=0;u<p;u++)c+=d(1,"");ivHeadRows.pivotghead.head.forEach(function(e,t,a){var n=parseInt(e.en)-parseInt(e.sn);e.ghead=e.ghead||"",c+=d(n,e.ghead)})}else a.data.PivotAndMerge&&Object.keys(a.data.PivotAndMerge).filter(function(e,t){return""!==a.data.PivotAndMerge[e]["#text"]}).length?Object.keys(a.data.PivotAndMerge).forEach(function(e,t){var n=a.data.PivotAndMerge[e],i=parseInt(n["@e"])-parseInt(n["@s"]);n["#text"]=n["#text"]||"",c+=d(i,n["#text"])}):pivotCreated=!1;c+="</tr>",pivotCreated||(c="")}var h="";tableWidth=0;var m=isListView&&enableListviewExtraHyperlinks?"ext-hyper-link":isListView?"isListView":"",f='<table class="gridData table fs-5 '.concat(m," ").concat((appGlobalVarsObject._CONSTANTS.compressedMode,""),'" rules="all" border="1" id="GridView1" data-row>')+"<thead>"+c+'<tr class="fw-bold text-gray-800 border-bottom-2 border-gray-200">';f+='<th id="GridView1_ctl01_rowno" class="fw-boldest '.concat(enableListviewExtraHyperlinks?"p-0":"",'" data-header-name="rowno" scope="col" style="width:').concat(null==findGetParameter("tstcaption")?minCellWidth:listViewCheckBoxSize,'px; ">\n            ').concat(rowOptionsExist?'<div class="rowOptionsExist float-start form-check form-check-sm form-check-custom invisible '.concat("true"==isChkBox?"":"px-3",'">\n                <a href="javascript:void(0);" class="btn btn-sm btn-icon form-check-input">\n                    <span class="material-icons material-icons-style material-icons-2">arrow_drop_down</span>\n                </a>\n            </div>'):"",'\n            <div class="form-check form-check-sm form-check-custom ').concat(isMobile?"":"justify-content-center"," ").concat((appGlobalVarsObject._CONSTANTS.compressedMode,rowOptionsExist&&"true"==isChkBox?"px-7 py-3":"px-3 py-3")," ").concat("true"==isChkBox?"":"d-none",'"><input class="form-check-input  border-gray-500 ').concat("true"==isChkBox?"":"d-none",'" name="chkall" id="chkall" onclick="javascript:CheckAll();" type="checkbox" />            \n            ').concat(isListView&&enableListviewExtraHyperlinks?'<a class="opacity-0">\n                    <span class="ms-1 material-icons material-icons-style material-icons-4 align-middle">edit</span>\n                </a>\n                <a class="opacity-0">\n                    <span class="ms-1 material-icons material-icons-style material-icons-4 align-middle">launch</span>\n                </a>':"","\n            </div>\n        </th>"),h+="<td></td>",tableWidth+=(null==findGetParameter("tstcaption")?minCellWidth:listViewCheckBoxSize)+("true"==isChkBox?40:0),containsDefaultWidth=Object.keys(ivHeadRows).map(function(e){var t,a;return null===(t=ivHeadRows)||void 0===t?void 0:null===(a=t[e])||void 0===a?void 0:a["@width"]}).reduce(function(e,t,a,n){var i=function(e){return Number.isNaN(+e)||80==+e||120==+e};return e?e&&i(t):e||i(t)},!1),HeaderText.forEach(function(e,t,a){if("rowno"!=FieldName[t]){var n=ivHeadRows[FieldName[t]]["@width"]||minCellWidth;if(0==e.indexOf("{")&&e.indexOf("}")==e.length-1){var i=e.substring(1,e.length-1);if(parentArr.indexOf(i)>-1)try{var r,o,l,s,c,d,p;e=(null===(r=$j("#hdnparamValues").val().split("¿").filter(function(e){return 0==e.indexOf("".concat(i,"~"))}))||void 0===r?void 0:null===(o=r[0])||void 0===o?void 0:null===(l=o.split)||void 0===l?void 0:null===(s=l.call(o,"~"))||void 0===s?void 0:null===(c=s.pop)||void 0===c?void 0:null===(d=c.call(s))||void 0===d?void 0:null===(p=d.toString)||void 0===p?void 0:p.call(d))||""}catch(v){}}"false"==(ivHeadRows[FieldName[t]]["@hide"].toString()||"true")&&(tableWidth+=parseInt(n,10)),f+='<th id="GridView1_ctl01_'.concat(FieldName[t],'" class="fw-boldest" data-header-name="').concat(FieldName[t],'" scope="col" style="width:').concat(n,'px;">').concat(e.replace(/~/g,"<br />")).concat('\n        \x3c!--begin::Menu wrapper--\x3e\n        <div  class="position-relative float-end me-n5" style="right: 10px;">\n            \x3c!--begin::Toggle--\x3e\n            <div class="bg-hover-light border-hover-primary--- border-dashed--- border-transparent--- rounded w-15px h-20px rightClickMenuIcn" data-kt-menu-trigger="click" data-kt-menu-placement="bottom-end" data-kt-menu-attach="parent">\n                <span class="material-icons material-icons-style--- material-icons-3 text-transparent text-hover-gray-800 ms-n1">\n                    expand_more\n                </span>\n            </div>\n            \x3c!--end::Toggle--\x3e\n            <div class="rightClickMenuContainer menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary fw-semibold w-200px" data-kt-menu="true">\n            </div>\n        </div>\n        \x3c!--end::Dropdown wrapper--\x3e\n        ',"</th>"),h+="<td></td>"}}),h="<tfoot><tr>".concat(h,"</tr></tfoot>"),f+="</tr>"+"</thead>".concat(h,"</table>"),$("#GridView2Wrapper").html($(f).css({width:"".concat(tableWidth,"px")})),showParamsPlaceholder();try{$("#GridView2Wrapper").html(axPostTableHeaderCreationHook($("#GridView2Wrapper").html()))}catch(v){}hiddenColumnIndex=FieldName.map(function(e,t,a){return"rowno"==FieldName[t]||"axrowtype"==FieldName[t]?"":"true"==HideColumn[t]?t-(rowTypeExist?1:0):""}).filter(function(e){return""!==e}),"true"==isChkBox||rowOptionsExist?filteredColumns=[""].concat(_toConsumableArray(filteredColumns)):hiddenColumnIndex=[0].concat(_toConsumableArray(hiddenColumnIndex)),HeaderText.forEach(function(e,t){"root_class"==e.toString().toLowerCase()&&(cellHeaderConf.root_class_index=FieldName[t]),"account name"!=e.toString().toLowerCase()&&"particulars"!=e.toString().toLowerCase()&&"+/-"!=e.toString().toLowerCase()||(cellHeaderConf.root_account_index=FieldName[t]),"root_type"==e.toString().toLowerCase()&&(cellHeaderConf.root_atype_index=FieldName[t])}),bulkDownloadEnabled&&HeaderText.forEach(function(e,t){return e.indexOf("axp_attach")>-1&&(cellHeaderConf.FilesIndexes||(cellHeaderConf.FilesIndexes=[]),cellHeaderConf.FilesIndexes.push(FieldName[t]),ivHeadRows[FieldName[t]]["@align"]="Center"),e}),cellHeaderConf.FilesIndexes&&bulkDownloadEnabled?$("#btnDownloadAll").show():$("#btnDownloadAll").hide(),showColumnSeparator&&$("table#GridView1").addClass("table-bordered")}function CheckDisabled(e){var t=$("#"+e);return clearAdvancedFiltersforNewData(),!(!t.length||t.hasClass("disabled"))&&(t.addClass("disabled"),$("#waitDiv").is(":hidden")&&ShowDimmer(!0),!0)}function clearAdvancedFiltersforNewData(){$("#divModalAdvancedFilters .body-cont").remove(),advFiltersObjectToApply={}}function resetSmartViewVariables(){nxtScrollSize=ivDatas.length,defaultRecsPerPage=100,checkNextDBRowsExist=!0,dtPageNo=1,dtTotalRecords=0,dtDbTotalRecords=0,autoAppendRecords=!1,pageScrollToEnd=!1,scrollTopPosition=0,""==firstTimeParams&&""!=$j("#hdnparamValues").val()&&((firstTimeParams={}).params=$("#hdnparamValues").val().replace(/&grave;/g,"`"),firstTimeParams.paramsList=getParamsValueList(),firstTimeParams.paramsList&&(firstTimeParams.paramsList=JSON.parse(JSON.stringify(firstTimeParams.paramsList).replace(/&/g,"&amp;"))))}function valdDecPts(e,t){if(!isNaN(parseFloat(e.value))&&/\./.test(e.value)&&"ExprHandler(this.name,this.value, false);"==$(e).attr("onfocus"));else{var a=isNaN(parseFloat(e.value))?"":parseFloat(e.value).toFixed(t);e.value=a}}function setRefreshParent(val){eval(callParent("isRefreshParentOnClose")+"="+val.toLowerCase())}function processRowData(e,t){processParamBadge();var a=[];return e["@perfxml"]&&"true"==e["@perfxml"]?((a=e.rowdata.row.length==undefined?[e.rowdata.row]:e.rowdata.row).splice(0,1),a.length>0&&Object.keys(a[0]).indexOf("@ROWNO")<0&&(a=a.map(function(e,t){return _objectSpread({"@ROWNO":(t+1).toString()},e)})),isPerf=!0):multipleCachedPages||t?t.forEach(function(e,t,n){var i,r;r=(e=jsonObject=null===(i=$.parseJSON(e))||void 0===i?void 0:i.data).row.length==undefined?[e.row]:e.row,dtPageNo=t+1;a.length;var o=r;if(o.length>0){var l=a.findIndex(function(e){return"gtot"==e.axrowtype}),s=o.findIndex(function(e){return"gtot"==e.axrowtype});l>-1&&s>-1&&(a.splice(l,1),a.length);var c=0,d=Object.keys(subHeadGroup).reverse().reduce(function(e,t,a){return null==subHeadGroup[t]?c++:c<2&&e.push(parseInt(t)),e},[]).reverse(),p=_.findIndex(o,function(e){return"subhead"==e.axrowtype}),u=!1;d.length>0&&p>-1&&d.forEach(function(e,t){try{var n;if(!u&&"subhead"==(null==o?void 0:null===(n=o[p])||void 0===n?void 0:n.axrowtype)){var i=Object.keys(difference(a[e],o[p]));0==i.length||1==i.length&&"rowno"==i[0]?o.splice(p,1):u=!0}}catch(r){}}),a=a.concat(o),ivDatas=_toConsumableArray(a),dtDbTotalRecords=getDtRecordCount();nxtScrollSize>a.length?a.length:nxtScrollSize;0==t&&(nxtScrollSize=a.length),checkIfNextDBRowsExist(),pageScrollToEnd=!0,pageScrollToEnd=!1}else checkNextDBRowsExist=!1,$("#ivInSearchInputButton").addClass("d-none"),$("#lnkShowAll").remove(),$("#lblCurPage").text("Rows: 1-"+dtDbTotalRecords+" of "),$("#lblNoOfRecs").text(dtDbTotalRecords)}):a=e.row.length==undefined?[e.row]:e.row,a}function processParamBadge(){if(paramValuesArray=getParamsValueArray(),$("#FilterValues").length&&"hidden"!=$("#hdnIsParaVisible").val()){if(Object.keys(paramValuesArray).length){var e="";if(Object.keys(paramValuesArray).forEach(function(t,a){$(".paramtd2 #".concat(t,":not([type=hidden])")).length&&""!=paramValuesArray[t]&&(0,paramValuesArray[t]=paramValuesArray[t].replace(/\~/g,","),e+=(requestJSON||"old"!=iviewButtonStyle?"<span><span>":"<div><b>")+($("#"+t).data("caption")||t)+(requestJSON||"old"!=iviewButtonStyle?"</span>: ":"</b> </td><td>: ")+paramValuesArray[t]+(requestJSON||"old"!=iviewButtonStyle?'</span><span class="seperator">;&nbsp;</span>':"</div>"))}),requestJSON){var t='<span class="filtertooltipNew">Params<span class="ms-10 cursor-pointer tooltiptext" style="display:none;" >'+e+"</span></span>";$("#FilterValues").html(t);var a=$(".filtertooltipNew span.tooltiptext").clone().css("display","");$("#dvSelectedFilters + .tooltiptext").replaceWith(a),$("#dvSelectedFilters + .tooltiptext").before('\n                    <span data-caption="main" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-dismiss="click" data-bs-original-title="'.concat(appGlobalVarsObject.lcm[318],'" onclick="$(\'#button2\').click();" class="material-icons material-icons-style material-icons-5 position-absolute pt-1">clear</span>\n                '))}}else $("#FilterValues").html("");dvToolBarFix()}}function processParamString(){var e="";return paramValuesArray=getParamsValueArray(),Object.keys(paramValuesArray).length&&Object.keys(paramValuesArray).forEach(function(t,a){$(".paramtd2 #".concat(t,":not([type=hidden])")).length&&""!=paramValuesArray[t]&&(paramValuesArray[t]=paramValuesArray[t].replace(/\~/g,","),e+=($("#"+t).data("caption")||t)+": "+paramValuesArray[t]+", ")}),e}function UpdatePrevMid1FrameUrl(e){"middle1"===$(window.frameElement).attr("id")&&(parent.prevMid1FrameUrl=e)}function LoadTstFrmIview(e,t,a){GetCurrentTime("Tstruct load on Iview hyperlink click(Post back)");var n=$j("#axpiframe",parent.document);a!=undefined&&""!=a||!n.hasClass("frameSplited")||(a="split");try{e=loadTstUrlReWrite(e)||e}catch(i){}"split"===a?(ShowDimmer(!1),callParentNew("OpenOnPropertyBase(".concat(e+params,")"),"function")):"popup"===a?LoadPopPage(e+params):"default"===a||""==a?ReloadIframe(e+params,!0):"newpage"===a&&popupFullPage(e+params)}function ReloadIframe(e){var t=arguments.length>1&&arguments[1]!==undefined&&arguments[1],a=$(window.frameElement);try{a=reloadingFrameSwitch()||a}catch(s){}GetProcessTime();try{if(t){ShowDimmer(!0);var n=decodeURI(e).split("?")[1].split("&").map(function(e){return e.split("=")}).reduce(function(e,t){var a=_slicedToArray(t,2),n=a[0],i=a[1];return"transid"!=n.toLowerCase()&&"tstname"!=n.toLowerCase()||(e.transid=i),e},{}),i="";try{if("undefined"!=typeof Storage){var r=top.window.location.href.toLowerCase().substring("0",top.window.location.href.indexOf("/aspx/")),o=callParentNew("getKeysWithPrefix(tstHtml♠"+n.transid+"-"+r+"♥)","function");void 0===(i=localStorage[o[0]])&&(i="")}}catch(c){}if(""!=i)e+="&dummyload=true♠"+i.split("♠♠♠")[1].split("*$*")[11];else e+="&dummyload=false♠";if(e.indexOf("tstruct.aspx?")>-1){var l=e.replace(/♠/g,"%e2%99%a0");callParentNew("lastLoadtstId=",l+"&hdnbElapsTime="+callParentNew("browserElapsTime"))}else callParentNew("lastLoadtstId=","fromiview")}a[0].contentWindow.location.href=e+"&hdnbElapsTime="+callParentNew("browserElapsTime")}catch(s){}}function popupFullPage(e){callParentNew("splitfull()","function");var t=$j("#middle1",parent.document);GetProcessTime();try{t[0].contentWindow.location.href=e+"&hdnbElapsTime="+callParentNew("browserElapsTime")}catch(a){}}function getAllRecords(){var e="ar"==callParentNew("gllangType");if(exportType)if("excel"==exportType)t=$.confirm({theme:"modern",title:appGlobalVarsObject.lcm[164],onContentReady:function(){disableBackDrop("bind")},backgroundDismiss:"buttonA",rtl:e,escapeKey:"buttonA",content:appGlobalVarsObject.lcm[534],columnClass:"medium",buttons:{buttonA:{text:appGlobalVarsObject.lcm[281],btnClass:"btn btn-primary",action:function(){t.close(),ShowDimmer(!0),setTimeout(function(){setTimeout(function(){showExportConfirmforARM()},0)},100)}}}});else if("word"==exportType)ExecuteDatatableExport("currentrecords");else t=$.confirm({theme:"modern",title:appGlobalVarsObject.lcm[164],onContentReady:function(){disableBackDrop("bind")},backgroundDismiss:"false",rtl:e,escapeKey:"buttonB",content:appGlobalVarsObject.lcm[499],columnClass:"medium",buttons:{buttonA:{text:appGlobalVarsObject.lcm[500],btnClass:"btn btn-primary",action:function(){t.close(),ShowDimmer(!0),setTimeout(function(){setTimeout(function(){"excel"!=exportType?getNextDtRecords(0):showExportConfirmforARM()},0)},100)}},buttonB:{text:appGlobalVarsObject.lcm[501],btnClass:"btn btn-bg-light btn-color-danger btn-active-light-danger",action:function(){t.close(),ExecuteDatatableExport("currentrecords")}},buttonC:{text:appGlobalVarsObject.lcm[192],btnClass:"btn btn-bg-light btn-color-danger btn-active-light-danger",action:function(){disableBackDrop("destroy"),ShowDimmer(!1),exportType=""}}}});else var t=$.confirm({theme:"modern",title:appGlobalVarsObject.lcm[164],onContentReady:function(){disableBackDrop("bind")},backgroundDismiss:"false",rtl:e,escapeKey:"buttonB",content:appGlobalVarsObject.lcm[390],buttons:{buttonA:{text:appGlobalVarsObject.lcm[282],btnClass:"btn btn-primary",action:function(){t.close(),ShowDimmer(!0),setTimeout(function(){setTimeout(function(){getNextDtRecords(0)},0)},100)}},buttonB:{text:appGlobalVarsObject.lcm[192],btnClass:"btn btn-bg-light btn-color-danger btn-active-light-danger",action:function(){disableBackDrop("destroy"),ShowDimmer(!1),exportType=""}}}})}function showExportConfirmforARM(){var e=form1.param.value;ASB.WebService.ExportARMPushToQueue(iName,e,SuccessCallbackARMQueue)}function SuccessCallbackARMQueue(e,t){if(!CheckSessionTimeout(e)){try{var a=$j.parseJSON(e)}catch(n){ShowDimmer(!1)}ShowDimmer(!1),AxWaitCursor(!1),a!=undefined&&1==a.result.success?showAlertDialog("success","Data submitted to Queue successfully."):showAlertDialog("error","There was an error please try again")}}function requestNextRecords(){setTimeout(function(){getNextDtRecords(dtPageNo+1)},100)}function getNextDtRecords(e){showDataTableLoading();var t=$j("#hdnKey").val(),a=generateParamX(),n="",i="",r="";isListView&&(""!=$("#hdnLvChangedStructure").val()||(i=$("#hdnLvSelectedCols").val(),r=$("#hdnLvSelectedHyperlink").val()),n="<listviewCols><selectedCols>".concat(i,"</selectedCols><selectedHyperlink>").concat(r,"</selectedHyperlink></listviewCols>")),+originalRecsPerPage&&(e=(Math.ceil(defaultRecsPerPage/+originalRecsPerPage)||1)+1,dtPageNo=+e-1,defaultRecsPerPage=iviewDataWSRows=dtTotalRecords=+originalRecsPerPage);var o=JSON.stringify({iName:iName,ivKey:t,recsPerPage:defaultRecsPerPage,pageno:e,paramX:a,lvXml:n,lvStructure:$("#hdnLvChangedStructure").val()});$j.ajax({url:"iview.aspx/GetiViewData",type:"POST",cache:!1,async:!1,data:o,dataType:"json",contentType:"application/json",success:function(t){if($("#ivInSearchInputButtonLoader").addClass("d-none"),originalRecsPerPage="",multipleCachedPages=!1,t&&""!=t.d&&""!=t.d.result)if("success"==t.d.status){var a=JSON.parse(t.d.result);if(a.data){if(0==e)ivDatas=processRowData(a.data),dtDbTotalRecords=getDtRecordCount(),lazyBinding=!0,ivirDatatable.DataTable.settings[0].oInit.scroller=!0,$(ivirTable).trigger($.Event("preInit.dt"),ivirDatatable.DataTable.settings),$(ivirTable).trigger($.Event("init.dt"),ivirDatatable.DataTable.settings),$(".dts_label").addClass("d-none"),setSmartViewHeight(),checkNextDBRowsExist=!1,$("#ivInSearchInputButton").addClass("d-none"),ivirDataTableApi.rows().remove(),ivirDataTableApi.rows.add(ivDatas).draw(),$("#lnkShowAll, #requestNextRecords").remove(),showChartsWithAllRecords&&(showChartsWithAllRecords=!1,ivirMainObj&&ivirMainObj.chart&&ivirMainObj.chart.length&&ivirMainObj.chart.length>0&&ivirMainObj.chart.forEach(function(e,t){ivirCreateChart(t,!0,!1)}));else{dtPageNo++;var n=ivDatas.length;if("undefined"!=typeof a.actualrows&&"0"==a.actualrows.actualrows)return checkNextDBRowsExist=!1,$("#ivInSearchInputButton").addClass("d-none"),$("#lnkShowAll").remove(),$("#lblCurPage").text("Rows: 1-"+dtDbTotalRecords+" of "),$("#lblNoOfRecs").text(dtDbTotalRecords),void ShowDimmer(!1);var i=processRowData(a.data);if(i.length>0){var r=ivDatas.findIndex(function(e){return"gtot"==e.axrowtype}),o=i.findIndex(function(e){return"gtot"==e.axrowtype});r>-1&&o>-1&&(ivDatas.splice(r,1),ivirDataTableApi.rows(r).remove(),n=ivDatas.length);var l=0,s=Object.keys(subHeadGroup).reverse().reduce(function(e,t,a){return null==subHeadGroup[t]?l++:l<2&&e.push(parseInt(t)),e},[]).reverse(),c=_.findIndex(i,function(e){return"subhead"==e.axrowtype}),d=!1;s.length>0&&c>-1&&s.forEach(function(e,t){try{var a;if(!d&&"subhead"==(null==i?void 0:null===(a=i[c])||void 0===a?void 0:a.axrowtype)){var n=Object.keys(difference(ivDatas[e],i[c]));0==n.length||1==n.length&&"rowno"==n[0]?i.splice(c,1):d=!0}}catch(r){}}),ivDatas=ivDatas.concat(i),dtDbTotalRecords=getDtRecordCount();nxtScrollSize>ivDatas.length?ivDatas.length:nxtScrollSize;nxtScrollSize=ivDatas.length,checkIfNextDBRowsExist(),pageScrollToEnd=!0,ivirDataTableApi.rows.add(ivDatas.slice(n,ivDatas.length)).draw(!1),$(".dataTables_scrollBody").scrollTop(scrollTopPosition),pageScrollToEnd=!1}else checkNextDBRowsExist=!1,$("#ivInSearchInputButton").addClass("d-none"),$("#lnkShowAll").remove(),$("#lblCurPage").text("Rows: 1-"+dtDbTotalRecords+" of "),$("#lblNoOfRecs").text(dtDbTotalRecords)}clearAdvancedFiltersforNewData(),ExecuteDatatableExport(),applyCheckedPillsOnLoad(),ShowDimmer(!1)}else a.message&&"webservice timeout"==a.message&&setIviewNotificationInfo(a);try{var p;null===(p=KTMenu)||void 0===p||p.init()}catch(u){}}else showAlertDialog("warning",t.d.result),"Session Authentication failed..."==t.d.result&&(parent.window.location.href="../aspx/sess.aspx"),ShowDimmer(!1),exportType="";ShowDimmer(!1),AxWaitCursor(!1),exportType=""},failure:function(e){$("#ivInSearchInputButtonLoader").addClass("d-none"),AxWaitCursor(!1),ShowDimmer(!1),exportType=""},error:function(e){$("#ivInSearchInputButtonLoader").addClass("d-none"),AxWaitCursor(!1),ShowDimmer(!1),exportType=""}})}function getDtRecordCount(){return ivDatas.reduce(function(e,t,a){return!requestJSON||"undefined"!=typeof t.axrowtype&&("undefined"==typeof t.axrowtype||null!=t.axrowtype&&""!=t.axrowtype)?isPerf||"undefined"!=typeof t.axrowtype&&(null==t.axrowtype||""==t.axrowtype)?e+1:e+0:e+1},0)}function getSpecialRowCount(){return ivDatas.length-dtDbTotalRecords}function checkIfNextDBRowsExist(e){try{dtDbTotalRecords=getDtRecordCount();var t,a=!1;if(e){if(requestJSON)try{var n=JSON.parse(ivVarNode);"undefined"!=typeof n.length&&(n=JSON.parse(n[0])),t=n.pagesize.pagesize}catch(i){}else t=JSON.parse(ivVarNode).data.headrow["@pagesize"];t!=undefined?0==(t=parseInt(t))?(defaultRecsPerPage=iviewDataWSRows=dtDbTotalRecords,a=!0):defaultRecsPerPage=iviewDataWSRows=t:defaultRecsPerPage=iviewDataWSRows}return isPivotReport||0==dtDbTotalRecords||a||dtDbTotalRecords%iviewDataWSRows!=0&&(t==undefined||dtDbTotalRecords<t)?(checkNextDBRowsExist=!1,$("#ivInSearchInputButton").addClass("d-none"),$("#lnkShowAll").addClass("d-none"),!1):(multipleCachedPages||(defaultRecsPerPage=iviewDataWSRows=dtTotalRecords),checkNextDBRowsExist=!0,$("#lnkShowAll").removeClass("d-none"),!0)}catch(i){}}function pieChart1(e){try{var t;$("#inMemChartWrapper").highcharts({colors:["#50B432","#ED561B","#DDDF00","#24CBE5"],credits:{enabled:!1},chart:{type:"pie",options3d:{enabled:!0,alpha:45,beta:0},height:250},exporting:{enabled:!1},legend:(t={layout:"vertical",backgroundColor:"#FFFFFF",floating:!0,align:"right",x:90,y:0,itemStyle:{color:"#FFFFF"}},_defineProperty(t,"align","right"),_defineProperty(t,"verticalAlign","middle"),t),title:{style:{fontWeight:"bold",fontSize:"15px"},text:appGlobalVarsObject.lcm[291]},tooltip:{shared:!0,style:{fontWeight:"bold"}},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",depth:35,size:180,dataLabels:{enabled:!0,format:"{point.name}"}}},series:[{colorByPoint:!0,name:"Memory details in MB",data:JSON.parse(JSON.stringify(JSON.parse(e)))}]}),$(".iviewTableWrapperNew").addClass("chartsAdded"),adjustChartBasedWrapperHeight()}catch(a){showAlertDialog("warning",appGlobalVarsObject.lcm[361])}}function callCharts(){ShowDimmer(!0),$.ajax({type:"POST",url:"../aspx/iview.aspx/MemoryDetails",contentType:"application/json;charset=utf-8",data:"{}",dataType:"json",success:function(e){ShowDimmer(!1),pieChart1(e.d),isPostback=!1},error:function(e){showAlertDialog("warning",appGlobalVarsObject.lcm[273]+appGlobalVarsObject.lcm[274]),ShowDimmer(!1)}})}function loadAxTstruct(e){var t=$j("#axpiframe",parent.document),a=$j("#middle1",parent.document);if(t.hasClass("frameSplited"))if(e.toLowerCase().indexOf("tstruct.aspx?")>-1){var n="",i="";""!=e&&e.split("&").forEach(function(e){e.indexOf("recordid=")>-1?n=e.split("=")[1]:i+=e+"♠"}),""!=n&&"0"!=n?$j("#axpiframe",parent.document)[0].contentWindow.GetLoadData(n,i):$j("#axpiframe",parent.document)[0].contentWindow.GetFormLoadData(i,"false","false","true"),AxWaitCursor(!1),ShowDimmer(!1)}else t.attr("src",e);else a.attr("src",e)}function setListViewDictionary(e,t){ASB.WebService.SetListViewDictionary(e,parseInt(t,10),iName,function(e,t){},function(e){})}function getFormattedToolbarJSON(e){try{e=axUpdateToolbarJson(e)}catch(t){}return _.sortBy(e,function(e){return parseInt(e.left,10)}).filter(function(e){return e.key})}function constructToolbar(){$("#iconsNewNew").addClass("d-none"),$("#iconsNewRemove").addClass("d-none"),$("#iconsNewUtility ul li").addClass("d-none"),$("#iconsNewOption ul li").remove(),toolbarJSON&&"string"==typeof toolbarJSON&&(toolbarJSON=JSON.parse(toolbarJSON)),toolbarHTML="",requestJSON&&"old"!=iviewButtonStyle&&(toolbarHTML+=constructToolbarHTML(getFormattedToolbarJSON(toolbarJSON),!1));var e='\n    <li id="myFiltersLi" class="'.concat("old"==iviewButtonStyle?"btn btn-white btn-sm btn-color-gray-600 btn-active-primary shadow-sm me-2 ".concat("hidden"!=$("#hdnIsParaVisible").val()?"":"d-none",'"'):"menu-item px-3"," ").concat($("#hdnIsParaVisible").val(),' onclick="$(\'#Filterscollapse\').collapse(\'toggle\');">\n        <a href="#Filterscollapse" id="myFilters" class="filterBuTTon ').concat("old"==iviewButtonStyle?"text-gray-600 text-hover-white":"",'" data-bs-toggle="collapse" data-bs-parent="#accordion" aria-expanded="false" onclick="$(\'#Filterscollapse\').collapse(\'toggle\');">\n            <span class="ccolapsee material-icons material-icons-style ').concat("old"==iviewButtonStyle?"d-none":"",'">search</span>\n            <span id="lblfilters" title="Params">\n                Params\n            </span>\n        </a> ');e+="</li>","modern"!=iviewButtonStyle&&(toolbarHTML+=e),toolbarHTML+="\n    ".concat("old"==iviewButtonStyle?'<li id=\'filterWrapper\' class="menu-item">\n        <span class="material-icons pinIcon customIcon d-none" title="Pin to taskbar">\n            push_pin\n        </span>\n    </li>':"",'\n    <li id=\'ivirCButtonsWrapper\' class="menu-item px-3 d-none" data-kt-menu-trigger="hover" data-kt-menu-placement="right-start"\n    data-kt-menu-flip="left-start, top">\n        <span class="material-icons pinIcon customIcon d-none" title="Pin to taskbar">\n            push_pin\n        </span>\n    </li>'),"modern"==iviewButtonStyle&&(toolbarHTML='<div class="card">\n            <div class="card-body py-5">\n                <div class="mh-450px scroll-y me-n5 pe-5">\n                    <div class="row g-2">\n                        '.concat(toolbarHTML+=e,"\n                    </div>\n                </div>\n            </div>\n        </div>")),"old"==iviewButtonStyle&&(toolbarHTML+=constructToolbarHTML(getFormattedToolbarJSON(toolbarJSON),!1)),$("#iconsUl").children().remove(),$("#iconsUl").append(toolbarHTML),requestJSON&&"old"!=iviewButtonStyle&&$("#myFiltersLi").css("display","none"),constuctDataButton(),$("#iconsNewUtility ul li:not(.d-none)").length>0?$("#iconsNewUtility").removeClass("d-none"):$("#iconsNewUtility").addClass("d-none"),requestJSON&&"old"!=iviewButtonStyle&&$("#iconsUl li ul").each(function(e,t){0==$(t).find("li").length&&$(t).parent("li").remove()});var t=0;requestJSON&&"old"!=iviewButtonStyle&&($("#iconsUl li").each(function(e,a){("none"==$(a).css("display")||$(a).hasClass("d-none"))&&t++}),$("#iconsUl li").length==t&&$("#iconsNewOption").addClass("d-none")),setPinedIconContainerWidth(),requestJSON&&"modern"==iviewButtonStyle&&($("#iconsExportUl, #iconsUl").removeClass("w-200px").addClass("w-100 w-sm-350px"),$("#iconsExportUl li, #iconsUl li").removeClass("menu-item px-3").addClass("col-4"),$("#iconsExportUl li a, #iconsUl li a").removeClass("menu-link px-3").addClass("d-flex flex-column flex-center text-center text-gray-800 text-hover-primary bg-hover-light rounded p-3 mb-3"),$("#iconsExportUl li a .dropdownIconUI, #iconsUl li a .dropdownIconUI").removeClass("symbol-25px me-5").addClass("symbol-40px"),$("#iconsExportUl li a .iconUITitle, #iconsUl li a .iconUITitle").addClass("mb-1")),requestJSON&&appGlobalVarsObject._CONSTANTS.compressedMode}function constructToolbarHTML(e,t){var a="";return requestJSON&&"old"!=iviewButtonStyle?e.forEach(function(e){e.isRoot?a+="undefined"!=typeof axToolbarRootGenerator&&axToolbarRootGenerator(e)||'\n                    <li class="menu-item px-3" data-kt-menu-trigger="hover" data-kt-menu-placement="right-start"\n                    data-kt-menu-flip="left-start, top">\n                        <span class="iconUIPin"><i class="fa fa-thumb-tack"></i></span>\n                        <span class="material-icons pinIcon customIcon d-none '.concat("inmemdb"==iName?"d-none":"",' " title="Pin to taskbar">push_pin</span>\n                        <a href="javascript:void(0)" id="').concat(e.key,'" class="menu-link px-3" title="').concat(finalCaption=getModernButtonIconInfo(e.groupName),'" data-close-others="true">\n                            <div class="menu-icon symbol ').concat("modern"==iviewButtonStyle?"symbol-40px":"symbol-25px",' symbol-circle me-5 dropdownIconUI">\n                                <span class="symbol-label bg-primary text-white fw-normal fs-3 iconUITitle">').concat(e.icon&&""!=e.icon&&getButtonIconHTML(e.icon)||getModernButtonIconInfo(e.groupName),'</span>\n                            </div>\n                            <span class="menu-title dropdownIconName text-break text-wrap">').concat(getModernButtonIconInfo(e.groupName,!1),'</span>\n                            \x3c!--<i class="fa fa-angle-down modernDropdownIcon" aria-hidden="true"></i>--\x3e\n                            <span class="menu-arrow"></span>\n                        </a>\n                        <ul class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary fw-bolder mh-450px scroll-y ').concat("modern"==iviewButtonStyle?"w-100 w-sm-350px py-4":"w-200px py-3",' ">\n                            ').concat("modern"==iviewButtonStyle?'<div class="col-12 d-flex flex-wrap">':"","\n                                ").concat(constructToolbarHTML(getFormattedToolbarJSON(e),!0),"\n                            ").concat("modern"==iviewButtonStyle?"</div>":"","\n                        </ul>\n                    </li>\n                    "):(e.href||e.onclick)&&(e=e.onclick&&"object"==_typeof(e.onclick)?Object.keys(e.onclick).map(function(t,a){var n=_objectSpread({},e);return n.onclick=n.onclick[t],n.caption=t.replace(/_/g," "),n.key=t.replace(/ /g,"_"),n}):[e]).forEach(function(e){a+="undefined"!=typeof axToolbarSingleNodeGenerator&&axToolbarSingleNodeGenerator(e,t)||((iconsNewLogicVar=iconsNewLogicFunction(e,t))&&iconsNewLogicVar?"":'\n                        <li class="menu-item px-3">\n                            <span class="iconUIPin"><i class="fa fa-thumb-tack"></i></span>\n                            <span class="material-icons pinIcon d-none customIcon '.concat("inmemdb"==iName?"d-none":"",' " title="Pin to taskbar">push_pin</span>\n                            <a onclick="').concat(e.onclick||"",'" id="btn_').concat(e.key,'" title="').concat(finalCaption=getModernButtonIconInfo(buttonNewTitle=e.caption||e.hint||e.key,!1),'" class="menu-link px-3" href="').concat(e.href||"",'">\n                                <div class="symbol ').concat("modern"==iviewButtonStyle?"symbol-40px":"symbol-25px",' symbol-circle me-5 dropdownIconUI">\n                                    <span class="symbol-label bg-primary text-white fw-normal fs-3 iconUITitle">').concat(e.icon&&""!=e.icon&&getButtonIconHTML(e.icon)||getModernButtonIconInfo(buttonNewTitle),'</span>\n                                </div>\n                                <span class="dropdownIconName text-break text-wrap">').concat(finalCaption,"</span>\n                            </a>\n                        </li>\n                    "))})}):e.forEach(function(e){e.isRoot?a+="undefined"!=typeof axToolbarRootGenerator&&axToolbarRootGenerator(e)||'\n                    <li class="btn btn-white btn-sm btn-color-gray-600 btn-active-primary shadow-sm me-2 menu-item menu menu-dropdown" data-kt-menu-trigger="click" data-kt-menu-placement="bottom-start">\n                        <a href="javascript:void(0)" id="'.concat(e.key,'" class="menu-link text-gray-600 text-hover-white p-0" title="').concat(e.groupName,'">\n                            <span class="tbIcon menu-icon ').concat(("undefined"==typeof e.icon||""==e.icon?"d-none":"")||"",'">').concat(e.icon&&""!=e.icon&&getButtonIconHTML(e.icon)||"",'</span>\n                            <span class="tbTitle menu-title">').concat(e.groupName,'</span>\n                            <span class="menu-arrow">\n                            </span>\n                        </a>\n                        <ul class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary fw-bold w-200px" data-kt-menu="true">\n                            ').concat(constructToolbarHTML(getFormattedToolbarJSON(e),!0),"\n                        </ul>\n                    </li>\n                    "):(e.href||e.onclick)&&(e=e.onclick&&"object"==_typeof(e.onclick)?Object.keys(e.onclick).map(function(t,a){var n=_objectSpread({},e);return n.onclick=n.onclick[t],n.caption=t.replace(/_/g," "),n.key=t.replace(/ /g,"_"),n}):[e]).forEach(function(e){a+="undefined"!=typeof axToolbarSingleNodeGenerator&&axToolbarSingleNodeGenerator(e,t)||'\n                        <li class="'.concat(t?"":"btn"," btn-white ").concat(t?"":"btn-sm"," btn-color-gray-600 btn-active-primary shadow-sm me-2 ").concat(t?"liTaskItems":"actionWrapper",' menu-item">\n                            <a onclick="').concat(e.onclick||"",'" id="btn_').concat(e.key,'" title="').concat(e.hint||e.caption||e.key,'" class="action singleaction handCur l2 text-gray-600 text-hover-white menu-link ').concat(t?"":"p-0",'" href="').concat(e.href||"",'">\n                            <span class="tbIcon menu-icon ').concat(("undefined"==typeof e.icon||""==e.icon?"d-none":"")||"",'">').concat(e.icon&&""!=e.icon&&getButtonIconHTML(e.icon)||"",'</span>\n                            <span class="tbTitle menu-title"> ').concat(e.caption||e.hint||e.key,"</span>\n                            </a>\n                        </li>\n                    ")})}),a}function widthOfList(){var e=0;return $("#viewTabs li").each(function(){var t=$(this).outerWidth();e+=t}),e}function widthOfHidden(){var e=0-$("#dvViewtabs").outerWidth(),t=$("#dvViewtabs").outerWidth()-widthOfList()-getLeftPosi()-scrollBarWidths;return e>t?e:t}function getLeftPosi(){var e=0-$("#dvViewtabs").outerWidth(),t=$("#viewTabs").position().left;return e>t?e:t}function reAdjust(){$("#dvViewtabs").outerWidth()<widthOfList()?$(".scroller-right").show():$(".scroller-right").hide(),getLeftPosi()<0?$(".scroller-left").show():($(".item").animate({left:"-="+getLeftPosi()+"px"},"slow"),$(".scroller-left").hide())}function scrollerRightClick(){$(".scroller-left").fadeIn("slow"),-widthOfHidden()<$("#dvViewtabs").outerWidth()&&$(".scroller-right").fadeOut("slow"),lastTabPos=$("#viewTabs > li:last").offset().left+$("#viewTabs > li:last").outerWidth(),lastTabPos>=$("#dvViewtabs").outerWidth()&&$("#viewTabs").animate({left:"+="+widthOfHidden()+"px"},"slow",function(){})}function scrollerLeftClick(){$(".scroller-right").fadeIn("slow"),$("#viewTabs").animate({left:"-="+getLeftPosi()+"px"},"slow",function(){reAdjust()})}function scrollToActiveView(e){var t=$("#"+e).offset().left+$("#"+e).outerWidth();$("#dvViewtabs").outerWidth()<t&&($("#viewTabs").animate({left:"-="+$("#"+e).offset().left+"px"},"slow",function(){}),$(".scroller-left").fadeIn("slow"))}function checkAllCheckBoxTokens(e,t){$(e).is(":checked")?($("#".concat(t," > option")).prop("selected","selected"),$("#".concat(t)).trigger("change").select2("close")):($("#".concat(t," > option")).prop("selected",""),$("#".concat(t)).trigger("change").select2("close"))}function iconsNewLogicFunction(e,t){return!isMobile&&("new"==e.key&&e.href&&0==e.href.indexOf("javascript:callOpenAction('opentstruct'")?($("#iconsNewNew").removeClass("d-none"),$("#iconsNewNew a").attr("href",e.href),!0):"delete"==e.key&&e.href&&0==e.href.indexOf("javascript:callDelete('")?($("#iconsNewRemove").removeClass("d-none"),$("#iconsNewRemove a").attr("href",e.href),!0):(thisHref=e.href&&0==e.href.indexOf("javascript:toHTML(")&&e.href||e.onclick&&0==e.onclick.indexOf("javascript:toHTML(")&&e.onclick)?($("#iconsExportPrint").removeClass("d-none").find("a").attr("href",thisHref),!0):(thisHref=e.href&&0==e.href.indexOf("javascript:toPDF(")&&e.href||e.onclick&&0==e.onclick.indexOf("javascript:toPDF(")&&e.onclick)?($("#iconsExportPdf").removeClass("d-none").find("a").attr("href",thisHref),!0):(thisHref=e.href&&0==e.href.indexOf("javascript:toExcelWeb(")&&e.href||e.onclick&&0==e.onclick.indexOf("javascript:toExcelWeb(")&&e.onclick)?($("#iconsExportExcel").removeClass("d-none").find("a").attr("href",thisHref),!0):(thisHref=e.href&&0==e.href.indexOf("javascript:SetDatatableExport(")&&e.href||e.onclick&&0==e.onclick.indexOf("javascript:SetDatatableExport(")&&e.onclick)?($("#iconsExportHTML,#iconsExporJSON,#iconsExportCopy,#iconsExportWord").removeClass("d-none"),!0):void 0)}function setIviewNotificationInfo(e){if(requestJSON){showAlertDialog("info",appGlobalVarsObject.lcm[491]),updateSessionVar=callParentNew("updateSessionVar");var t;t=$(".viewtabEdit").parents("li a.active").find(".viewtabEdit").data("name")||"main";var a={};a.params=$("#hdnparamValues").val(),a.type=exportType,a.headrow=ivHeadRows,a.viewName=t,"function"==typeof updateSessionVar&&updateSessionVar("iview-"+iName+"-"+e.dataId,JSON.stringify(a))}else showAlertDialog("warning",3006,"client")}function getParamsValueList(){var e={};return parentArr.forEach(function(t,a){switch(typeArr[a].toLowerCase()){case"select":e[t]={type:typeArr[a],value:$("#"+t+" option").map(function(){return $(this).val()}).get().filter(function(e){return""!=e}).join("`")};break;case"multi select":e[t]={type:typeArr[a],value:$("#"+t).attr("data-valuelist")}}}),0==Object.keys(e).length&&(e=""),e}function setParamsValueList(e,t,a){var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"",r=arguments.length>4&&arguments[4]!==undefined?arguments[4]:[],o=document.getElementById(e);switch(t.toLowerCase()){case"select":var l=0;if(o.options.length=0,a.length<1)o.options[0]=new Option(appGlobalVarsObject.lcm[441],0),n=1;else for(n=0,l=0;l<a.length;l++)0==l&&(o.options[n]=new Option(appGlobalVarsObject.lcm[441],""),o.options[n].title="",n++),o.options[n]=new Option(a[l],a[l]),i==a[l]&&(o.options[n].selected=!0),o.options[n].title=a[l],r[l]&&r[l].forEach(function(e){var t,a=null===(t=Object.keys(e))||void 0===t?void 0:t[0];$(o.options[n]).data(a,e[a])}),n++;break;case"multi select":if(requestJSON){var s=a.join("`");if($(o).hasClass("trySelectMs")){try{$(o).data("bs.tokenfield")?$(o).tokenfield("setTokens",[]):$(o).val("")}catch(p){}$(o).attr("data-valuelist",s).data("valuelist",s);var c=_toConsumableArray(new Set($(o).data("valuelist").split($(o).data("separator")))).filter(function(e){return""!=e});$(o).empty(),c.forEach(function(e,t){return $(o).append(new Option(e,e,!0,!1))}),$(o).trigger("change")}}else{l=0;$(o).parent().next().html("");var d="";for(l=0;l<a.length;l++)d+="<span><input type='checkbox' id='".concat(e,"' class='chkAllList chkShwSel' onclick='UncheckChkAll(this);' value='").concat(a[l],"'/>").concat(a[l],"</span></br>");$(o).parent().next().html(d)}}}function showParamsPlaceholder(){}function processIvConfiguration(e){try{trimIviewData="true"==getCaseInSensitiveJsonProperty(e.filter(function(e,t){var a=getCaseInSensitiveJsonProperty(e,"PROPS");return a&&a.toString()&&"trim iview data"==a.toString().toLowerCase()})[0],["PROPSVAL"]).toString().toLowerCase()}catch(t){}try{resolveAttachmentPath="true"==getCaseInSensitiveJsonProperty(e.filter(function(e,t){var a=getCaseInSensitiveJsonProperty(e,"PROPS");return a&&a.toString()&&"resolve attachment path"==a.toString().toLowerCase()})[0],["PROPSVAL"]).toString().toLowerCase()}catch(t){}try{showColumnSeparator="true"==getCaseInSensitiveJsonProperty(e.filter(function(e,t){var a=getCaseInSensitiveJsonProperty(e,"PROPS");return a&&a.toString()&&"column separator for reports"==a.toString().toLowerCase()})[0],["PROPSVAL"]).toString().toLowerCase()}catch(t){}try{iviewButtonStyle=getCaseInSensitiveJsonProperty(e.filter(function(e,t){var a=getCaseInSensitiveJsonProperty(e,"PROPS");return a&&a.toString()&&"iview button style"==a.toString().toLowerCase()})[0],["PROPSVAL"]).toString().toLowerCase()}catch(t){}try{searchHiddenColumnsInReports="true"==getCaseInSensitiveJsonProperty(e.filter(function(e,t){var a=getCaseInSensitiveJsonProperty(e,"PROPS");return a&&a.toString()&&"search hidden columns in reports"==a.toString().toLowerCase()})[0],["PROPSVAL"]).toString().toLowerCase()}catch(t){}try{unselectReportRowOnAction="true"==getCaseInSensitiveJsonProperty(e.filter(function(e,t){var a=getCaseInSensitiveJsonProperty(e,"PROPS");return a&&a.toString()&&"clear selected report rows after task execution"==a.toString().toLowerCase()})[0],["PROPSVAL"]).toString().toLowerCase()}catch(t){}try{openFastReportInNewWindow="true"==getCaseInSensitiveJsonProperty(ivConfigurations.filter(function(e,t){var a=getCaseInSensitiveJsonProperty(e,"PROPS");return a&&a.toString()&&"open fast report in new window"==a.toString().toLowerCase()})[0],["PROPSVAL"]).toString().toLowerCase()}catch(t){}try{splitRatio=getCaseInSensitiveJsonProperty(ivConfigurations.filter(function(e,t){var a=getCaseInSensitiveJsonProperty(e,"PROPS");return a&&a.toString()&&"split ratio"==a.toString().toLowerCase()})[0],["PROPSVAL"]).toString().toLowerCase()||splitRatio}catch(t){}splitRatio&&(appGlobalVarsObject.splitRatio=splitRatio);try{(variableColumnWidth="true"==getCaseInSensitiveJsonProperty(ivConfigurations.filter(function(e,t){var a=getCaseInSensitiveJsonProperty(e,"PROPS");return a&&a.toString()&&"auto column width for report based on data"==a.toString().toLowerCase()})[0],["PROPSVAL"]).toString().toLowerCase())&&(responsiveColumnWidth=!0,iviewWrap=!1)}catch(t){}try{stripedReport="true"==getCaseInSensitiveJsonProperty(ivConfigurations.filter(function(e,t){var a=getCaseInSensitiveJsonProperty(e,"PROPS");return a&&a.toString()&&"striped reports ui"==a.toString().toLowerCase()})[0],["PROPSVAL"]).toString().toLowerCase()}catch(t){}try{pdfExportAllLanguageSupport="true"==getCaseInSensitiveJsonProperty(ivConfigurations.filter(function(e,t){var a=getCaseInSensitiveJsonProperty(e,"PROPS");return a&&a.toString()&&"unicode support for pdf export"==a.toString().toLowerCase()})[0],["PROPSVAL"]).toString().toLowerCase()}catch(t){}try{exportPerf="enable"==getCaseInSensitiveJsonProperty(ivConfigurations.filter(function(e,t){var a=getCaseInSensitiveJsonProperty(e,"PROPS");return a&&a.toString()&&"excel export with formatting"==a.toString().toLowerCase()})[0],["PROPSVAL"]).toString().toLowerCase()}catch(t){}try{axhideselectallmulti="true"==getCaseInSensitiveJsonProperty(ivConfigurations.filter(function(e,t){var a=getCaseInSensitiveJsonProperty(e,"PROPS");return a&&a.toString()&&"hide select all option in multiselect component"==a.toString().toLowerCase()})[0],["PROPSVAL"]).toString().toLowerCase()}catch(t){}if(isMobile)try{enableCardsUi=!("true"==getCaseInSensitiveJsonProperty(e.filter(function(e,t){var a=getCaseInSensitiveJsonProperty(e,"PROPS");return a&&a.toString()&&"mobile reports as table"==a.toString().toLowerCase()})[0],["PROPSVAL"]).toString().toLowerCase())}catch(t){}try{subtoaltColor="true"==getCaseInSensitiveJsonProperty(ivConfigurations.filter(function(e,t){var a=getCaseInSensitiveJsonProperty(e,"PROPS");return a&&a.toString()&&"set iview subtotal default color as axpert desktop"==a.toString().toLowerCase()})[0],["PROPSVAL"]).toString().toLowerCase()}catch(t){}try{grandtoaltColor="true"==getCaseInSensitiveJsonProperty(ivConfigurations.filter(function(e,t){var a=getCaseInSensitiveJsonProperty(e,"PROPS");return a&&a.toString()&&"set iview grand total default color as axpert desktop"==a.toString().toLowerCase()})[0],["PROPSVAL"]).toString().toLowerCase()}catch(t){}}function getModernButtonIconInfo(e){var t=!(arguments.length>1&&arguments[1]!==undefined)||arguments[1],a=e.split("&").reduce(function(e,t){var a=t.length>0?t[0]:"";return""!=a&&" "!=a&&(e=a),e},"A");return t?a:e.replace("&"+a,a)}function getButtonIconHTML(e){return"object"==_typeof(e)?'<span class="'.concat(e.addClass.replace("material-icons","material-icons material-icons-style material-icons-3"),'">').concat(e.text,"</span>"):'<img src="'.concat(e,'" class="menuIcon">')}function setPinedIconContainerWidth(){var e=$("#breadcrumb").outerWidth(!0)+$(".toolbarRightMenu").outerWidth(!0)+50;"undefined"!=typeof isAxpertPopup&&isAxpertPopup&&(e+=35),$(".modernButtonOptions #pinnedsearchBar").css({width:"calc(100vw - ".concat(e,"px)"),"max-width":"calc(100vw - ".concat(e,"px)")});var t=$("#pinnediconsUl").outerWidth(!0),a=0;$("ul#pinnediconsUl").children("li").each(function(){if((a+=$(this).outerWidth(!0))>t)return $(this).hide(),$(this).nextAll().hide(),!1;$(this).show(),$(this).nextAll().show()})}function confirmRespDelete(){if(0==getselectedResp())return showAlertDialog("warning",appGlobalVarsObject.lcm[85]),!1;var e="ar"==callParentNew("gllangType"),t=$.confirm({theme:"modern",title:appGlobalVarsObject.lcm[155],onContentReady:function(){disableBackDrop("bind"),$(".jconfirm-buttons button").each(function(){var e=$(this).text();$(this).prop("title",e.charAt(0).toUpperCase()+e.slice(1))}),$(".jconfirm-buttons .hotbtn").focus()},backgroundDismiss:"false",rtl:e,escapeKey:"buttonB",content:appGlobalVarsObject.lcm[87],buttons:{buttonA:{text:appGlobalVarsObject.lcm[248],btnClass:"btn btn-primary",action:function(){disableBackDrop("destroy"),deleteResponsibilities()}},buttonB:{text:appGlobalVarsObject.lcm[192],btnClass:"btn btn-bg-light btn-color-danger btn-active-light-danger",action:function(){return t.close(),disableBackDrop("destroy"),!1}}}})}function getselectedResp(){totalResSelected=0;$("#GridView1 td:nth-child(1) input[type='checkbox']");var e=document.getElementById("GridView1").getElementsByTagName("input");return $("#chkall").is(":checked")?1==e.length?totalResSelected=0:totalResSelected="All":ivirDataTableApi.column(0).nodes().to$().each(function(e){$(this).find("input[type='checkbox']").prop("checked")&&totalResSelected++}),0!=totalResSelected}function deleteResponsibilities(){var e="";ivirDataTableApi.column(1).nodes().to$().each(function(t){$(this).siblings().find("input[type='checkbox']").prop("checked")&&(e+=$(this).find("a").text()+",")}),e=e.substr(0,e.length-1),$.ajax({type:"POST",url:"../aspx/Responsibilities.aspx/DeleteResponsibilities",contentType:"application/json;charset=utf-8",data:'{selectedResp:"'+e+'"}',dataType:"json",success:function(e){"Success"==e.d?(showAlertDialog("success","Responsibility deleted successfully"),setTimeout(function(){window.location.href=window.location.href},1e3)):"SessionExpiry"==e.d?parent.window.location.href="../aspx/sess.aspx":"Error"==e.d?window.location.href="../aspx/err.aspx":(showAlertDialog("warning",e.d),setTimeout(function(){window.location.href=window.location.href},1e3)),$("#chkall").prop("checked",!1),ShowDimmer(!1)}})}function requestTstructFieldsObj(){isListView&&""==$("#hdnListViewFieldsJSON").val()&&!tstFldsRequested&&(tstFldsRequested=!1,$.ajax({url:"iview.aspx/GetTstructFieldsForListView",type:"POST",cache:!1,async:!1,contentType:"application/json",dataType:"json",data:JSON.stringify({iName:iName}),success:function(e){try{if(e&&e.d){e=e.d;var t=JSON.parse(e),a=t.dcs.reduce(function(e,t){return e[t.frameno]={index:t.frameno,name:t.name,caption:t.caption,isGrid:t.isgrid,fields:[]},e},{});t.flds.forEach(function(e){a[e.fldframeno]&&a[e.fldframeno].fields&&a[e.fldframeno].fields.push({index:e.order,name:e.name,caption:e.caption,dcNo:e.fldframeno,isGridField:a[e.fldframeno].isGrid,save:e.savevalue,visible:!e.visibility,length:e.fldlength,component:e.ctype})}),$("#hdnListViewFieldsJSON").val(JSON.stringify(a))}}catch(n){$("#hdnListViewFieldsJSON").val("")}},failure:function(e){},error:function(e){}}))}function difference(e,t){return function a(e,t){return _.transform(e,function(e,n,i){_.isEqual(n,t[i])||(e[i]=_.isObject(n)&&_.isObject(t[i])?a(n,t[i]):n)})}(e,t)}function createSmartSelect(e){$(e).select2({allowClear:!0,placeholder:appGlobalVarsObject.lcm[441]}).on("select2:open",function(e){_extendSelect2OpenOptions(e)})}function createSmartSelectDF(e){var t=$(e),a=!0,n="",i={allowClear:!0,placeholder:appGlobalVarsObject.lcm[441]};t.select2(i).on("select2:open",function(e){var t,n=null===(t=$(e.currentTarget).data("select2"))||void 0===t?void 0:t.$dropdown;a?($(n).removeClass("opacity-0").addClass("opacity-100"),_extendSelect2OpenOptions(e)):$(n).removeClass("opacity-100").addClass("opacity-0")}).on("select2:select",function(e){""!=n&&GetParamValues("clear")}).on("select2:unselect",function(e){n=""}).on("select2:clear",function(e){n=""}),$(document).off("click",".selectDfIcon").on("click",".selectDfIcon",function(e){if(13==e.originalEvent.keyCode&&"keypress"==e.originalEvent.type||"click"==e.originalEvent.type){var t=$(e.currentTarget).data("id");ShowDimmer(!0);try{n=""!=$("#".concat(t)).parent().find(".selection textarea").val()?$("#".concat(t)).parent().find(".selection textarea").val():void 0!==$("#".concat(t)).find("option")&&""!=$("#".concat(t)).find("option").val()&&void 0!==$("#".concat(t)).val()&&0==$("#".concat(t)).val().length&&""==$("#".concat(t)).val()[0]?$("#".concat(t)).find("option").val():"",plpageNo=1,GetParamValues("clear"),setTimeout(function(){plpageNo<=1&&($("#".concat(t," option")).remove(),$("#".concat(t)).select2({data:[]})),$.ajax({async:!1,cache:!1,contentType:"application/json;charset=utf-8",dataType:"json",type:"POST",url:"../aspx/iview.aspx/GetIviewPickListData",data:JSON.stringify({iviewName:iName,pageNo:plpageNo++,pageSize:100,fieldName:t,fieldValue:n||"",depParamVal:$("#hdnparamValues").val()}),success:function(r){try{if(CheckSessionTimeout(r.d))return void ShowDimmer(!1);if(r.d.toLowerCase().indexOf('"error":')>-1)return showAlertDialog("error",appGlobalVarsObject.lcm[10]),void ShowDimmer(!1);var o=JSON.parse(r.d.replace(/@/g,""));if(null!=o.sqlresultset.response){if("undefined"!=typeof o.sqlresultset.response.totalrows&&(r.total_count=+o.sqlresultset.response.totalrows||10),o.sqlresultset.response.row.length==undefined&&(o.sqlresultset.response.row=[o.sqlresultset.response.row]),r.items=[],r.items=o.sqlresultset.response.row.map(function(e,t){var a=$("<span>".concat(e[Object.keys(e)[0]]["#text"],"</span>")).text();return{id:a,text:a,row:e}}),""!=n){var l={id:n,text:n,tag:!0},s=new Option(l.text,l.id,!1,!1);$("#".concat(t)).append(s).trigger("change")}i.data=r.items||[]}else null==o.sqlresultset.response&&(i.data=[{id:n,text:n}]);a=!0,$("#".concat(t)).select2(i),$("#".concat(t)).select2("close"),$("#".concat(t)).select2("open"),13==e.originalEvent.keyCode&&"keypress"==e.originalEvent.type?($("#".concat(t)).parent().find(".selection textarea").val(""),$("#".concat(t)).parent().find(".selection textarea").addClass("w-100")):($("#".concat(t)).parent().find(".selection textarea").val(n),$("#".concat(t)).parent().find(".selection textarea").addClass("w-100")),ShowDimmer(!1)}catch(c){showAlertDialog("error",c.message),ShowDimmer(!1)}},error:function(e){showAlertDialog("error",appGlobalVarsObject.lcm[10]),ShowDimmer(!1)},failure:function(e){showAlertDialog("error",appGlobalVarsObject.lcm[10]),ShowDimmer(!1)}})},0)}catch(r){showAlertDialog("error",r.message),ShowDimmer(!1)}}})}$(document).on("keydown","input[type='text'],input[type='search'],input[type='radio'],input[type='checkbox']",function(e){13==e.keyCode&&e.preventDefault(),13==e.keyCode&&0!==$(e.target).parents("#Filterscollapse").length&&0==$(e.target).parents(".paramtd2.picklist").length&&($(e.target).is("input:text")&&$(e.target).blur(),$("#button1").click())});var plpageNo=1;function createPlSmartSelect(e){var t=$(e),a=!1,n="",i={allowClear:!0,maximumSelectionLength:1,multiple:!0,placeholder:appGlobalVarsObject.lcm[441],tags:!0,createTag:function(e){var t=e.term.trim();return t,""===t?null:{id:t,text:t,tag:!0}}};t.select2(i).on("select2:open",function(e){var t,n=null===(t=$(e.currentTarget).data("select2"))||void 0===t?void 0:t.$dropdown;a?(a=!1,$(n).removeClass("opacity-0").addClass("opacity-100"),_extendSelect2OpenOptions(e)):$(n).removeClass("opacity-100").addClass("opacity-0")}).on("select2:select",function(e){""!=n&&GetParamValues("clear")}).on("select2:unselect",function(e){n=""}).on("select2:clear",function(e){n=""}),$(document).off("click",".pickListddlIcon").on("click",".pickListddlIcon",function(e){if(13==e.originalEvent.keyCode&&"keypress"==e.originalEvent.type||"click"==e.originalEvent.type){plId=$(e.currentTarget).data("id"),ShowDimmer(!0);try{n=$("#".concat(plId)).find("option[data-select2-tag=true]")!=undefined&&0!=$("#".concat(plId)).find("option[data-select2-tag=true]").length?$("#".concat(plId)).find("option[data-select2-tag=true]").val():""!=$("#".concat(plId)).parent().find(".selection textarea").val()?$("#".concat(plId)).parent().find(".selection textarea").val():void 0!==$("#".concat(plId)).find("option")&&""!=$("#".concat(plId)).find("option").val()&&void 0!==$("#".concat(plId)).val()&&0==$("#".concat(plId)).val().length&&""==$("#".concat(plId)).val()[0]?$("#".concat(plId)).find("option").val():"",plpageNo=1,GetParamValues("clear"),setTimeout(function(){$("#".concat(plId," option")).remove(),$("#".concat(plId)).select2({data:[]}),$.ajax({async:!1,cache:!1,contentType:"application/json;charset=utf-8",dataType:"json",type:"POST",url:"../aspx/iview.aspx/GetIviewPickListData",data:JSON.stringify({iviewName:iName,pageNo:plpageNo++,pageSize:100,fieldName:plId,fieldValue:n||"",depParamVal:$("#hdnparamValues").val()}),success:function(t){try{if(CheckSessionTimeout(t.d))return void ShowDimmer(!1);if(t.d.toLowerCase().indexOf('"error":')>-1)return showAlertDialog("error",appGlobalVarsObject.lcm[10]),void ShowDimmer(!1);var r=JSON.parse(t.d.replace(/@/g,""));if(null!=r.sqlresultset.response){if("undefined"!=typeof r.sqlresultset.response.totalrows&&(t.total_count=+r.sqlresultset.response.totalrows||10),r.sqlresultset.response.row.length==undefined&&(r.sqlresultset.response.row=[r.sqlresultset.response.row]),t.items=[],t.items=r.sqlresultset.response.row.map(function(e,t){var a=$("<span>".concat(e[Object.keys(e)[0]]["#text"],"</span>")).text();return{id:a,text:a,row:e}}),""!=n){var o={id:n,text:n,tag:!0},l=new Option(o.text,o.id,!1,!1);$("#".concat(plId)).append(l).trigger("change")}i.data=t.items||[]}else null==r.sqlresultset.response&&(i.data=[{id:n,text:n,tag:!0}]);a=!0,$("#".concat(plId)).select2(i),$("#".concat(plId)).select2("close"),$("#".concat(plId)).select2("open"),13==e.originalEvent.keyCode&&"keypress"==e.originalEvent.type?($("#".concat(plId)).parent().find(".selection textarea").val(""),$("#".concat(plId)).parent().find(".selection textarea").addClass("w-100")):($("#".concat(plId)).parent().find(".selection textarea").val(n),$("#".concat(plId)).parent().find(".selection textarea").addClass("w-100")),ShowDimmer(!1)}catch(s){showAlertDialog("error",s.message),ShowDimmer(!1)}},error:function(e){showAlertDialog("error",appGlobalVarsObject.lcm[10]),ShowDimmer(!1)},failure:function(e){showAlertDialog("error",appGlobalVarsObject.lcm[10]),ShowDimmer(!1)}})},0)}catch(t){showAlertDialog("error",t.message),ShowDimmer(!1)}}}),$(document).off("keyup",".select2-search__field"),$(document).on("keyup",".select2-search__field",function(e){if(40==e.keyCode&&1==e.ctrlKey&&$(e.currentTarget).parents(".pick-list").find("select.trySelectPl").length>0){plId=$(e.currentTarget).parents(".pick-list").find("select.trySelectPl").attr("id"),ShowDimmer(!0);try{n=$("#".concat(plId)).find("option[data-select2-tag=true]")!=undefined&&0!=$("#".concat(plId)).find("option[data-select2-tag=true]").length?$("#".concat(plId)).find("option[data-select2-tag=true]").val():""!=$("#".concat(plId)).parent().find(".selection textarea").val()?$("#".concat(plId)).parent().find(".selection textarea").val():void 0!==$("#".concat(plId)).find("option")&&""!=$("#".concat(plId)).find("option").val()&&void 0!==$("#".concat(plId)).val()&&0==$("#".concat(plId)).val().length&&""==$("#".concat(plId)).val()[0]?$("#".concat(plId)).find("option").val():"",plpageNo=1,GetParamValues("clear"),setTimeout(function(){$("#".concat(plId," option")).remove(),$("#".concat(plId)).select2({data:[]}),$.ajax({async:!1,cache:!1,contentType:"application/json;charset=utf-8",dataType:"json",type:"POST",url:"../aspx/iview.aspx/GetIviewPickListData",data:JSON.stringify({iviewName:iName,pageNo:plpageNo++,pageSize:10,fieldName:plId,fieldValue:n||"",depParamVal:$("#hdnparamValues").val()}),success:function(e){try{if(CheckSessionTimeout(e.d))return void ShowDimmer(!1);if(e.d.toLowerCase().indexOf('"error":')>-1)return showAlertDialog("error",appGlobalVarsObject.lcm[10]),void ShowDimmer(!1);var t=JSON.parse(e.d.replace(/@/g,""));if(null!=t.sqlresultset.response){if("undefined"!=typeof t.sqlresultset.response.totalrows&&(e.total_count=+t.sqlresultset.response.totalrows||10),t.sqlresultset.response.row.length==undefined&&(t.sqlresultset.response.row=[t.sqlresultset.response.row]),e.items=t.sqlresultset.response.row.map(function(e,t){var a=$("<span>".concat(e[Object.keys(e)[0]]["#text"],"</span>")).text();return{id:a,text:a,row:e}}),""!=n){var r={id:n,text:n,tag:!0},o=new Option(r.text,r.id,!1,!1);$("#".concat(plId)).append(o).trigger("change")}i.data=e.items||[]}else null==t.sqlresultset.response&&(i.data=[{id:n,text:n,tag:!0}]);a=!0,$("#".concat(plId)).select2(i),$("#".concat(plId)).select2("close"),$("#".concat(plId)).select2("open"),$("#".concat(plId)).parent().find(".selection textarea").val(""),$("#".concat(plId)).parent().find(".selection textarea").addClass("w-100"),ShowDimmer(!1)}catch(l){showAlertDialog("error",l.message),ShowDimmer(!1)}},error:function(e){showAlertDialog("error",appGlobalVarsObject.lcm[10]),ShowDimmer(!1)},failure:function(e){showAlertDialog("error",appGlobalVarsObject.lcm[10]),ShowDimmer(!1)}})},0)}catch(t){showAlertDialog("error",t.message),ShowDimmer(!1)}}})}function createMsSmartSelect(e){$(e)!=undefined&&$(e).length>0&&$(e).each(function(e,t){var a,n=$(t),i=_toConsumableArray(new Set(null===(a=$(t).data("valuelist"))||void 0===a?void 0:a.split($(t).data("separator")))).filter(function(e){return""!=e}),r=$.map(i,function(e,t){return{id:e,text:e}});n.select2({allowClear:!0,data:r,placeholder:appGlobalVarsObject.lcm[441],selectionCssClass:":all:d-flex pe-10 mh-65px overflow-auto ms-render"}).on("select2:open",function(e){var a,n=null===(a=$(e.currentTarget).data("select2"))||void 0===a?void 0:a.$dropdown,r=0;if(0!=(i=_toConsumableArray(new Set($(t).data("valuelist").split($(t).data("separator")))).filter(function(e){return""!=e})).length){if(0==n.find(".select2-results").find(".msSelectAllOption").length&&!axhideselectallmulti){var o='<div class="msSelectAllOption form-check form-check-custom form-check-solid align-self-end px-5">\n                            <input type="checkbox" class="form-check-input msSelectAll" onchange="checkAllCheckBoxTokens(this, \''.concat($(e.currentTarget).attr("id"),'\')"/>\n                            <label for="SelectAll" class="ps-2 form-check-label form-label col-form-label pb-1 fw-boldest">\n                                Select All\n                            </label>\n                        </div>');n.find(".select2-results").append(o)}n.find(".select2-results").find(".select2-results__options li:not(.select2-results__option--disabled.loading-results)").each(function(e,t){$(t).hasClass("select2-results__option--selected")&&r++}),n.find(".select2-results").find(".select2-results__options li:not(.select2-results__option--disabled.loading-results)").length==r&&r>0?n.find(".select2-results").find(".msSelectAllOption > .msSelectAll").prop("checked",!0):n.find(".select2-results").find(".select2-results__options li:not(.select2-results__option--disabled.loading-results)").length!=r&&n.find(".select2-results").find(".msSelectAllOption > .msSelectAll").is(":checked")&&n.find(".select2-results").find(".msSelectAllOption > .msSelectAll").prop("checked",!1)}}).on("select2:unselecting",function(e){$(e.currentTarget.childNodes).removeAttr("selected")}),n.parent().find(".ms-render .select2-selection__rendered").addClass("text-wrap text-break p-0")})}function _extendSelect2OpenOptions(e){var t,a,n,i=null===(t=$(e.currentTarget).data("select2"))||void 0===t?void 0:t.$dropdown,r=null===(a=$(e.currentTarget).data("select2"))||void 0===a?void 0:null===(n=a.$element[0])||void 0===n?void 0:n.id,o='<div class="d-flex gap-2 px-5 pt-2 dd-opt">';$(e.currentTarget).hasClass("trySelectPl")||(o+='<a class="btn btn-sm btn-icon btn-white btn-color-gray-600 btn-active-primary shadow-sm  d-none111" id="refreshParam'.concat(r,'" title="Refresh Parameter" data-refresh="').concat(r,'">\n            <span class="material-icons material-icons-style material-icons-1">refresh</span>\n        </a>')),o+='<a class="btn btn-sm btn-icon btn-white btn-color-gray-600 btn-active-primary shadow-sm" id="advSearch'.concat(r,'" title="Advance Search" data-advsearch="').concat(r,'" onclick="javascript:CallSearchOpen(').concat(r,');">\n            <span class="material-icons material-icons-style material-icons-1">search</span>\n        </a>           \n        <a class="btn btn-sm btn-icon btn-white btn-color-gray-500 btn-active-primary shadow-sm ms-auto" id="copySelVal').concat(r,'" title="Copy Selected Value" data-copy="').concat(r,'">\n            <span class="material-icons material-icons-style material-icons-2">copy</span>\n        </a>\n    </div>'),0==i.find(".select2-results > .dd-opt").length&&(i.find(".select2-results").append(o),$(document).off("click","#refreshParam".concat(r)).on("click","#refreshParam".concat(r),function(e){try{callParentNew("loadFrame()","function");var t=$(e.currentTarget).data("refresh");ParamRefreshClick($("#".concat(t))),e.preventDefault()}catch(a){callParentNew("closeFrame()","function")}}),$(document).off("click","#copySelVal".concat(r)).on("click","#copySelVal".concat(r),function(e){try{var t=$("#".concat($(e.currentTarget).data("copy"))).val();null!=t?navigator.clipboard.writeText(t):navigator.clipboard.writeText("")}catch(n){if("undefined"==typeof navigator.clipboard&&null!=$("#".concat($(e.currentTarget).data("copy"))).val()){var a=document.createElement("textarea");a.value=$("#".concat($(e.currentTarget).data("copy"))).val(),document.body.prepend(a),a.select();try{document.execCommand("copy")}catch(i){}finally{a.remove()}}else"undefined"!=typeof navigator.clipboard&&navigator.clipboard.writeText("")}}))}function ParamRefreshClick(e){curPageNo=1;var t=e.attr("id"),a="",n=t.split("~");a=-1!=t.indexOf("~")?n[1].toString():n[0].toString();var i=$j("#"+a),r=i.val();e.hasClass("trySelectPl")&&(r=i.val()[0]),plname=a,plvalue=r,plpageNo=0,plpagesize=0,objid=t;CallSelectRefreshParam(plname,plvalue,plpageNo,plpagesize,objid,"true")}function CallSelectRefreshParam(e,t,a,n,i,r){ShowDimmer(!0),initialSrchVal=t,GetParamValues("clear"),$j.ajax({type:"POST",url:"../aspx/iview.aspx/GetIviewSelectData",contentType:"application/json;charset=utf-8",data:'{iviewName: "'+iName+'",pageNo: "'+a+'",pageSize: "'+n+'",fieldName :"'+e+'",fieldValue :"'+t+'",depParamVal:"'+$j("#hdnparamValues").val()+'",clearPCache:"'+r+'"}',dataType:"json",success:function(e){if(CheckSessionTimeout(e.d))ShowDimmer(!1);else if(e.d.toLowerCase().indexOf('"error":')>-1)showAlertDialog("error",appGlobalVarsObject.lcm[10]),ShowDimmer(!1);else try{var t,a=JSON.parse(e.d.replace(/@/g,""));if($("#".concat(i)).empty(),$("#".concat(i)).select2({data:[]}),null==a.sqlresultset.response)t={results:"",noResults:"No data found"};else if(a.sqlresultset.response.row.length!=undefined){t=$.map(a.sqlresultset.response.row,function(e){var t=e[Object.keys(e)[0]]["#text"];return{id:t=paramsSplCharsCheck(t),text:t}})}else if(a.sqlresultset.response.row!=undefined){t=$.map(a.sqlresultset.response.row,function(e){var t=e["#text"];return{id:t=paramsSplCharsCheck(t),text:t}})}e={id:"",text:"--Select--"};var n=new Option(e.text,e.id,!1,!1);$("#".concat(i)).append(n).trigger("change"),$("#".concat(i)).select2({data:t}),$("#".concat(i)).select2("close"),createSmartSelect("#".concat(i)),$("#".concat(i)).select2("open"),ShowDimmer(!1),AxWaitCursor(!1)}catch(r){ShowDimmer(!1),AxWaitCursor(!1)}},failure:function(e){showAlertDialog("error",appGlobalVarsObject.lcm[10]),ShowDimmer(!1),AxWaitCursor(!1)},error:function(e){showAlertDialog("error",appGlobalVarsObject.lcm[10]),ShowDimmer(!1),AxWaitCursor(!1)}})}function refreshIview(e){try{var t=top.window.location.href.toLowerCase().substring("0",top.window.location.href.indexOf("/aspx/")),a=JSON.parse(localStorage["drilldownScrollInfo-"+t]||"{}");null==a||delete a[iName],localStorage["drilldownScrollInfo-"+t]=JSON.stringify(a)}catch(n){}ClearRedisDataCache(),"inmemdb"==iName||isListView||"hidden"==$("#hdnIsParaVisible").val()?(callParentNew("loadFrame()","function"),e.preventDefault(),window.location.reload()):""!=$j("#hdnparamValues").val()?(callParentNew("loadFrame()","function"),UpdateGetParamCache()):(e.preventDefault(),$("#Filterscollapse").collapse("show"))}function ClearRedisDataCache(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";try{$.ajax({type:"POST",url:"iview.aspx/ClearRedisDataCache",cache:!1,async:!1,contentType:"application/json",dataType:"json",data:JSON.stringify({iName:iName,calledFrom:e,isListView:isListView}),success:function(t){"refreshParams"==e&&ReloadIframe("iview.aspx?ivname=".concat(iName))},error:function(e){}})}catch(t){}}function downloadZipFile(){try{ShowDimmer(!0);var e={},t=$("input[name=chkItem]:checkbox:checked");t.length?t.each(function(t,a){var n,i=null!=ivirDataTableApi.cells(a.value-1,HeaderText.indexOf("axzipfilepath")).data()[0]?ivirDataTableApi.cells(a.value-1,HeaderText.indexOf("axzipfilepath")).data()[0]:"",r=null!=ivirDataTableApi.cells(a.value-1,HeaderText.indexOf("axzipfilename")).data()[0]?ivirDataTableApi.cells(a.value-1,HeaderText.indexOf("axzipfilename")).data()[0]:"",o=null!=ivirDataTableApi.cells(a.value-1,HeaderText.indexOf("axzipfiles")).data()[0].split(",")?ivirDataTableApi.cells(a.value-1,HeaderText.indexOf("axzipfiles")).data()[0].split(","):[],l=[];(""!=i||1==o.length&&""!=o[0])&&(!i.endsWith("\\")&&(i="".concat(i,"\\")),o.forEach(function(t,n){if(e[r]!=undefined&&e[r].filter(function(e){return e.split(/\\|\//g).pop()==t}).length){var o=-1!=HeaderText.indexOf("axzipprefix")&&null!=ivirDataTableApi.cells(a.value-1,HeaderText.indexOf("axzipprefix")).data()[0]?ivirDataTableApi.cells(a.value-1,HeaderText.indexOf("axzipprefix")).data()[0].trim():"",s=-1!=HeaderText.indexOf("axzipsuffix")&&null!=ivirDataTableApi.cells(a.value-1,HeaderText.indexOf("axzipsuffix")).data()[0]?ivirDataTableApi.cells(a.value-1,HeaderText.indexOf("axzipsuffix")).data()[0].trim():"";l.push("".concat(i+t,"?").concat(o,"&").concat(s))}else l.push(i+t)}),e[r]==undefined?e[r]=l:(n=e[r]).push.apply(n,l))}):showAlertDialog("warning","3001","client"),!$.isEmptyObject(e)&&ASB.WebService.GetZipPathForIviewAttachmentNew(JSON.stringify(e),InvokehdnDownloadButton,OnZipException),e={}}catch(a){ShowDimmer(!1),showAlertDialog("error",a.message)}}function InvokehdnDownloadButton(e){e.indexOf("Error:")>-1?(e=e.replace("Error:",""),showAlertDialog("error",e),ShowDimmer(!1)):($("body").append('<a id="hdnButtonInvokeDownload" target="_blank" class="hdnButtonInvokeDownload d-none" download href="'.concat(e,'"></a>')),$(".hdnButtonInvokeDownload:last")[0].click(),$(".hdnButtonInvokeDownload:last").remove(),ShowDimmer(!1))}function OnZipException(e){ShowDimmer(!1),showAlertDialog("error",e._message)}function paramsSplCharsCheck(e){return e==undefined||null==e?"":e=(e=e.replace(/&#94;/g,"^")).replace(/&#64;/g,"@")}function CheckParamNameSplChars(e){return e==undefined||null==e?"":e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/%/g,"%25")).replace(/#/g,"%23")).replace(/&/g,"%26")).replace(/'/g,"%27")).replace(/\"/g,"%22")).replace(/\+/g,"%2b")).replace(/</g,"%3C")).replace(/>/g,"%3E")).replace(/\\/g,"%5C")).replace(/ /g,"%20")).replace(/\[/g,"%5B")).replace(/\]/g,"%5D")}